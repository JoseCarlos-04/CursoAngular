var PS=Object.defineProperty,FS=Object.defineProperties;var LS=Object.getOwnPropertyDescriptors;var rc=Object.getOwnPropertySymbols,VS=Object.getPrototypeOf,by=Object.prototype.hasOwnProperty,Ty=Object.prototype.propertyIsEnumerable,jS=Reflect.get;var Dy=(t,e,n)=>e in t?PS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})by.call(e,n)&&Dy(t,n,e[n]);if(rc)for(var n of rc(e))Ty.call(e,n)&&Dy(t,n,e[n]);return t},V=(t,e)=>FS(t,LS(e));var Sy=(t,e)=>{var n={};for(var r in t)by.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&rc)for(var r of rc(t))e.indexOf(r)<0&&Ty.call(t,r)&&(n[r]=t[r]);return n};var br=(t,e,n)=>jS(VS(t),n,e);var m=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Ay(t,e){return Object.is(t,e)}var Te=null,ic=!1,oc=1,$n=Symbol("SIGNAL");function Q(t){let e=Te;return Te=t,e}function Ny(){return Te}var rs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function af(t){if(ic)throw new Error("");if(Te===null)return;Te.consumerOnSignalRead(t);let e=Te.nextProducerIndex++;if(lc(Te),e<Te.producerNode.length&&Te.producerNode[e]!==t&&ns(Te)){let n=Te.producerNode[e];cc(n,Te.producerIndexOfThis[e])}Te.producerNode[e]!==t&&(Te.producerNode[e]=t,Te.producerIndexOfThis[e]=ns(Te)?ky(t,Te,e):0),Te.producerLastReadVersion[e]=t.version}function US(){oc++}function My(t){if(!(ns(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===oc)){if(!t.producerMustRecompute(t)&&!lf(t)){t.dirty=!1,t.lastCleanEpoch=oc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=oc}}function Ry(t){if(t.liveConsumerNode===void 0)return;let e=ic;ic=!0;try{for(let n of t.liveConsumerNode)n.dirty||BS(n)}finally{ic=e}}function xy(){return Te?.consumerAllowSignalWrites!==!1}function BS(t){t.dirty=!0,Ry(t),t.consumerMarkedDirty?.(t)}function ac(t){return t&&(t.nextProducerIndex=0),Q(t)}function cf(t,e){if(Q(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ns(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function lf(t){lc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(My(n),r!==n.version))return!0}return!1}function uf(t){if(lc(t),ns(t))for(let e=0;e<t.producerNode.length;e++)cc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ky(t,e,n){if(Oy(t),t.liveConsumerNode.length===0&&Py(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ky(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function cc(t,e){if(Oy(t),t.liveConsumerNode.length===1&&Py(t))for(let r=0;r<t.producerNode.length;r++)cc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];lc(i),i.producerIndexOfThis[r]=e}}function ns(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function lc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Oy(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Py(t){return t.producerNode!==void 0}function Fy(t){let e=Object.create($S);e.computation=t;let n=()=>{if(My(e),af(e),e.value===sc)throw e.error;return e.value};return n[$n]=e,n}var of=Symbol("UNSET"),sf=Symbol("COMPUTING"),sc=Symbol("ERRORED"),$S=V(I({},rs),{value:of,dirty:!0,error:null,equal:Ay,producerMustRecompute(t){return t.value===of||t.value===sf},producerRecomputeValue(t){if(t.value===sf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=sf;let n=ac(t),r;try{r=t.computation()}catch(i){r=sc,t.error=i}finally{cf(t,n)}if(e!==of&&e!==sc&&r!==sc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function HS(){throw new Error}var Ly=HS;function Vy(){Ly()}function jy(t){Ly=t}var WS=null;function Uy(t){let e=Object.create($y);e.value=t;let n=()=>(af(e),e.value);return n[$n]=e,n}function df(t,e){xy()||Vy(),t.equal(t.value,e)||(t.value=e,zS(t))}function By(t,e){xy()||Vy(),df(t,e(t.value))}var $y=V(I({},rs),{equal:Ay,value:void 0});function zS(t){t.version++,US(),Ry(t),WS?.()}function F(t){return typeof t=="function"}function Ii(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var uc=Ii(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof uc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Hy(o)}catch(s){e=e??[],s instanceof uc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new uc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Hy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tr(n,e)}remove(e){let{_finalizers:n}=this;n&&Tr(n,e),e instanceof t&&e._removeParent(this)}};ye.EMPTY=(()=>{let t=new ye;return t.closed=!0,t})();var ff=ye.EMPTY;function dc(t){return t instanceof ye||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function Hy(t){F(t)?t():t.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wi={setTimeout(t,e,...n){let{delegate:r}=wi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=wi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fc(t){wi.setTimeout(()=>{let{onUnhandledError:e}=Rt;if(e)e(t);else throw t})}function Sr(){}var Wy=hf("C",void 0,void 0);function zy(t){return hf("E",void 0,t)}function Gy(t){return hf("N",t,void 0)}function hf(t,e,n){return{kind:t,value:e,error:n}}var Ar=null;function Ci(t){if(Rt.useDeprecatedSynchronousErrorHandling){let e=!Ar;if(e&&(Ar={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ar;if(Ar=null,n)throw r}}else t()}function qy(t){Rt.useDeprecatedSynchronousErrorHandling&&Ar&&(Ar.errorThrown=!0,Ar.error=t)}var Nr=class extends ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dc(e)&&e.add(this)):this.destination=YS}static create(e,n,r){return new Di(e,n,r)}next(e){this.isStopped?mf(Gy(e),this):this._next(e)}error(e){this.isStopped?mf(zy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mf(Wy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GS=Function.prototype.bind;function pf(t,e){return GS.call(t,e)}var gf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hc(r)}else hc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hc(n)}}},Di=class extends Nr{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Rt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pf(e.next,o),error:e.error&&pf(e.error,o),complete:e.complete&&pf(e.complete,o)}):i=e}this.destination=new gf(i)}};function hc(t){Rt.useDeprecatedSynchronousErrorHandling?qy(t):fc(t)}function qS(t){throw t}function mf(t,e){let{onStoppedNotification:n}=Rt;n&&wi.setTimeout(()=>n(t,e))}var YS={closed:!0,next:Sr,error:qS,complete:Sr};var bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Be(t){return t}function is(...t){return vf(t)}function vf(t){return t.length===0?Be:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var j=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ZS(n)?n:new Di(n,r,i);return Ci(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Yy(r),new r((i,o)=>{let s=new Di({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bi](){return this}pipe(...n){return vf(n)(this)}toPromise(n){return n=Yy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Yy(t){var e;return(e=t??Rt.Promise)!==null&&e!==void 0?e:Promise}function KS(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function ZS(t){return t&&t instanceof Nr||KS(t)&&dc(t)}function yf(t){return F(t?.lift)}function W(t){return e=>{if(yf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(t,e,n,r,i){return new _f(t,e,n,r,i)}var _f=class extends Nr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ti(){return W((t,e)=>{let n=null;t._refCount++;let r=B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Si=class extends j{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ye;let n=this.getSubject();e.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ye.EMPTY)}return e}refCount(){return Ti()(this)}};var Ky=Ii(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends j{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ky}next(n){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ff:(this.currentObservers=null,o.push(n),new ye(()=>{this.currentObservers=null,Tr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new j;return n.source=this,n}}return t.create=(e,n)=>new pc(e,n),t})(),pc=class extends Ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ff}};var xe=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ef={now(){return(Ef.delegate||Date).now()},delegate:void 0};var mc=class extends ye{constructor(e,n){super()}schedule(e,n=0){return this}};var os={setInterval(t,e,...n){let{delegate:r}=os;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=os;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ai=class extends mc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return os.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&os.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ni=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ni.now=Ef.now;var Mi=class extends Ni{constructor(e,n=Ni.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ri=new Mi(Ai),If=Ri;var gc=class extends Ai{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var vc=class extends Mi{};var wf=new vc(gc);var $e=new j(t=>t.complete());function yc(t){return t&&F(t.schedule)}function Cf(t){return t[t.length-1]}function _c(t){return F(Cf(t))?t.pop():void 0}function Yt(t){return yc(Cf(t))?t.pop():void 0}function Zy(t,e){return typeof Cf(t)=="number"?t.pop():e}function Ec(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jy(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Qy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(t){return this instanceof Mr?(this.v=t,this):new Mr(t)}function Xy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(D){return new Promise(function(N,P){o.push([h,D,N,P])>1||c(h,D)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(D){f(o[0][3],D)}}function l(h){h.value instanceof Mr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function e_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Qy=="function"?Qy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ic=t=>t&&typeof t.length=="number"&&typeof t!="function";function wc(t){return F(t?.then)}function Cc(t){return F(t[bi])}function Dc(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function bc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tc=QS();function Sc(t){return F(t?.[Tc])}function Ac(t){return Xy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Mr(n.read());if(i)return yield Mr(void 0);yield yield Mr(r)}}finally{n.releaseLock()}})}function Nc(t){return F(t?.getReader)}function ge(t){if(t instanceof j)return t;if(t!=null){if(Cc(t))return JS(t);if(Ic(t))return XS(t);if(wc(t))return eA(t);if(Dc(t))return t_(t);if(Sc(t))return tA(t);if(Nc(t))return nA(t)}throw bc(t)}function JS(t){return new j(e=>{let n=t[bi]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XS(t){return new j(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eA(t){return new j(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fc)})}function tA(t){return new j(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function t_(t){return new j(e=>{rA(t,e).catch(n=>e.error(n))})}function nA(t){return t_(Ac(t))}function rA(t,e){var n,r,i,o;return Jy(this,void 0,void 0,function*(){try{for(n=e_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Je(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Hn(t,e=0){return W((n,r)=>{n.subscribe(B(r,i=>Je(r,t,()=>r.next(i),e),()=>Je(r,t,()=>r.complete(),e),i=>Je(r,t,()=>r.error(i),e)))})}function Wn(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function n_(t,e){return ge(t).pipe(Wn(e),Hn(e))}function r_(t,e){return ge(t).pipe(Wn(e),Hn(e))}function i_(t,e){return new j(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function o_(t,e){return new j(n=>{let r;return Je(n,e,()=>{r=t[Tc](),Je(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Mc(t,e){if(!t)throw new Error("Iterable cannot be null");return new j(n=>{Je(n,e,()=>{let r=t[Symbol.asyncIterator]();Je(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function s_(t,e){return Mc(Ac(t),e)}function a_(t,e){if(t!=null){if(Cc(t))return n_(t,e);if(Ic(t))return i_(t,e);if(wc(t))return r_(t,e);if(Dc(t))return Mc(t,e);if(Sc(t))return o_(t,e);if(Nc(t))return s_(t,e)}throw bc(t)}function ae(t,e){return e?a_(t,e):ge(t)}function M(...t){let e=Yt(t);return ae(t,e)}function xi(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new j(e?i=>e.schedule(r,0,i):r)}function Df(t){return!!t&&(t instanceof j||F(t.lift)&&F(t.subscribe))}var yn=Ii(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function c_(t){return t instanceof Date&&!isNaN(t)}function k(t,e){return W((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:iA}=Array;function oA(t,e){return iA(e)?t(...e):t(e)}function Rc(t){return k(e=>oA(t,e))}var{isArray:sA}=Array,{getPrototypeOf:aA,prototype:cA,keys:lA}=Object;function xc(t){if(t.length===1){let e=t[0];if(sA(e))return{args:e,keys:null};if(uA(e)){let n=lA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function uA(t){return t&&typeof t=="object"&&aA(t)===cA}function kc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Oc(...t){let e=Yt(t),n=_c(t),{args:r,keys:i}=xc(t);if(r.length===0)return ae([],e);let o=new j(dA(r,e,i?s=>kc(i,s):Be));return n?o.pipe(Rc(n)):o}function dA(t,e,n=Be){return r=>{l_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)l_(e,()=>{let l=ae(t[c],e),u=!1;l.subscribe(B(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function l_(t,e,n){t?Je(n,t,e):e()}function u_(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=D=>l<r?p(D):c.push(D),p=D=>{o&&e.next(D),l++;let N=!1;ge(n(D,u++)).subscribe(B(e,P=>{i?.(P),o?h(P):e.next(P)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;c.length&&l<r;){let P=c.shift();s?Je(e,s,()=>p(P)):p(P)}f()}catch(P){e.error(P)}}))};return t.subscribe(B(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ie(t,e,n=1/0){return F(e)?Ie((r,i)=>k((o,s)=>e(r,o,i,s))(ge(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>u_(r,i,t,n)))}function ss(t=1/0){return Ie(Be,t)}function d_(){return ss(1)}function zn(...t){return d_()(ae(t,Yt(t)))}function Pc(t){return new j(e=>{ge(t()).subscribe(e)})}function bf(...t){let e=_c(t),{args:n,keys:r}=xc(t),i=new j(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ge(n[u]).subscribe(B(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?kc(r,a):a),o.complete())}))}});return e?i.pipe(Rc(e)):i}function f_(t=0,e,n=If){let r=-1;return e!=null&&(yc(e)?n=e:r=e),new j(i=>{let o=c_(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Tf(...t){let e=Yt(t),n=Zy(t,1/0),r=t;return r.length?r.length===1?ge(r[0]):ss(n)(ae(r,e)):$e}function mt(t,e){return W((n,r)=>{let i=0;n.subscribe(B(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Gn(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe(B(n,void 0,void 0,s=>{o=ge(t(s,Gn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function h_(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(B(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Rr(t,e){return F(e)?Ie(t,e,1):Ie(t,1)}function qn(t){return W((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xe(t){return t<=0?()=>$e:W((e,n)=>{let r=0;e.subscribe(B(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function p_(){return W((t,e)=>{t.subscribe(B(e,Sr))})}function as(t){return k(()=>t)}function Sf(t,e){return e?n=>zn(e.pipe(Xe(1),p_()),n.pipe(Sf(t))):Ie((n,r)=>ge(t(n,r)).pipe(Xe(1),as(n)))}function Af(t,e=Ri){let n=f_(t,e);return Sf(()=>n)}function Nf(t,e=Be){return t=t??fA,W((n,r)=>{let i,o=!0;n.subscribe(B(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function fA(t,e){return t===e}function Fc(t=hA){return W((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hA(){return new yn}function ki(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,o)=>t(i,o,r)):Be,Xe(1),n?qn(e):Fc(()=>new yn))}function Oi(t){return t<=0?()=>$e:W((e,n)=>{let r=[];e.subscribe(B(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Mf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,o)=>t(i,o,r)):Be,Oi(1),n?qn(e):Fc(()=>new yn))}function cs(t,e){return W(h_(t,e,arguments.length>=2,!0))}function Rf(...t){let e=Yt(t);return W((n,r)=>{(e?zn(t,n,e):zn(t,n)).subscribe(r)})}function He(t,e){return W((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let l=0,u=o++;ge(t(c,u)).subscribe(i=B(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xf(t){return W((e,n)=>{ge(t).subscribe(B(n,()=>n.complete(),Sr)),!n.closed&&e.subscribe(n)})}function we(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Be}var nE="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(Cl(e,n)),this.code=e}};function Cl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Es(t){return{toString:t}.toString()}var Lc="__parameters__";function pA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function rE(t,e,n){return Es(()=>{let r=pA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Lc)?c[Lc]:Object.defineProperty(c,Lc,{value:[]})[Lc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Yf=globalThis;function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function mA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ze(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ze).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function m_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var gA=ce({__forward_ref__:ce});function en(t){return t.__forward_ref__=en,t.toString=function(){return ze(this())},t}function We(t){return iE(t)?t():t}function iE(t){return typeof t=="function"&&t.hasOwnProperty(gA)&&t.__forward_ref__===en}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Cn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dl(t){return g_(t,sE)||g_(t,aE)}function oE(t){return Dl(t)!==null}function g_(t,e){return t.hasOwnProperty(e)?t[e]:null}function vA(t){let e=t&&(t[sE]||t[aE]);return e||null}function v_(t){return t&&(t.hasOwnProperty(y_)||t.hasOwnProperty(yA))?t[y_]:null}var sE=ce({\u0275prov:ce}),y_=ce({\u0275inj:ce}),aE=ce({ngInjectableDef:ce}),yA=ce({ngInjectorDef:ce}),T=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cE(t){return t&&!!t.\u0275providers}var _A=ce({\u0275cmp:ce}),EA=ce({\u0275dir:ce}),IA=ce({\u0275pipe:ce}),wA=ce({\u0275mod:ce}),Zc=ce({\u0275fac:ce}),ds=ce({__NG_ELEMENT_ID__:ce}),__=ce({__NG_ENV_ID__:ce});function xr(t){return typeof t=="string"?t:t==null?"":String(t)}function CA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xr(t)}function DA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function Lh(t,e){throw new S(-201,!1)}var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),Kf;function lE(){return Kf}function gt(t){let e=Kf;return Kf=t,e}function uE(t,e,n){let r=Dl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;Lh(t,"Injector")}var bA={},fs=bA,Zf="__NG_DI_FLAG__",Qc="ngTempTokenPath",TA="ngTokenPath",SA=/\n/gm,AA="\u0275",E_="__source",Vi;function NA(){return Vi}function Yn(t){let e=Vi;return Vi=t,e}function MA(t,e=$.Default){if(Vi===void 0)throw new S(-203,!1);return Vi===null?uE(t,void 0,e):Vi.get(t,e&$.Optional?null:void 0,e)}function x(t,e=$.Default){return(lE()||MA)(We(t),e)}function y(t,e=$.Default){return x(t,bl(e))}function bl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qf(t){let e=[];for(let n=0;n<t.length;n++){let r=We(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],c=RA(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(x(i,o))}else e.push(x(r))}return e}function dE(t,e){return t[Zf]=e,t.prototype[Zf]=e,t}function RA(t){return t[Zf]}function xA(t,e,n,r){let i=t[Qc];throw e[E_]&&i.unshift(e[E_]),t.message=kA(`
`+t.message,i,n,r),t[TA]=i,t[Qc]=null,t}function kA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==AA?t.slice(2):t;let i=ze(e);if(Array.isArray(e))i=e.map(ze).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(SA,`
  `)}`}var qe=dE(rE("Optional"),8);var fE=dE(rE("SkipSelf"),4);function Ui(t,e){let n=t.hasOwnProperty(Zc);return n?t[Zc]:null}function Vh(t,e){t.forEach(n=>Array.isArray(n)?Vh(n,e):e(n))}function hE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function OA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function PA(t,e,n){let r=Is(t,e);return r>=0?t[r|1]=n:(r=~r,OA(t,r,e,n)),r}function kf(t,e){let n=Is(t,e);if(n>=0)return t[n|1]}function Is(t,e){return FA(t,e,1)}function FA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Bi={},rt=[],Or=new T(""),pE=new T("",-1),mE=new T(""),Xc=class{get(e,n=fs){if(n===fs){let r=new Error(`NullInjectorError: No provider for ${ze(e)}!`);throw r.name="NullInjectorError",r}return n}},gE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gE||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),Zn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zn||{});function LA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Jf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];VA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function vE(t){return t===3||t===4||t===6}function VA(t){return t.charCodeAt(0)===64}function hs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?I_(t,n,i,null,e[++r]):I_(t,n,i,null,null))}}return t}function I_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var yE="ng-template";function jA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&LA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function jh(t){return t.type===4&&t.value!==yE}function UA(t,e,n){let r=t.type===4&&!n?yE:t.value;return e===r}function BA(t,e,n){let r=4,i=t.attrs,o=i!==null?WA(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!kt(r)&&!kt(c))return!1;if(s&&kt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!UA(t,c,n)||c===""&&e.length===1){if(kt(r))return!1;s=!0}}else if(r&8){if(i===null||!jA(t,i,c,n)){if(kt(r))return!1;s=!0}}else{let l=e[++a],u=$A(c,i,jh(t),n);if(u===-1){if(kt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(kt(r))return!1;s=!0}}}}return kt(r)||s}function kt(t){return(t&1)===0}function $A(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zA(e,t)}function HA(t,e,n=!1){for(let r=0;r<e.length;r++)if(BA(t,e[r],n))return!0;return!1}function WA(t){for(let e=0;e<t.length;e++){let n=t[e];if(vE(n))return e}return t.length}function zA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function w_(t,e){return t?":not("+e.trim()+")":e}function GA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!kt(s)&&(e+=w_(o,i),i=""),r=s,o=o||!kt(r);n++}return i!==""&&(e+=w_(o,i)),e}function qA(t){return t.map(GA).join(",")}function YA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!kt(i))break;i=o}r++}return{attrs:e,classes:n}}function ee(t){return Es(()=>{let e=CE(t),n=V(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||rt,_:null,schemas:t.schemas||null,tView:null,id:""});DE(n);let r=t.dependencies;return n.directiveDefs=D_(r,!1),n.pipeDefs=D_(r,!0),n.id=QA(n),n})}function KA(t){return Pr(t)||_E(t)}function ZA(t){return t!==null}function Dn(t){return Es(()=>({type:t.type,bootstrap:t.bootstrap||rt,declarations:t.declarations||rt,imports:t.imports||rt,exports:t.exports||rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function C_(t,e){if(t==null)return Bi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Zn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Zn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function fe(t){return Es(()=>{let e=CE(t);return DE(e),e})}function Pr(t){return t[_A]||null}function _E(t){return t[EA]||null}function EE(t){return t[IA]||null}function IE(t){let e=Pr(t)||_E(t)||EE(t);return e!==null?e.standalone:!1}function wE(t,e){let n=t[wA]||null;if(!n&&e===!0)throw new Error(`Type ${ze(t)} does not have '\u0275mod' property.`);return n}function CE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:C_(t.inputs,e),outputs:C_(t.outputs),debugInfo:null}}function DE(t){t.features?.forEach(e=>e(t))}function D_(t,e){if(!t)return null;let n=e?EE:KA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ZA)}function QA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function st(t){return{\u0275providers:t}}function JA(...t){return{\u0275providers:bE(!0,t),\u0275fromNgModule:!0}}function bE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Vh(e,s=>{let a=s;Xf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&TE(i,o),n}function TE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Uh(i,o=>{e(o,r)})}}function Xf(t,e,n,r){if(t=We(t),!t)return!1;let i=null,o=v_(t),s=!o&&Pr(t);if(!o&&!s){let c=t.ngModule;if(o=v_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Xf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Vh(o.imports,u=>{Xf(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&TE(l,e)}if(!a){let l=Ui(i)||(()=>new i);e({provide:i,useFactory:l,deps:rt},i),e({provide:mE,useValue:i,multi:!0},i),e({provide:Or,useValue:()=>x(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Uh(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Uh(t,e){for(let n of t)cE(n)&&(n=n.\u0275providers),Array.isArray(n)?Uh(n,e):e(n)}var XA=ce({provide:String,useValue:ce});function SE(t){return t!==null&&typeof t=="object"&&XA in t}function eN(t){return!!(t&&t.useExisting)}function tN(t){return!!(t&&t.useFactory)}function $i(t){return typeof t=="function"}function nN(t){return!!t.useClass}var Tl=new T(""),zc={},rN={},Of;function Bh(){return Of===void 0&&(Of=new Xc),Of}var yt=class{},ps=class extends yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(e,s=>this.processProvider(s)),this.records.set(pE,Pi(void 0,this)),i.has("environment")&&this.records.set(yt,Pi(void 0,this));let o=this.records.get(Tl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mE,rt,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Yn(this),r=gt(void 0),i;try{return e()}finally{Yn(n),gt(r)}}get(e,n=fs,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(__))return e[__](this);r=bl(r);let i,o=Yn(this),s=gt(void 0);try{if(!(r&$.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=cN(e)&&Dl(e);l&&this.injectableDefInScope(l)?c=Pi(eh(e),zc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$.Self?Bh():this.parent;return n=r&$.Optional&&n===fs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Qc]=a[Qc]||[]).unshift(ze(e)),o)throw a;return xA(a,e,"R3InjectorError",this.source)}else throw a}finally{gt(s),Yn(o)}}resolveInjectorInitializers(){let e=Q(null),n=Yn(this),r=gt(void 0),i;try{let o=this.get(Or,rt,$.Self);for(let s of o)s()}finally{Yn(n),gt(r),Q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=We(e);let n=$i(e)?e:We(e&&e.provide),r=oN(e);if(!$i(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Pi(void 0,zc,!0),i.factory=()=>Qf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Q(null);try{return n.value===zc&&(n.value=rN,n.value=n.factory()),typeof n.value=="object"&&n.value&&aN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=We(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function eh(t){let e=Dl(t),n=e!==null?e.factory:Ui(t);if(n!==null)return n;if(t instanceof T)throw new S(204,!1);if(t instanceof Function)return iN(t);throw new S(204,!1)}function iN(t){if(t.length>0)throw new S(204,!1);let n=vA(t);return n!==null?()=>n.factory(t):()=>new t}function oN(t){if(SE(t))return Pi(void 0,t.useValue);{let e=AE(t);return Pi(e,zc)}}function AE(t,e,n){let r;if($i(t)){let i=We(t);return Ui(i)||eh(i)}else if(SE(t))r=()=>We(t.useValue);else if(tN(t))r=()=>t.useFactory(...Qf(t.deps||[]));else if(eN(t))r=()=>x(We(t.useExisting));else{let i=We(t&&(t.useClass||t.provide));if(sN(t))r=()=>new i(...Qf(t.deps));else return Ui(i)||eh(i)}return r}function Pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sN(t){return!!t.deps}function aN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cN(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function th(t,e){for(let n of t)Array.isArray(n)?th(n,e):n&&cE(n)?th(n.\u0275providers,e):e(n)}function tn(t,e){t instanceof ps&&t.assertNotDestroyed();let n,r=Yn(t),i=gt(void 0);try{return e()}finally{Yn(r),gt(i)}}function lN(){return lE()!==void 0||NA()!=null}function uN(t){return typeof t=="function"}var ot=0,z=1,O=2,Pe=3,Ot=4,Vt=5,Jt=6,el=7,Ft=8,Hi=9,Xt=10,_e=11,ms=12,b_=13,Ji=14,_t=15,Wi=16,Fi=17,zi=18,Sl=19,NE=20,Kn=21,Pf=22,vt=23,Ge=25,ME=1,gs=6,_n=7,tl=8,nl=9,it=10,rl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rl||{});function Pt(t){return Array.isArray(t)&&typeof t[ME]=="object"}function nn(t){return Array.isArray(t)&&t[ME]===!0}function $h(t){return(t.flags&4)!==0}function ws(t){return t.componentOffset>-1}function Al(t){return(t.flags&1)===1}function Qn(t){return!!t.template}function il(t){return(t[O]&512)!==0}var nh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function RE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function jt(){return xE}function xE(t){return t.type.prototype.ngOnChanges&&(t.setInput=fN),dN}jt.ngInherit=!0;function dN(){let t=OE(this),e=t?.current;if(e){let n=t.previous;if(n===Bi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fN(t,e,n,r,i){let o=this.declaredInputs[r],s=OE(t)||hN(t,{previous:Bi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new nh(l&&l.currentValue,n,c===Bi),RE(t,e,i,n)}var kE="__ngSimpleChanges__";function OE(t){return t[kE]||null}function hN(t,e){return t[kE]=e}var T_=null;var Kt=function(t,e,n){T_?.(t,e,n)},pN="svg",mN="math";function Lt(t){for(;Array.isArray(t);)t=t[ot];return t}function PE(t,e){return Lt(e[t])}function at(t,e){return Lt(e[t.index])}function FE(t,e){return t.data[e]}function er(t,e){let n=e[t];return Pt(n)?n:n[ot]}function Hh(t){return(t[O]&128)===128}function gN(t){return nn(t[Pe])}function Gi(t,e){return e==null?null:t[e]}function LE(t){t[Fi]=0}function VE(t){t[O]&1024||(t[O]|=1024,Hh(t)&&Ml(t))}function vN(t,e){for(;t>0;)e=e[Ji],t--;return e}function Nl(t){return!!(t[O]&9216||t[vt]?.dirty)}function rh(t){t[Xt].changeDetectionScheduler?.notify(8),t[O]&64&&(t[O]|=1024),Nl(t)&&Ml(t)}function Ml(t){t[Xt].changeDetectionScheduler?.notify(0);let e=Fr(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!Hh(e)));)e=Fr(e)}function jE(t,e){if((t[O]&256)===256)throw new S(911,!1);t[Kn]===null&&(t[Kn]=[]),t[Kn].push(e)}function yN(t,e){if(t[Kn]===null)return;let n=t[Kn].indexOf(e);n!==-1&&t[Kn].splice(n,1)}function Fr(t){let e=t[Pe];return nn(e)?e[Pe]:e}var H={lFrame:ZE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var UE=!1;function _N(){return H.lFrame.elementDepthCount}function EN(){H.lFrame.elementDepthCount++}function IN(){H.lFrame.elementDepthCount--}function BE(){return H.bindingsEnabled}function Cs(){return H.skipHydrationRootTNode!==null}function wN(t){return H.skipHydrationRootTNode===t}function CN(t){H.skipHydrationRootTNode=t}function DN(){H.skipHydrationRootTNode=null}function le(){return H.lFrame.lView}function ct(){return H.lFrame.tView}function Ye(t){return H.lFrame.contextLView=t,t[Ft]}function Ke(t){return H.lFrame.contextLView=null,t}function Ze(){let t=$E();for(;t!==null&&t.type===64;)t=t.parent;return t}function $E(){return H.lFrame.currentTNode}function bN(){let t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $r(t,e){let n=H.lFrame;n.currentTNode=t,n.isParent=e}function Wh(){return H.lFrame.isParent}function HE(){H.lFrame.isParent=!1}function WE(){return UE}function S_(t){UE=t}function zE(){let t=H.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function TN(){return H.lFrame.bindingIndex}function SN(t){return H.lFrame.bindingIndex=t}function zh(){return H.lFrame.bindingIndex++}function GE(t){let e=H.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function AN(){return H.lFrame.inI18n}function NN(t,e){let n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,ih(e)}function MN(){return H.lFrame.currentDirectiveIndex}function ih(t){H.lFrame.currentDirectiveIndex=t}function RN(t){let e=H.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function qE(t){H.lFrame.currentQueryIndex=t}function xN(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[Vt]:null}function YE(t,e,n){if(n&$.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=xN(o),i===null||(o=o[Ji],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=H.lFrame=KE();return r.currentTNode=e,r.lView=t,!0}function Gh(t){let e=KE(),n=t[z];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function KE(){let t=H.lFrame,e=t===null?null:t.child;return e===null?ZE(t):e}function ZE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function QE(){let t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var JE=QE;function qh(){let t=QE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kN(t){return(H.lFrame.contextLView=vN(t,H.lFrame.contextLView))[Ft]}function Hr(){return H.lFrame.selectedIndex}function Lr(t){H.lFrame.selectedIndex=t}function XE(){let t=H.lFrame;return FE(t.tView,t.selectedIndex)}function eI(){return H.lFrame.currentNamespace}var tI=!0;function Rl(){return tI}function tr(t){tI=t}function ON(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=xE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function xl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Gc(t,e,n){nI(t,e,3,n)}function qc(t,e,n,r){(t[O]&3)===n&&nI(t,e,n,r)}function Ff(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function nI(t,e,n,r){let i=r!==void 0?t[Fi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Fi]+=65536),(a<o||o==-1)&&(PN(t,n,e,c),t[Fi]=(t[Fi]&4294901760)+c+2),c++}function A_(t,e){Kt(4,t,e);let n=Q(null);try{e.call(t)}finally{Q(n),Kt(5,t,e)}}function PN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[Fi]>>16&&(t[O]&3)===e&&(t[O]+=16384,A_(a,o)):A_(a,o)}var ji=-1,Vr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function FN(t){return t instanceof Vr}function LN(t){return(t.flags&8)!==0}function VN(t){return(t.flags&16)!==0}var Lf={},oh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=bl(r);let i=this.injector.get(e,Lf,r);return i!==Lf||n===Lf?i:this.parentInjector.get(e,n,r)}};function rI(t){return t!==ji}function ol(t){return t&32767}function jN(t){return t>>16}function sl(t,e){let n=jN(t),r=e;for(;n>0;)r=r[Ji],n--;return r}var sh=!0;function N_(t){let e=sh;return sh=t,e}var UN=256,iI=UN-1,oI=5,BN=0,Zt={};function $N(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ds)&&(r=n[ds]),r==null&&(r=n[ds]=BN++);let i=r&iI,o=1<<i;e.data[t+(i>>oI)]|=o}function al(t,e){let n=sI(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,Vf(r.data,t),Vf(e,null),Vf(r.blueprint,null));let i=Yh(t,e),o=t.injectorIndex;if(rI(i)){let s=ol(i),a=sl(i,e),c=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Vf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=dI(i),r===null)return ji;if(n++,i=i[Ji],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ji}function ah(t,e,n){$N(t,e,n)}function HN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(vE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function aI(t,e,n){if(n&$.Optional||t!==void 0)return t;Lh(e,"NodeInjector")}function cI(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=t[Hi],o=gt(void 0);try{return i?i.get(e,r,n&$.Optional):uE(e,r,n&$.Optional)}finally{gt(o)}}return aI(r,e,n)}function lI(t,e,n,r=$.Default,i){if(t!==null){if(e[O]&2048&&!(r&$.Self)){let s=YN(t,e,n,r,Zt);if(s!==Zt)return s}let o=uI(t,e,n,r,Zt);if(o!==Zt)return o}return cI(e,n,r,i)}function uI(t,e,n,r,i){let o=GN(n);if(typeof o=="function"){if(!YE(e,t,r))return r&$.Host?aI(i,n,r):cI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))Lh(n);else return s}finally{JE()}}else if(typeof o=="number"){let s=null,a=sI(t,e),c=ji,l=r&$.Host?e[_t][Vt]:null;for((a===-1||r&$.SkipSelf)&&(c=a===-1?Yh(t,e):e[a+8],c===ji||!R_(r,!1)?a=-1:(s=e[z],a=ol(c),e=sl(c,e)));a!==-1;){let u=e[z];if(M_(o,a,u.data)){let d=WN(a,e,n,s,r,l);if(d!==Zt)return d}c=e[a+8],c!==ji&&R_(r,e[z].data[a+8]===l)&&M_(o,a,e)?(s=u,a=ol(c),e=sl(c,e)):a=-1}}return i}function WN(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],c=r==null?ws(a)&&sh:r!=s&&(a.type&3)!==0,l=i&$.Host&&o===a,u=zN(a,s,n,c,l);return u!==null?qi(e,s,u,a):Zt}function zN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Qn(h)&&h.type===n)return c}return null}function qi(t,e,n,r){let i=t[n],o=e.data;if(FN(i)){let s=i;s.resolving&&DA(CA(o[n]));let a=N_(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?gt(s.injectImpl):null,u=YE(t,r,$.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ON(n,o[n],e)}finally{l!==null&&gt(l),N_(a),s.resolving=!1,JE()}}return i}function GN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ds)?t[ds]:void 0;return typeof e=="number"?e>=0?e&iI:qN:e}function M_(t,e,n){let r=1<<t;return!!(n[e+(t>>oI)]&r)}function R_(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var kr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lI(this._tNode,this._lView,e,bl(r),n)}};function qN(){return new kr(Ze(),le())}function bn(t){return Es(()=>{let e=t.prototype.constructor,n=e[Zc]||ch(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Zc]||ch(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ch(t){return iE(t)?()=>{let e=ch(We(t));return e&&e()}:Ui(t)}function YN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=uI(o,s,n,r|$.Self,Zt);if(a!==Zt)return a;let c=o.parent;if(!c){let l=s[NE];if(l){let u=l.get(n,Zt,r);if(u!==Zt)return u}c=dI(s),s=s[Ji]}o=c}return i}function dI(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[Vt]:null}function Kh(t){return HN(Ze(),t)}function x_(t,e=null,n=null,r){let i=fI(t,e,n,r);return i.resolveInjectorInitializers(),i}function fI(t,e=null,n=null,r,i=new Set){let o=[n||rt,JA(t)];return r=r||(typeof t=="object"?void 0:ze(t)),new ps(o,e||Bh(),r||null,i)}var Fe=class t{static{this.THROW_IF_NOT_FOUND=fs}static{this.NULL=new Xc}static create(e,n){if(Array.isArray(e))return x_({name:""},n,e,"");{let r=e.name??"";return x_({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=A({token:t,providedIn:"any",factory:()=>x(pE)})}static{this.__NG_ELEMENT_ID__=-1}};var KN=new T("");KN.__NG_ELEMENT_ID__=t=>{let e=Ze();if(e===null)throw new S(204,!1);if(e.type&2)return e.value;if(t&$.Optional)return null;throw new S(204,!1)};var ZN="ngOriginalError";function jf(t){return t[ZN]}var hI=!0,pI=(()=>{class t{static{this.__NG_ELEMENT_ID__=QN}static{this.__NG_ENV_ID__=n=>n}}return t})(),lh=class extends pI{constructor(e){super(),this._lView=e}onDestroy(e){return jE(this._lView,e),()=>yN(this._lView,e)}};function QN(){return new lh(le())}var Wr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})();var uh=class extends Ne{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,lN()&&(this.destroyRef=y(pI,{optional:!0})??void 0,this.pendingTasks=y(Wr,{optional:!0})??void 0)}emit(e){let n=Q(null);try{super.next(e)}finally{Q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ye&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},de=uh;function cl(...t){}function mI(t){let e,n;function r(){t=cl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function k_(t){return queueMicrotask(()=>t()),()=>{t=cl}}var Zh="isAngularZone",ll=Zh+"_ID",JN=0,re=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new de(!1),this.onMicrotaskEmpty=new de(!1),this.onStable=new de(!1),this.onError=new de(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=hI}=e;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,XN,cl,cl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XN={};function Qh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mI(()=>{t.callbackScheduled=!1,dh(t),t.isCheckStableRunning=!0,Qh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),dh(t)}function tM(t){let e=()=>{eM(t)},n=JN++;t._inner=t._inner.fork({name:"angular",properties:{[Zh]:!0,[ll]:n,[ll+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(nM(c))return r.invokeTask(o,s,a,c);try{return O_(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),P_(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return O_(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rM(c)&&e(),P_(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,dh(t),Qh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function dh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function O_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P_(t){t._nesting--,Qh(t)}var fh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new de,this.onMicrotaskEmpty=new de,this.onStable=new de,this.onError=new de}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nM(t){return gI(t,"__ignore_ng_zone__")}function rM(t){return gI(t,"__scheduler_tick__")}function gI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var En=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&jf(e);for(;n&&jf(n);)n=jf(n);return n||null}},iM=new T("",{providedIn:"root",factory:()=>{let t=y(re),e=y(En);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function oM(){return kl(Ze(),le())}function kl(t,e){return new Ut(at(t,e))}var Ut=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=oM}}return t})();var sM="ngSkipHydration",aM="ngskiphydration";function vI(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===aM)return!0}return!1}function yI(t){return t.hasAttribute(sM)}function ul(t){return(t.flags&128)===128}function cM(t){if(ul(t))return!0;let e=t.parent;for(;e;){if(ul(t)||vI(e))return!0;e=e.parent}return!1}var _I=new Map,lM=0;function uM(){return lM++}function dM(t){_I.set(t[Sl],t)}function hh(t){_I.delete(t[Sl])}var F_="__ngContext__";function Jn(t,e){Pt(e)?(t[F_]=e[Sl],dM(e)):t[F_]=e}function EI(t){return wI(t[ms])}function II(t){return wI(t[Ot])}function wI(t){for(;t!==null&&!nn(t);)t=t[Ot];return t}var ph;function CI(t){ph=t}function Ol(){if(ph!==void 0)return ph;if(typeof document<"u")return document;throw new S(210,!1)}var Pl=new T("",{providedIn:"root",factory:()=>fM}),fM="ng",Jh=new T(""),Et=new T("",{providedIn:"platform",factory:()=>"unknown"});var Xh=new T("",{providedIn:"root",factory:()=>Ol().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function hM(){let t=new Xi;return y(Et)==="browser"&&(t.store=pM(Ol(),y(Pl))),t}var Xi=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=A({token:t,providedIn:"root",factory:hM})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function pM(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var DI="h",bI="b",mh=function(t){return t.FirstChild="f",t.NextSibling="n",t}(mh||{}),mM="e",gM="t",ep="c",TI="x",dl="r",vM="i",yM="n",SI="d";var _M="__nghData__",AI=_M,Uf="ngh",EM="nghm",NI=()=>null;function IM(t,e,n=!1){let r=t.getAttribute(Uf);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Xi,null,{optional:!0});u!==null&&(c=u.get(AI,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Fl(l,0,t.nextSibling)),a?t.setAttribute(Uf,a):t.removeAttribute(Uf),l}function wM(){NI=IM}function tp(t,e,n=!1){return NI(t,e,n)}function CM(t){let e=t._lView;return e[z].type===2?null:(il(e)&&(e=e[Ge]),e)}function DM(t){return t.textContent?.replace(/\s/gm,"")}function bM(t){let e=Ol(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=DM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Fl(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function gh(t,e){return t.segmentHeads?.[e]??null}function TM(t,e){let n=t.data,r=n[mM]?.[e]??null;return r===null&&n[ep]?.[e]&&(r=np(t,e)),r}function MI(t,e){return t.data[ep]?.[e]??null}function np(t,e){let n=MI(t,e)??[],r=0;for(let i of n)r+=i[dl]*(i[TI]??1);return r}function SM(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[SI];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Ds(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[SI];t.disconnectedNodes=n?new Set(n):null}return!!SM(t)?.has(e)}var Vc=new T(""),RI=!1,xI=new T("",{providedIn:"root",factory:()=>RI});var jc;function AM(){if(jc===void 0&&(jc=null,Yf.trustedTypes))try{jc=Yf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jc}function L_(t){return AM()?.createScriptURL(t)||t}var fl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nE})`}};function bs(t){return t instanceof fl?t.changingThisBreaksApplicationSecurity:t}function rp(t,e){let n=NM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${nE})`)}return n===e}function NM(t){return t instanceof fl&&t.getTypeName()||null}var MM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kI(t){return t=String(t),t.match(MM)?t:"unsafe:"+t}var Ll=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ll||{});function RM(t){let e=PI();return e?e.sanitize(Ll.URL,t)||"":rp(t,"URL")?bs(t):kI(xr(t))}function xM(t){let e=PI();if(e)return L_(e.sanitize(Ll.RESOURCE_URL,t)||"");if(rp(t,"ResourceURL"))return L_(bs(t));throw new S(904,!1)}function kM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?xM:RM}function OI(t,e,n){return kM(e,n)(t)}function PI(){let t=le();return t&&t[Xt].sanitizer}var OM=/^>|^->|<!--|-->|--!>|<!-$/g,PM=/(<|>)/g,FM="\u200B$1\u200B";function LM(t){return t.replace(OM,e=>e.replace(PM,FM))}function VM(t){return t.ownerDocument.body}function FI(t){return t instanceof Function?t():t}function Uc(t){return(t??y(Fe)).get(Et)==="browser"}var In=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(In||{}),jM;function ip(t,e){return jM(t,e)}function Li(t,e,n,r,i){if(r!=null){let o,s=!1;nn(r)?o=r:Pt(r)&&(s=!0,r=r[ot]);let a=Lt(r);t===0&&n!==null?i==null?$I(e,n,a):hl(e,n,a,i||null,!0):t===1&&n!==null?hl(e,n,a,i||null,!0):t===2?ap(e,a,s):t===3&&e.destroyNode(a),o!=null&&eR(e,t,o,n,i)}}function LI(t,e){return t.createText(e)}function UM(t,e,n){t.setValue(e,n)}function VI(t,e){return t.createComment(LM(e))}function op(t,e,n){return t.createElement(e,n)}function BM(t,e){jI(t,e),e[ot]=null,e[Vt]=null}function $M(t,e,n,r,i,o){r[ot]=i,r[Vt]=e,jl(t,r,n,1,i,o)}function jI(t,e){e[Xt].changeDetectionScheduler?.notify(9),jl(t,e,e[_e],2,null,null)}function HM(t){let e=t[ms];if(!e)return Bf(t[z],t);for(;e;){let n=null;if(Pt(e))n=e[ms];else{let r=e[it];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)Pt(e)&&Bf(e[z],e),e=e[Pe];e===null&&(e=t),Pt(e)&&Bf(e[z],e),n=e&&e[Ot]}e=n}}function WM(t,e,n,r){let i=it+r,o=n.length;r>0&&(n[i-1][Ot]=e),r<o-it?(e[Ot]=n[i],hE(n,it+r,e)):(n.push(e),e[Ot]=null),e[Pe]=n;let s=e[Wi];s!==null&&n!==s&&UI(s,e);let a=e[zi];a!==null&&a.insertView(t),rh(e),e[O]|=128}function UI(t,e){let n=t[nl],r=e[Pe];if(Pt(r))t[O]|=rl.HasTransplantedViews;else{let i=r[Pe][_t];e[_t]!==i&&(t[O]|=rl.HasTransplantedViews)}n===null?t[nl]=[e]:n.push(e)}function sp(t,e){let n=t[nl],r=n.indexOf(e);n.splice(r,1)}function vh(t,e){if(t.length<=it)return;let n=it+e,r=t[n];if(r){let i=r[Wi];i!==null&&i!==t&&sp(i,r),e>0&&(t[n-1][Ot]=r[Ot]);let o=Jc(t,it+e);BM(r[z],r);let s=o[zi];s!==null&&s.detachView(o[z]),r[Pe]=null,r[Ot]=null,r[O]&=-129}return r}function BI(t,e){if(!(e[O]&256)){let n=e[_e];n.destroyNode&&jl(t,e,n,3,null,null),HM(e)}}function Bf(t,e){if(e[O]&256)return;let n=Q(null);try{e[O]&=-129,e[O]|=256,e[vt]&&uf(e[vt]),GM(t,e),zM(t,e),e[z].type===1&&e[_e].destroy();let r=e[Wi];if(r!==null&&nn(e[Pe])){r!==e[Pe]&&sp(r,e);let i=e[zi];i!==null&&i.detachView(t)}hh(e)}finally{Q(n)}}function zM(t,e){let n=t.cleanup,r=e[el];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[el]=null);let i=e[Kn];if(i!==null){e[Kn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function GM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Vr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Kt(4,a,c);try{c.call(a)}finally{Kt(5,a,c)}}else{Kt(4,i,o);try{o.call(i)}finally{Kt(5,i,o)}}}}}function qM(t,e,n){return YM(t,e.parent,n)}function YM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ot];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Qt.None||o===Qt.Emulated)return null}return at(r,n)}}function hl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $I(t,e,n){t.appendChild(e,n)}function V_(t,e,n,r,i){r!==null?hl(t,e,n,r,i):$I(t,e,n)}function HI(t,e){return t.parentNode(e)}function KM(t,e){return t.nextSibling(e)}function ZM(t,e,n){return JM(t,e,n)}function QM(t,e,n){return t.type&40?at(t,n):null}var JM=QM,j_;function Vl(t,e,n,r){let i=qM(t,r,e),o=e[_e],s=r.parent||e[Vt],a=ZM(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)V_(o,i,n[c],a,!1);else V_(o,i,n,a,!1);j_!==void 0&&j_(o,r,e,n,i)}function ls(t,e){if(e!==null){let n=e.type;if(n&3)return at(e,t);if(n&4)return yh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ls(t,r);{let i=t[e.index];return nn(i)?yh(-1,i):Lt(i)}}else{if(n&128)return ls(t,e.next);if(n&32)return ip(e,t)()||Lt(t[e.index]);{let r=WI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fr(t[_t]);return ls(i,r)}else return ls(t,e.next)}}}return null}function WI(t,e){if(e!==null){let r=t[_t][Vt],i=e.projection;return r.projection[i]}return null}function yh(t,e){let n=it+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return ls(r,i)}return e[_n]}function ap(t,e,n){t.removeChild(null,e,n)}function zI(t){t.textContent=""}function cp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Jn(Lt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)cp(t,e,n.child,r,i,o,!1),Li(e,t,i,a,o);else if(c&32){let l=ip(n,r),u;for(;u=l();)Li(e,t,i,u,o);Li(e,t,i,a,o)}else c&16?XM(t,e,r,n,i,o):Li(e,t,i,a,o);n=s?n.projectionNext:n.next}}function jl(t,e,n,r,i,o){cp(n,r,t.firstChild,e,i,o,!1)}function XM(t,e,n,r,i,o){let s=n[_t],c=s[Vt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Li(e,t,i,u,o)}else{let l=c,u=s[Pe];ul(r)&&(l.flags|=128),cp(t,e,l,u,i,o,!0)}}function eR(t,e,n,r,i){let o=n[_n],s=Lt(n);o!==s&&Li(e,t,r,o,i);for(let a=it;a<n.length;a++){let c=n[a];jl(c[z],c,t,e,r,o)}}function tR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:In.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=In.Important),t.setStyle(n,r,i,o))}}function nR(t,e,n){t.setAttribute(e,"style",n)}function GI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Jf(t,e,r),i!==null&&GI(t,e,i),o!==null&&nR(t,e,o)}var Tn={};function w(t=1){YI(ct(),le(),Hr()+t,!1)}function YI(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Gc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&qc(e,o,0,n)}Lr(n)}function b(t,e=$.Default){let n=le();if(n===null)return x(t,e);let r=Ze();return lI(r,n,We(t),e)}function KI(t,e,n,r,i,o){let s=Q(null);try{let a=null;i&Zn.SignalBased&&(a=e[r][$n]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Zn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):RE(e,a,r,o)}finally{Q(s)}}function rR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Lr(~i);else{let o=i,s=n[++r],a=n[++r];NN(s,o);let c=e[o];a(2,c)}}}finally{Lr(-1)}}function Ul(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[ot]=i,d[O]=r|4|128|8|64,(l!==null||t&&t[O]&2048)&&(d[O]|=2048),LE(d),d[Pe]=d[Ji]=t,d[Ft]=n,d[Xt]=s||t&&t[Xt],d[_e]=a||t&&t[_e],d[Hi]=c||t&&t[Hi]||null,d[Vt]=o,d[Sl]=uM(),d[Jt]=u,d[NE]=l,d[_t]=e.type==2?t[_t]:d,d}function Ts(t,e,n,r,i){let o=t.data[e];if(o===null)o=iR(t,e,n,r,i),AN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=bN();o.injectorIndex=s===null?-1:s.injectorIndex}return $r(o,!0),o}function iR(t,e,n,r,i){let o=$E(),s=Wh(),a=s?o:o&&o.parent,c=t.data[e]=uR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function ZI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function QI(t,e,n,r,i){let o=Hr(),s=r&2;try{Lr(-1),s&&e.length>Ge&&YI(t,e,Ge,!1),Kt(s?2:0,i),n(r,i)}finally{Lr(o),Kt(s?3:1,i)}}function lp(t,e,n){if($h(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Q(r)}}}function up(t,e,n){BE()&&(vR(t,e,n,at(n,e)),(n.flags&64)===64&&tw(t,e,n))}function dp(t,e,n=at){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function JI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=fp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function fp(t,e,n,r,i,o,s,a,c,l,u){let d=Ge+r,f=d+i,h=oR(d,f),p=typeof l=="function"?l():l;return h[z]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function oR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tn);return n}function sR(t,e,n,r){let o=r.get(xI,RI)||n===Qt.ShadowDom,s=t.selectRootElement(e,o);return aR(s),s}function aR(t){XI(t)}var XI=()=>null;function cR(t){yI(t)?zI(t):bM(t)}function lR(){XI=cR}function uR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Cs()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function U_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Zn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?B_(r,n,l,a,c):B_(r,n,l,a)}return r}function B_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function dR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=U_(0,d.inputs,u,c,h),l=U_(1,d.outputs,u,l,p);let D=c!==null&&s!==null&&!jh(e)?AR(c,u,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function fR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function hR(t,e,n,r,i,o,s,a){let c=at(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(pp(t,n,u,r,i),ws(e)&&pR(n,e.index)):e.type&3?(r=fR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function pR(t,e){let n=er(e,t);n[O]&16||(n[O]|=64)}function hp(t,e,n,r){if(BE()){let i=r===null?null:{"":-1},o=_R(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ew(t,e,n,s,i,a),i&&ER(n,r,i)}n.mergedAttrs=hs(n.mergedAttrs,n.attrs)}function ew(t,e,n,r,i,o){for(let l=0;l<r.length;l++)ah(al(n,e),t,r[l].type);wR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=ZI(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=hs(n.mergedAttrs,u.hostAttrs),CR(t,n,e,c,u),IR(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}dR(t,n,o)}function mR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;gR(s)!=a&&s.push(a),s.push(n,r,o)}}function gR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ws(n)&&DR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||al(n,e),Jn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=qi(e,t,a,n);if(Jn(l,e),s!==null&&SR(e,a-i,l,c,n,s),Qn(c)){let u=er(n.index,e);u[Ft]=qi(e,t,a,n)}}}function tw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=MN();try{Lr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];ih(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&yR(c,l)}}finally{Lr(-1),ih(s)}}function yR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _R(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(HA(e,s.selectors,!1))if(r||(r=[]),Qn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;_h(t,e,c)}else r.unshift(s),_h(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function _h(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ER(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}}function IR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qn(e)&&(n[""]=t)}}function wR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ui(i.type,!0)),s=new Vr(o,Qn(i),b);t.blueprint[r]=s,n[r]=s,mR(t,e,r,ZI(t,n,i.hostVars,Tn),i)}function DR(t,e,n){let r=at(e,t),i=JI(n),o=t[Xt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Bl(t,Ul(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function bR(t,e,n,r,i,o){let s=at(t,e);TR(e[_e],s,o,t.value,n,r,i)}function TR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?xr(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function SR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];KI(r,n,c,l,u,d)}}function AR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function nw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function rw(t,e){let n=t.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];qE(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function Bl(t,e){return t[ms]?t[b_][Ot]=e:t[ms]=e,t[b_]=e,e}function Eh(t,e,n){qE(0);let r=Q(null);try{e(t,n)}finally{Q(r)}}function NR(t){return t[el]??=[]}function MR(t){return t.cleanup??=[]}function iw(t,e){let n=t[Hi],r=n?n.get(En,null):null;r&&r.handleError(e)}function pp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];KI(u,l,r,a,c,i)}}function ow(t,e,n){let r=PE(e,t);UM(t[_e],r,n)}function RR(t,e){let n=er(e,t),r=n[z];xR(r,n);let i=n[ot];i!==null&&n[Jt]===null&&(n[Jt]=tp(i,n[Hi])),mp(r,n,n[Ft])}function xR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function mp(t,e,n){Gh(e);try{let r=t.viewQuery;r!==null&&Eh(1,r,n);let i=t.template;i!==null&&QI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[zi]?.finishViewCreation(t),t.staticContentQueries&&rw(t,e),t.staticViewQueries&&Eh(2,t.viewQuery,n);let o=t.components;o!==null&&kR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,qh()}}function kR(t,e){for(let n=0;n<e.length;n++)RR(t,e[n])}function OR(t,e,n,r){let i=Q(null);try{let o=e.tView,a=t[O]&4096?4096:16,c=Ul(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Wi]=l;let u=t[zi];return u!==null&&(c[zi]=u.createEmbeddedView(o)),mp(o,c,n),c}finally{Q(i)}}function $_(t,e){return!e||e.firstChild===null||ul(t)}function PR(t,e,n,r=!0){let i=e[z];if(WM(i,e,t,n),r){let s=yh(n,t),a=e[_e],c=HI(a,t[_n]);c!==null&&$M(i,t[Vt],a,e,c,s)}let o=e[Jt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function pl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Lt(o)),nn(o)&&FR(o,r);let s=n.type;if(s&8)pl(t,e,n.child,r);else if(s&32){let a=ip(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=WI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Fr(e[_t]);pl(c[z],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function FR(t,e){for(let n=it;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&pl(r[z],r,i,e)}t[_n]!==t[ot]&&e.push(t[_n])}var sw=[];function LR(t){return t[vt]??VR(t)}function VR(t){let e=sw.pop()??Object.create(UR);return e.lView=t,e}function jR(t){t.lView[vt]!==t&&(t.lView=null,sw.push(t))}var UR=V(I({},rs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ml(t.lView)},consumerOnSignalRead(){this.lView[vt]=this}});function BR(t){let e=t[vt]??Object.create($R);return e.lView=t,e}var $R=V(I({},rs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Fr(t.lView);for(;e&&!aw(e[z]);)e=Fr(e);e&&VE(e)},consumerOnSignalRead(){this.lView[vt]=this}});function aw(t){return t.type!==2}var HR=100;function cw(t,e=!0,n=0){let r=t[Xt],i=r.rendererFactory,o=!1;o||i.begin?.();try{WR(t,n)}catch(s){throw e&&iw(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function WR(t,e){let n=WE();try{S_(!0),Ih(t,e);let r=0;for(;Nl(t);){if(r===HR)throw new S(103,!1);r++,Ih(t,1)}}finally{S_(n)}}function zR(t,e,n,r){let i=e[O];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Xt].inlineEffectRunner?.flush(),Gh(e);let a=!0,c=null,l=null;o||(aw(t)?(l=LR(e),c=ac(l)):Ny()===null?(a=!1,l=BR(e),c=ac(l)):e[vt]&&(uf(e[vt]),e[vt]=null));try{LE(e),SN(t.bindingStartIndex),n!==null&&QI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Gc(e,h,null)}else{let h=t.preOrderHooks;h!==null&&qc(e,h,0,null),Ff(e,0)}if(s||GR(e),lw(e,0),t.contentQueries!==null&&rw(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Gc(e,h)}else{let h=t.contentHooks;h!==null&&qc(e,h,1),Ff(e,1)}rR(t,e);let d=t.components;d!==null&&dw(e,d,0);let f=t.viewQuery;if(f!==null&&Eh(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Gc(e,h)}else{let h=t.viewHooks;h!==null&&qc(e,h,2),Ff(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Pf]){for(let h of e[Pf])h();e[Pf]=null}o||(e[O]&=-73)}catch(u){throw o||Ml(e),u}finally{l!==null&&(cf(l,c),a&&jR(l)),qh()}}function lw(t,e){for(let n=EI(t);n!==null;n=II(n))for(let r=it;r<n.length;r++){let i=n[r];uw(i,e)}}function GR(t){for(let e=EI(t);e!==null;e=II(e)){if(!(e[O]&rl.HasTransplantedViews))continue;let n=e[nl];for(let r=0;r<n.length;r++){let i=n[r];VE(i)}}}function qR(t,e,n){let r=er(e,t);uw(r,n)}function uw(t,e){Hh(t)&&Ih(t,e)}function Ih(t,e){let r=t[z],i=t[O],o=t[vt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&lf(o)),s||=!1,o&&(o.dirty=!1),t[O]&=-9217,s)zR(r,t,r.template,t[Ft]);else if(i&8192){lw(t,1);let a=r.components;a!==null&&dw(t,a,1)}}function dw(t,e,n){for(let r=0;r<e.length;r++)qR(t,e[r],n)}function gp(t,e){let n=WE()?64:1088;for(t[Xt].changeDetectionScheduler?.notify(e);t;){t[O]|=n;let r=Fr(t);if(il(t)&&!r)return t;t=r}return null}var jr=class{get rootNodes(){let e=this._lView,n=e[z];return pl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ft]}set context(e){this._lView[Ft]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pe];if(nn(e)){let n=e[tl],r=n?n.indexOf(this):-1;r>-1&&(vh(e,r),Jc(n,r))}this._attachedToViewContainer=!1}BI(this._lView[z],this._lView)}onDestroy(e){jE(this._lView,e)}markForCheck(){gp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){rh(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,cw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=il(this._lView),n=this._lView[Wi];n!==null&&!e&&sp(n,this._lView),jI(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e;let n=il(this._lView),r=this._lView[Wi];r!==null&&!n&&UI(r,this._lView),rh(this._lView)}},Ss=(()=>{class t{static{this.__NG_ELEMENT_ID__=ZR}}return t})(),YR=Ss,KR=class extends YR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=OR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new jr(i)}};function ZR(){return QR(Ze(),le())}function QR(t,e){return t.type&4?new KR(e,t,kl(t,e)):null}var JR=new RegExp(`^(\\d+)*(${bI}|${DI})*(.*)`);function XR(t){let e=t.match(JR),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function ex(t){return!t.prev&&t.parent?.type===8}function $f(t){return t.index-Ge}function tx(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function $l(t,e,n,r){let i=$f(r),o=tx(t,i);if(o===void 0){let s=t.data[yM];if(s?.[i])o=rx(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(ex(r)){let l=$f(r.parent);o=gh(t,l)}else{let l=at(c,n);if(a)o=l.firstChild;else{let u=$f(c),d=gh(t,u);if(c.type===2&&d){let h=np(t,u)+1;o=Hl(h,d)}else o=l.nextSibling}}}}return o}function Hl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function nx(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case mh.FirstChild:n=n.firstChild;break;case mh.NextSibling:n=n.nextSibling;break}}return n}function rx(t,e){let[n,...r]=XR(t),i;if(n===DI)i=e[_t][ot];else if(n===bI)i=VM(e[_t][ot]);else{let o=Number(n);i=Lt(e[o+Ge])}return nx(i,r)}var ix=!1;function ox(t){ix=t}function sx(t){let e=t[Jt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[_e];for(let o of r.values())ax(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function ax(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Ge);i&&ap(t,i,!1)}}function fw(t){let e=t[gs]??[],r=t[Pe][_e];for(let i of e)cx(i,r);t[gs]=rt}function cx(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[dl];for(;n<i;){let o=r.nextSibling;ap(e,r,!1),r=o,n++}}}function hw(t){fw(t);let e=t[ot];Pt(e)&&ml(e);for(let n=it;n<t.length;n++)ml(t[n])}function ml(t){sx(t);let e=t[z];for(let n=Ge;n<e.bindingStartIndex;n++)if(nn(t[n])){let r=t[n];hw(r)}else Pt(t[n])&&ml(t[n])}function lx(t){let e=t._views;for(let n of e){let r=CM(n);r!==null&&r[ot]!==null&&(Pt(r)?ml(r):hw(r))}}function ux(t,e){let n=[];for(let r of e)for(let i=0;i<(r[TI]??1);i++){let o={data:r,firstChild:null};r[dl]>0&&(o.firstChild=t,t=Hl(r[dl],t)),n.push(o)}return[t,n]}var pw=()=>null;function dx(t,e){let n=t[gs];return!e||n===null||n.length===0?null:n[0].data[vM]===e?n.shift():(fw(t),null)}function fx(){pw=dx}function H_(t,e){return pw(t,e)}var Yi=class{},Wl=new T("",{providedIn:"root",factory:()=>!1});var mw=new T(""),gw=new T(""),wh=class{},gl=class{};function hx(t){let e=Error(`No component factory found for ${ze(t)}.`);return e[px]=t,e}var px="ngComponent";var Ch=class{resolveComponentFactory(e){throw hx(e)}},Ki=class{static{this.NULL=new Ch}},Zi=class{},rn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mx()}}return t})();function mx(){let t=le(),e=Ze(),n=er(e.index,t);return(Pt(n)?n:t)[_e]}var gx=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>null})}}return t})();function vl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=m_(i,a);else if(o==2){let c=a,l=e[++s];r=m_(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var yl=class extends Ki{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pr(e);return new vs(n,this.ngModule)}};function W_(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Zn.None;e?n.push({propName:s,templateName:r,isSignal:(a&Zn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function vx(t){let e=t.toLowerCase();return e==="svg"?pN:e==="math"?mN:null}var vs=class extends gl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=W_(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return W_(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Q(null);try{i=i||this.ngModule;let s=i instanceof yt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new oh(e,s):e,c=a.get(Zi,null);if(c===null)throw new S(407,!1);let l=a.get(gx,null),u=a.get(Yi,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?sR(f,r,this.componentDef.encapsulation,a):op(f,h,vx(h)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let N=null;p!==null&&(N=tp(p,a,!0));let P=fp(0,null,null,1,0,null,null,null,null,null,null),pe=Ul(null,P,null,D,null,null,d,f,a,null,N);Gh(pe);let me,Ce,Mt=null;try{let Re=this.componentDef,vn,es=null;Re.findHostDirectiveDefs?(vn=[],es=new Map,Re.findHostDirectiveDefs(Re,vn,es),vn.push(Re)):vn=[Re];let ts=yx(pe,p);Mt=_x(ts,p,Re,vn,pe,d,f),Ce=FE(P,Ge),p&&wx(f,Re,p,r),n!==void 0&&Cx(Ce,this.ngContentSelectors,n),me=Ix(Mt,Re,vn,es,pe,[Dx]),mp(P,pe,null)}catch(Re){throw Mt!==null&&hh(Mt),hh(pe),Re}finally{qh()}return new Dh(this.componentType,me,kl(Ce,pe),pe,Ce)}finally{Q(o)}}},Dh=class extends wh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new jr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;pp(o[z],o,i,e,n),this.previousInputValues.set(e,n);let s=er(this._tNode.index,o);gp(s,1)}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yx(t,e){let n=t[z],r=Ge;return t[r]=e,Ts(n,r,2,"#host",null)}function _x(t,e,n,r,i,o,s){let a=i[z];Ex(r,t,e,s);let c=null;e!==null&&(c=tp(e,i[Hi]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Ul(i,JI(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&_h(a,t,r.length-1),Bl(i,d),i[t.index]=d}function Ex(t,e,n,r){for(let i of t)e.mergedAttrs=hs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(vl(e,e.mergedAttrs,!0),n!==null&&qI(r,n,e))}function Ix(t,e,n,r,i,o){let s=Ze(),a=i[z],c=at(s,i);ew(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=qi(i,a,d,s);Jn(f,i)}tw(a,i,s),c&&Jn(c,i);let l=qi(i,a,s.directiveStart+s.componentOffset,s);if(t[Ft]=i[Ft]=l,o!==null)for(let u of o)u(l,e);return lp(a,s,i),l}function wx(t,e,n,r){if(r)Jf(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=YA(e.selectors[0]);i&&Jf(t,n,i),o&&o.length>0&&GI(t,n,o.join(" "))}}function Cx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Dx(){let t=Ze();xl(le()[z],t)}var zr=(()=>{class t{static{this.__NG_ELEMENT_ID__=bx}}return t})();function bx(){let t=Ze();return Sx(t,le())}var Tx=zr,vw=class extends Tx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return kl(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yh(this._hostTNode,this._hostLView);if(rI(e)){let n=sl(e,this._hostLView),r=ol(e),i=n[z].data[r+8];return new kr(i,n)}else return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=z_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-it}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=H_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,$_(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!uN(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new vs(Pr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let D=(s?l:this.parentInjector).get(yt,null);D&&(o=D)}let u=Pr(c.componentType??{}),d=H_(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,$_(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Pe],l=new vw(c,c[Vt],c[Pe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return PR(s,i,o,r),e.attachToViewContainerRef(),hE(Hf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=z_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vh(this._lContainer,n);r&&(Jc(Hf(this._lContainer),n),BI(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=vh(this._lContainer,n);return r&&Jc(Hf(this._lContainer),n)!=null?new jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function z_(t){return t[tl]}function Hf(t){return t[tl]||(t[tl]=[])}function Sx(t,e){let n,r=e[t.index];return nn(r)?n=r:(n=nw(r,e,null,t),e[t.index]=n,Bl(e,n)),yw(n,e,t,r),new vw(n,t,e)}function Ax(t,e){let n=t[_e],r=n.createComment(""),i=at(e,t),o=HI(n,i);return hl(n,o,r,KM(n,i),!1),r}var yw=_w,vp=()=>!1;function Nx(t,e,n){return vp(t,e,n)}function _w(t,e,n,r){if(t[_n])return;let i;n.type&8?i=Lt(r):i=Ax(e,n),t[_n]=i}function Mx(t,e,n){if(t[_n]&&t[gs])return!0;let r=n[Jt],i=e.index-Ge;if(!r||cM(e)||Ds(r,i))return!1;let s=gh(r,i),a=r.data[ep]?.[i],[c,l]=ux(s,a);return t[_n]=c,t[gs]=l,!0}function Rx(t,e,n,r){vp(t,n,e)||_w(t,e,n,r)}function xx(){yw=Rx,vp=Mx}var G_=new Set;function nr(t){G_.has(t)||(G_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function As(t,e){nr("NgSignals");let n=Uy(t),r=n[$n];return e?.equal&&(r.equal=e.equal),n.set=i=>df(r,i),n.update=i=>By(r,i),n.asReadonly=kx.bind(n),n}function kx(){let t=this[$n];if(t.readonlyFn===void 0){let e=()=>this();e[$n]=t,t.readonlyFn=e}return t.readonlyFn}function Ox(t){return Object.getPrototypeOf(t.prototype).constructor}function It(t){let e=Ox(t.type),n=!0,r=[t];for(;e;){let i;if(Qn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Bc(t.inputs),s.inputTransforms=Bc(t.inputTransforms),s.declaredInputs=Bc(t.declaredInputs),s.outputs=Bc(t.outputs);let a=i.hostBindings;a&&jx(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Lx(t,c),l&&Vx(t,l),Px(t,i),mA(t.outputs,i.outputs),Qn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===It&&(n=!1)}}e=Object.getPrototypeOf(e)}Fx(r)}function Px(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Fx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hs(i.hostAttrs,n=hs(n,i.hostAttrs))}}function Bc(t){return t===Bi?{}:t===rt?[]:t}function Lx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Vx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function jx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function yp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Xn=class{},ys=class{};var bh=class extends Xn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yl(this);let o=wE(e);this._bootstrapComponents=FI(o.bootstrap),this._r3Injector=fI(e,n,[{provide:Xn,useValue:this},{provide:Ki,useValue:this.componentFactoryResolver},...r],ze(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Th=class extends ys{constructor(e){super(),this.moduleType=e}create(e){return new bh(this.moduleType,e,[])}};var _l=class extends Xn{constructor(e){super(),this.componentFactoryResolver=new yl(this),this.instance=null;let n=new ps([...e.providers,{provide:Xn,useValue:this},{provide:Ki,useValue:this.componentFactoryResolver}],e.parent||Bh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _p(t,e,n=null){return new _l({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Ew(t){return Bx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Ux(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Bx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Iw(t,e,n){return t[e]=n}function Ur(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ww(t,e,n,r){let i=Ur(t,e,n);return Ur(t,e+1,r)||i}function Cw(t,e,n,r,i){let o=ww(t,e,n,r);return Ur(t,e+2,i)||o}function Ns(t){return(t.flags&32)===32}function $x(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Ts(e,t,4,s||null,a||null);hp(e,n,u,Gi(l,c)),xl(e,u);let d=u.tView=fp(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Hx(t,e,n,r,i,o,s,a,c,l){let u=n+Ge,d=e.firstCreatePass?$x(u,e,t,r,i,o,s,a,c):e.data[u];$r(d,!1);let f=Dw(e,t,d,n);Rl()&&Vl(e,t,f,d),Jn(f,t);let h=nw(f,t,f,d);return t[u]=h,Bl(t,h),Nx(h,d,t),Al(d)&&up(e,t,d),c!=null&&dp(t,d,l),d}function Y(t,e,n,r,i,o,s,a){let c=le(),l=ct(),u=Gi(l.consts,o);return Hx(c,l,t,e,n,r,i,u,s,a),Y}var Dw=bw;function bw(t,e,n,r){return tr(!0),e[_e].createComment("")}function Wx(t,e,n,r){let i=e[Jt],o=!i||Cs()||Ns(n)||Ds(i,r);if(tr(o),o)return bw(t,e,n,r);let s=i.data[gM]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=$l(i,t,e,n);Fl(i,r,a);let c=np(i,r);return Hl(c,a)}function zx(){Dw=Wx}var us=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(us||{}),Gx=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})(),q_=class t{constructor(){this.ngZone=y(re),this.scheduler=y(Yi),this.errorHandler=y(En,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[us.EarlyRead,us.Write,us.MixedReadWrite,us.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}};function rr(t,e,n,r){let i=le(),o=zh();if(Ur(i,o,e)){let s=ct(),a=XE();bR(a,i,t,e,n,r)}return rr}function qx(t,e,n,r){return Ur(t,zh(),n)?e+xr(n)+r:Tn}function Yx(t,e,n,r,i,o,s,a){let c=TN(),l=Cw(t,c,n,i,s);return GE(3),l?e+xr(n)+r+xr(i)+o+xr(s)+a:Tn}function $c(t,e){return t<<17|e<<2}function Br(t){return t>>17&32767}function Kx(t){return(t&2)==2}function Zx(t,e){return t&131071|e<<17}function Sh(t){return t|2}function Qi(t){return(t&131068)>>2}function Wf(t,e){return t&-131069|e<<2}function Qx(t){return(t&1)===1}function Ah(t){return t|1}function Jx(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Br(s),c=Qi(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Is(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Br(t[a+1]);t[r+1]=$c(f,a),f!==0&&(t[f+1]=Wf(t[f+1],r)),t[a+1]=Zx(t[a+1],r)}else t[r+1]=$c(a,0),a!==0&&(t[a+1]=Wf(t[a+1],r)),a=r;else t[r+1]=$c(c,0),a===0?a=r:t[c+1]=Wf(t[c+1],r),c=r;l&&(t[r+1]=Sh(t[r+1])),Y_(t,u,r,!0),Y_(t,u,r,!1),Xx(e,u,t,r,o),s=$c(a,c),o?e.classBindings=s:e.styleBindings=s}function Xx(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Is(o,e)>=0&&(n[r+1]=Ah(n[r+1]))}function Y_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Br(i):Qi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];ek(c,e)&&(a=!0,t[s+1]=r?Ah(l):Sh(l)),s=r?Br(l):Qi(l)}a&&(t[n+1]=r?Sh(i):Ah(i))}function ek(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Is(t,e)>=0:!1}function C(t,e,n){let r=le(),i=zh();if(Ur(r,i,e)){let o=ct(),s=XE();hR(o,s,r,t,e,r[_e],n,!1)}return C}function K_(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";pp(t,n,o[s],s,r)}function zl(t,e){return tk(t,e,null,!0),zl}function tk(t,e,n,r){let i=le(),o=ct(),s=GE(2);if(o.firstUpdatePass&&rk(o,t,s,r),e!==Tn&&Ur(i,s,e)){let a=o.data[Hr()];ck(o,a,i,i[_e],t,i[s+1]=lk(e,n),r,s)}}function nk(t,e){return e>=t.expandoStartIndex}function rk(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Hr()],s=nk(t,n);uk(o,r)&&e===null&&!s&&(e=!1),e=ik(i,o,e,r),Jx(i,o,e,n,s,r)}}function ik(t,e,n,r){let i=RN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=zf(null,t,e,n,r),n=_s(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=zf(i,t,e,n,r),o===null){let c=ok(t,e,r);c!==void 0&&Array.isArray(c)&&(c=zf(null,t,e,c[1],r),c=_s(c,e.attrs,r),sk(t,e,r,c))}else o=ak(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function ok(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Qi(r)!==0)return t[Br(r)]}function sk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Br(i)]=r}function ak(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=_s(r,s,n)}return _s(r,e.attrs,n)}function zf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=_s(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function _s(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),PA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function ck(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Qx(l)?Z_(c,e,n,i,Qi(l),s):void 0;if(!El(u)){El(o)||Kx(l)&&(o=Z_(c,null,n,i,a,s));let d=PE(Hr(),n);tR(r,s,d,i,o)}}function Z_(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Tn&&(f=d?rt:void 0);let h=d?kf(f,r):u===r?f:void 0;if(l&&!El(h)&&(h=kf(c,r)),El(h)&&(a=h,s))return a;let p=t[i+1];i=s?Br(p):Qi(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=kf(c,r))}return a}function El(t){return t!==void 0}function lk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ze(bs(t)))),t}function uk(t,e){return(t.flags&(e?8:16))!==0}function dk(t,e,n,r,i,o){let s=e.consts,a=Gi(s,i),c=Ts(e,t,2,r,a);return hp(e,n,c,Gi(s,o)),c.attrs!==null&&vl(c,c.attrs,!1),c.mergedAttrs!==null&&vl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=le(),o=ct(),s=Ge+t,a=i[_e],c=o.firstCreatePass?dk(s,o,i,e,n,r):o.data[s],l=Tw(o,i,c,a,e,t);i[s]=l;let u=Al(c);return $r(c,!0),qI(a,l,c),!Ns(c)&&Rl()&&Vl(o,i,l,c),_N()===0&&Jn(l,i),EN(),u&&(up(o,i,c),lp(o,c,i)),r!==null&&dp(i,c),v}function g(){let t=Ze();Wh()?HE():(t=t.parent,$r(t,!1));let e=t;wN(e)&&DN(),IN();let n=ct();return n.firstCreatePass&&(xl(n,t),$h(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&LN(e)&&K_(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VN(e)&&K_(n,e,le(),e.stylesWithoutHost,!1),g}function Z(t,e,n,r){return v(t,e,n,r),g(),Z}var Tw=(t,e,n,r,i,o)=>(tr(!0),op(r,i,eI()));function fk(t,e,n,r,i,o){let s=e[Jt],a=!s||Cs()||Ns(n)||Ds(s,o);if(tr(a),a)return op(r,i,eI());let c=$l(s,t,e,n);return MI(s,o)&&Fl(s,o,c.nextSibling),s&&(vI(n)||yI(c))&&ws(n)&&(CN(n),zI(c)),c}function hk(){Tw=fk}function pk(t,e,n,r,i){let o=e.consts,s=Gi(o,r),a=Ts(e,t,8,"ng-container",s);s!==null&&vl(a,s,!0);let c=Gi(o,i);return hp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Gr(t,e,n){let r=le(),i=ct(),o=t+Ge,s=i.firstCreatePass?pk(o,i,r,e,n):i.data[o];$r(s,!0);let a=Sw(i,r,s,t);return r[o]=a,Rl()&&Vl(i,r,a,s),Jn(a,r),Al(s)&&(up(i,r,s),lp(i,s,r)),n!=null&&dp(r,s),Gr}function qr(){let t=Ze(),e=ct();return Wh()?HE():(t=t.parent,$r(t,!1)),e.firstCreatePass&&(xl(e,t),$h(t)&&e.queries.elementEnd(t)),qr}var Sw=(t,e,n,r)=>(tr(!0),VI(e[_e],""));function mk(t,e,n,r){let i,o=e[Jt],s=!o||Cs()||Ds(o,r)||Ns(n);if(tr(s),s)return VI(e[_e],"");let a=$l(o,t,e,n),c=TM(o,r);return Fl(o,r,a),i=Hl(c,a),i}function gk(){Sw=mk}function wt(){return le()}var Il="en-US";var vk=Il;function yk(t){typeof t=="string"&&(vk=t.toLowerCase().replace(/_/g,"-"))}var _k=(t,e,n)=>{};function X(t,e,n,r){let i=le(),o=ct(),s=Ze();return Ik(o,i,i[_e],s,t,e,r),X}function Ek(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[el],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Ik(t,e,n,r,i,o,s){let a=Al(r),l=t.firstCreatePass&&MR(t),u=e[Ft],d=NR(e),f=!0;if(r.type&3||s){let D=at(r,e),N=s?s(D):D,P=d.length,pe=s?Ce=>s(Lt(Ce[r.index])):r.index,me=null;if(!s&&a&&(me=Ek(t,e,i,r.index)),me!==null){let Ce=me.__ngLastListenerFn__||me;Ce.__ngNextListenerFn__=o,me.__ngLastListenerFn__=o,f=!1}else{o=J_(r,e,u,o),_k(D,i,o);let Ce=n.listen(N,i,o);d.push(o,Ce),l&&l.push(i,pe,P,P+1)}}else o=J_(r,e,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let D=p.length;if(D)for(let N=0;N<D;N+=2){let P=p[N],pe=p[N+1],Mt=e[P][pe].subscribe(o),Re=d.length;d.push(o,Mt),l&&l.push(i,r.index,Re,-(Re+1))}}}function Q_(t,e,n,r){let i=Q(null);try{return Kt(6,e,n),n(r)!==!1}catch(o){return iw(t,o),!1}finally{Kt(7,e,n),Q(i)}}function J_(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?er(t.index,e):e;gp(s,5);let a=Q_(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Q_(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function se(t=1){return kN(t)}function _(t,e=""){let n=le(),r=ct(),i=t+Ge,o=r.firstCreatePass?Ts(r,i,1,e,null):r.data[i],s=Aw(r,n,o,e,t);n[i]=s,Rl()&&Vl(r,n,s,o),$r(o,!1)}var Aw=(t,e,n,r,i)=>(tr(!0),LI(e[_e],r));function wk(t,e,n,r,i){let o=e[Jt],s=!o||Cs()||Ns(n)||Ds(o,i);return tr(s),s?LI(e[_e],r):$l(o,t,e,n)}function Ck(){Aw=wk}function Ms(t,e,n){let r=le(),i=qx(r,t,e,n);return i!==Tn&&ow(r,Hr(),i),Ms}function Ep(t,e,n,r,i,o,s){let a=le(),c=Yx(a,t,e,n,r,i,o,s);return c!==Tn&&ow(a,Hr(),c),Ep}function Dk(t,e,n){let r=ct();if(r.firstCreatePass){let i=Qn(t);Nh(n,r.data,r.blueprint,i,!0),Nh(e,r.data,r.blueprint,i,!1)}}function Nh(t,e,n,r,i){if(t=We(t),Array.isArray(t))for(let o=0;o<t.length;o++)Nh(t[o],e,n,r,i);else{let o=ct(),s=le(),a=Ze(),c=$i(t)?t:We(t.provide),l=AE(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if($i(t)||!t.multi){let h=new Vr(l,i,b),p=qf(c,e,i?u:u+f,d);p===-1?(ah(al(a,s),o,c),Gf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=qf(c,e,u+f,d),p=qf(c,e,u,u+f),D=h>=0&&n[h],N=p>=0&&n[p];if(i&&!N||!i&&!D){ah(al(a,s),o,c);let P=Sk(i?Tk:bk,n.length,i,r,l);!i&&N&&(n[p].providerFactory=P),Gf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(P),s.push(P)}else{let P=Nw(n[i?p:h],l,!i&&r);Gf(o,t,h>-1?h:p,P)}!i&&r&&N&&n[p].componentProviders++}}}function Gf(t,e,n,r){let i=$i(e),o=nN(e);if(i||o){let c=(o?We(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Nw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bk(t,e,n,r){return Mh(this.multi,[])}function Tk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=qi(n,n[z],this.providerFactory.index,r);o=a.slice(0,s),Mh(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Mh(i,o);return o}function Mh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Sk(t,e,n,r,i){let o=new Vr(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,Nw(o,i,r&&!n),o}function ir(t,e=[]){return n=>{n.providersResolver=(r,i)=>Dk(r,i?i(t):t,e)}}var Ak=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=bE(!1,n.type),i=r.length>0?_p([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=A({token:t,providedIn:"environment",factory:()=>new t(x(yt))})}}return t})();function te(t){nr("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ak).getOrCreateStandaloneInjector(t)}function lt(t,e,n,r,i){return Nk(le(),zE(),t,e,n,r,i)}function Mw(t,e,n,r,i,o){return Mk(le(),zE(),t,e,n,r,i,o)}function Rw(t,e){let n=t[e];return n===Tn?void 0:n}function Nk(t,e,n,r,i,o,s){let a=e+n;return ww(t,a,i,o)?Iw(t,a+2,s?r.call(s,i,o):r(i,o)):Rw(t,a+2)}function Mk(t,e,n,r,i,o,s,a){let c=e+n;return Cw(t,c,i,o,s)?Iw(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Rw(t,c+3)}var wn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xw=new wn("18.2.10");var Gl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var kw=new T("");function Yr(t){return!!t&&typeof t.then=="function"}function Ow(t){return!!t&&typeof t.subscribe=="function"}var Pw=new T(""),Fw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=y(Pw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Yr(o))n.push(o);else if(Ow(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eo=new T("");function Rk(){jy(()=>{throw new S(600,!1)})}function xk(t){return t.isBoundToModule}var kk=10;function Ok(t,e,n){try{let r=n();return Yr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var on=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(iM),this.afterRenderManager=y(Gx),this.zonelessEnabled=y(Wl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ne,this.afterTick=new Ne,this.componentTypes=[],this.components=[],this.isStable=y(Wr).hasPendingTasks.pipe(k(n=>!n)),this._injector=y(yt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof gl;if(!this._injector.get(Fw).done){let f=!i&&IE(n),h=!1;throw new S(405,h)}let s;i?s=n:s=this._injector.get(Ki).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=xk(s)?void 0:this._injector.get(Xn),c=r||s.selector,l=s.create(Fe.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(kw,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Yc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new S(101,!1);let n=Q(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Q(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Zi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<kk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Pk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Nl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Yc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(eo,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Yc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Yc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Hc;function ql(t){Hc??=new WeakMap;let e=Hc.get(t);if(e)return e;let n=t.isStable.pipe(xt(r=>r)).toPromise().then(()=>{});return Hc.set(t,n),t.onDestroy(()=>Hc?.delete(t)),n}function Pk(t,e,n,r){if(!n&&!Nl(t))return;cw(t,e,n&&!r?0:1)}var Rh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ip=(()=>{class t{compileModuleSync(n){return new Th(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=wE(n),o=FI(i.declarations).reduce((s,a)=>{let c=Pr(a);return c&&s.push(new vs(c)),s},[]);return new Rh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Fk=(()=>{class t{constructor(){this.zone=y(re),this.changeDetectionScheduler=y(Yi),this.applicationRef=y(on)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lk=new T("",{factory:()=>!1});function Lw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new re(V(I({},jw()),{scheduleInRootZone:n})),[{provide:re,useFactory:t},{provide:Or,multi:!0,useFactory:()=>{let r=y(Fk,{optional:!0});return()=>r.initialize()}},{provide:Or,multi:!0,useFactory:()=>{let r=y(Vk);return()=>{r.initialize()}}},e===!0?{provide:mw,useValue:!0}:[],{provide:gw,useValue:n??hI}]}function Vw(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Lw({ngZoneFactory:()=>{let i=jw(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&nr("NgZone_CoalesceEvent"),new re(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return st([{provide:Lk,useValue:!0},{provide:Wl,useValue:!1},r])}function jw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Vk=(()=>{class t{constructor(){this.subscription=new ye,this.initialized=!1,this.zone=y(re),this.pendingTasks=y(Wr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{re.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jk=(()=>{class t{constructor(){this.appRef=y(on),this.taskService=y(Wr),this.ngZone=y(re),this.zonelessEnabled=y(Wl),this.disableScheduling=y(mw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ye,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ll):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(gw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?k_:mI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ll+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,k_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Uk(){return typeof $localize<"u"&&$localize.locale||Il}var wp=new T("",{providedIn:"root",factory:()=>y(wp,$.Optional|$.SkipSelf)||Uk()});var xh=new T("");function Wc(t){return!t.moduleRef}function Bk(t){let e=Wc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(re);return n.run(()=>{Wc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(En,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Wc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(xh);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(xh);s.add(o),t.moduleRef.onDestroy(()=>{Yc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Ok(r,n,()=>{let o=e.get(Fw);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(wp,Il);if(yk(s||Il),Wc(t)){let a=e.get(on);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return $k(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function $k(t,e){let n=t.injector.get(on);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new S(-403,!1);e.push(t)}var Kc=null;function Hk(t=[],e){return Fe.create({name:e,providers:[{provide:Tl,useValue:"platform"},{provide:xh,useValue:new Set([()=>Kc=null])},...t]})}function Wk(t=[]){if(Kc)return Kc;let e=Hk(t);return Kc=e,Rk(),zk(e),e}function zk(t){t.get(Jh,null)?.forEach(n=>n())}var to=(()=>{class t{static{this.__NG_ELEMENT_ID__=Gk}}return t})();function Gk(t){return qk(Ze(),le(),(t&16)===16)}function qk(t,e,n){if(ws(t)&&!n){let r=er(t.index,e);return new jr(r,r)}else if(t.type&175){let r=e[_t];return new jr(r,e)}return null}var kh=class{constructor(){}supports(e){return Ew(e)}create(e){return new Oh(e)}},Yk=(t,e)=>e,Oh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Yk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<X_(r,i,o)?n:r,a=X_(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Ew(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Ux(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ph(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new wl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ph=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Fh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},wl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Fh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function X_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function eE(){return new Cp([new kh])}var Cp=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:eE})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||eE()),deps:[[t,new fE,new qe]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new S(901,!1)}}return t})();function Uw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Wk(r),o=[Lw({}),{provide:Yi,useExisting:jk},...n||[]],s=new _l({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Bk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var tE=!1;function Kk(){tE||(tE=!0,wM(),hk(),Ck(),gk(),zx(),xx(),fx(),lR())}function Zk(t,e){return ql(t)}function Bw(){return st([{provide:Vc,useFactory:()=>{let t=!0;return Uc()&&(t=!!y(Xi,{optional:!0})?.get(AI,null)),t&&nr("NgHydration"),t}},{provide:Or,useValue:()=>{ox(!1),Uc()&&y(Vc)&&(Qk(),Kk())},multi:!0},{provide:xI,useFactory:()=>Uc()&&y(Vc)},{provide:eo,useFactory:()=>{if(Uc()&&y(Vc)){let t=y(on),e=y(Fe);return()=>{Zk(t,e).then(()=>{lx(t)})}}return()=>{}},multi:!0}])}function Qk(){let t=Ol(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===EM){e=n;break}if(!e)throw new S(-507,!1)}function Kr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Rs(t,e){nr("NgSignals");let n=Fy(t);return e?.equal&&(n[$n].equal=e.equal),n}function Sn(t){let e=Q(null);try{return t()}finally{Q(e)}}var qw=null;function An(){return qw}function Yw(t){qw??=t}var Yl=class{};var ut=new T(""),Kw=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(Jk),providedIn:"platform"})}}return t})();var Jk=(()=>{class t extends Kw{constructor(){super(),this._doc=y(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(n){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Zw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $w(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Zr(t){return t&&t[0]!=="?"?"?"+t:t}var no=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(Qw),providedIn:"root"})}}return t})(),Xk=new T(""),Qw=(()=>{class t extends no{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Zw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Zr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Zr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(x(Kw),x(Xk,8))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xs=(()=>{class t{constructor(n){this._subject=new de,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=nO($w(Hw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Zr(r))}normalize(n){return t.stripTrailingSlash(tO(this._basePath,Hw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Zr}static{this.joinWithSlash=Zw}static{this.stripTrailingSlash=$w}static{this.\u0275fac=function(r){return new(r||t)(x(no))}}static{this.\u0275prov=A({token:t,factory:()=>eO(),providedIn:"root"})}}return t})();function eO(){return new xs(x(no))}function tO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hw(t){return t.replace(/\/index.html$/,"")}function nO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ap(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Dp=/\s+/,Ww=[],or=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Ww,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Dp):Ww}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Dp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Dp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(b(Ut),b(rn))}}static{this.\u0275dir=fe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var bp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jw=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new bp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),zw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);zw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(b(zr),b(Ss),b(Cp))}}static{this.\u0275dir=fe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function zw(t,e){t.context.$implicit=e.item}var sn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Tp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Gw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Gw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(b(zr),b(Ss))}}static{this.\u0275dir=fe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Tp=class{constructor(){this.$implicit=null,this.ngIf=null}};function Gw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ze(e)}'.`)}var Sp=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Np=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=fe({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),Xw=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Sp(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||t)(b(zr),b(Ss),b(Np,9))}}static{this.\u0275dir=fe({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})();var Se=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Dn({type:t})}static{this.\u0275inj=Cn({})}}return t})(),eC="browser",rO="server";function ks(t){return t===rO}var Kl=class{};var Ql=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var cC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(cC||{}),Mp=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ql,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Jl=class t extends Mp{constructor(e={}){super(e),this.type=cC.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var iO=new T("");var oO=new T(""),tC="b",nC="h",rC="s",iC="st",oC="u",sC="rt",Zl=new T(""),sO=["GET","HEAD"];function aO(t,e){let h=y(Zl),{isCacheActive:n}=h,r=Sy(h,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!sO.includes(o)||!r.includeRequestsWithAuthHeaders&&cO(t)||r.filter?.(t)===!1)return e(t);let s=y(Xi),a=y(oO,{optional:!0}),c=ks(y(Et));if(a&&!c)throw new S(2803,!1);let l=c&&a?fO(t.url,a):t.url,u=uO(t,l),d=s.get(u,null),f=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(f=i.includeHeaders),d){let{[tC]:p,[sC]:D,[nC]:N,[rC]:P,[iC]:pe,[oC]:me}=d,Ce=p;switch(D){case"arraybuffer":Ce=new TextEncoder().encode(p).buffer;break;case"blob":Ce=new Blob([p]);break}let Mt=new Ql(N);return M(new Jl({body:Ce,headers:Mt,status:P,statusText:pe,url:me}))}return e(t).pipe(we(p=>{p instanceof Jl&&c&&s.set(u,{[tC]:p.body,[nC]:lO(p.headers,f),[rC]:p.status,[iC]:p.statusText,[oC]:l,[sC]:t.responseType})}))}function cO(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function lO(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function aC(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function uO(t,e){let{params:n,method:r,responseType:i}=t,o=aC(n),s=t.serializeBody();s instanceof URLSearchParams?s=aC(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=dO(a);return c}function dO(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function lC(t){return[{provide:Zl,useFactory:()=>(nr("NgHttpTransferCache"),I({isCacheActive:!0},t))},{provide:iO,useValue:aO,multi:!0,deps:[Xi,Zl]},{provide:eo,multi:!0,useFactory:()=>{let e=y(on),n=y(Zl);return()=>{ql(e).then(()=>{n.isCacheActive=!1})}}}]}function fO(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var kp=class extends Yl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Op=class t extends kp{static makeCurrent(){Yw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=hO();return n==null?null:pO(n)}resetBaseElement(){Os=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ap(document.cookie,e)}},Os=null;function hO(){return Os=Os||document.querySelector("base"),Os?Os.getAttribute("href"):null}function pO(t){return new URL(t,document.baseURI).pathname}var mO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Pp=new T(""),hC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(x(Pp),x(re))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Xl=class{constructor(e){this._doc=e}},Rp="ng-app-id",pC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ks(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Rp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Rp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Rp,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(x(ut),x(Pl),x(Xh,8),x(Et))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),xp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vp=/%COMP%/g,mC="%COMP%",gO=`_nghost-${mC}`,vO=`_ngcontent-${mC}`,yO=!0,_O=new T("",{providedIn:"root",factory:()=>yO});function EO(t){return vO.replace(Vp,t)}function IO(t){return gO.replace(Vp,t)}function gC(t,e){return e.map(n=>n.replace(Vp,t))}var uC=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ks(a),this.defaultRenderer=new Ps(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qt.ShadowDom&&(r=V(I({},r),{encapsulation:Qt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof eu?i.applyToHost(n):i instanceof Fs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Qt.Emulated:o=new eu(c,l,r,this.appId,u,s,a,d);break;case Qt.ShadowDom:return new Fp(c,l,n,r,s,a,this.nonce,d);default:o=new Fs(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(x(hC),x(pC),x(Pl),x(_O),x(ut),x(Et),x(re),x(Xh))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Ps=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(dC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=xp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=xp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(In.DashCase|In.Important)?e.style.setProperty(n,r,i&In.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&In.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=An().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function dC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Fp=class extends Ps{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=gC(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fs=class extends Ps{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?gC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},eu=class extends Fs{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=EO(l),this.hostAttr=IO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},wO=(()=>{class t extends Xl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(x(ut))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),fC=["alt","control","meta","shift"],CO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},bO=(()=>{class t extends Xl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=CO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fC.forEach(s=>{if(s!==i){let a=DO[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(x(ut))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})();function vC(t,e){return Uw(I({rootComponent:t},TO(e)))}function TO(t){return{appProviders:[...RO,...t?.providers??[]],platformProviders:MO}}function SO(){Op.makeCurrent()}function AO(){return new En}function NO(){return CI(document),document}var MO=[{provide:Et,useValue:eC},{provide:Jh,useValue:SO,multi:!0},{provide:ut,useFactory:NO,deps:[]}];var RO=[{provide:Tl,useValue:"root"},{provide:En,useFactory:AO,deps:[]},{provide:Pp,useClass:wO,multi:!0,deps:[ut,re,Et]},{provide:Pp,useClass:bO,multi:!0,deps:[ut]},uC,pC,hC,{provide:Zi,useExisting:uC},{provide:Kl,useClass:mO,deps:[]},[]];var yC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(x(ut))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Lp=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Lp||{});function _C(...t){let e=[],n=new Set,r=n.has(Lp.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return st([[],Bw(),n.has(Lp.NoHttpTransferCache)||r?[]:lC({}),e])}var U="primary",Js=Symbol("RouteTitle"),Hp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function co(t){return new Hp(t)}function kO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function OO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!an(t[n],e[n]))return!1;return!0}function an(t,e){let n=t?Wp(t):void 0,r=e?Wp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!SC(t[i],e[i]))return!1;return!0}function Wp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function SC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function AC(t){return t.length>0?t[t.length-1]:null}function ar(t){return Df(t)?t:Yr(t)?ae(Promise.resolve(t)):M(t)}var PO={exact:MC,subset:RC},NC={exact:FO,subset:LO,ignored:()=>!0};function EC(t,e,n){return PO[n.paths](t.root,e.root,n.matrixParams)&&NC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function FO(t,e){return an(t,e)}function MC(t,e,n){if(!Xr(t.segments,e.segments)||!ru(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!MC(t.children[r],e.children[r],n))return!1;return!0}function LO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SC(t[n],e[n]))}function RC(t,e,n){return xC(t,e,e.segments,n)}function xC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Xr(i,n)||e.hasChildren()||!ru(i,n,r))}else if(t.segments.length===n.length){if(!Xr(t.segments,n)||!ru(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!RC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Xr(t.segments,i)||!ru(t.segments,i,r)||!t.children[U]?!1:xC(t.children[U],e,o,r)}}function ru(t,e,n){return e.every((r,i)=>NC[n](t[i].parameters,r.parameters))}var Mn=class{constructor(e=new ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){return UO.serialize(this)}},ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iu(this)}},Jr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=co(this.parameters),this._parameterMap}toString(){return OC(this)}};function VO(t,e){return Xr(t,e)&&t.every((n,r)=>an(n.parameters,e[r].parameters))}function Xr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function jO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var gm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>new Hs,providedIn:"root"})}}return t})(),Hs=class{parse(e){let n=new Gp(e);return new Mn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ls(e.root,!0)}`,r=HO(e.queryParams),i=typeof e.fragment=="string"?`#${BO(e.fragment)}`:"";return`${n}${r}${i}`}},UO=new Hs;function iu(t){return t.segments.map(e=>OC(e)).join("/")}function Ls(t,e){if(!t.hasChildren())return iu(t);if(e){let n=t.children[U]?Ls(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${Ls(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=jO(t,(r,i)=>i===U?[Ls(t.children[U],!1)]:[`${i}:${Ls(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${iu(t)}/${n[0]}`:`${iu(t)}/(${n.join("//")})`}}function kC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tu(t){return kC(t).replace(/%3B/gi,";")}function BO(t){return encodeURI(t)}function zp(t){return kC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ou(t){return decodeURIComponent(t)}function IC(t){return ou(t.replace(/\+/g,"%20"))}function OC(t){return`${zp(t.path)}${$O(t.parameters)}`}function $O(t){return Object.entries(t).map(([e,n])=>`;${zp(e)}=${zp(n)}`).join("")}function HO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${tu(n)}=${tu(i)}`).join("&"):`${tu(n)}=${tu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var WO=/^[^\/()?;#]+/;function jp(t){let e=t.match(WO);return e?e[0]:""}var zO=/^[^\/()?;=#]+/;function GO(t){let e=t.match(zO);return e?e[0]:""}var qO=/^[^=?&#]+/;function YO(t){let e=t.match(qO);return e?e[0]:""}var KO=/^[^&#]+/;function ZO(t){let e=t.match(KO);return e?e[0]:""}var Gp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ne(e,n)),r}parseSegment(){let e=jp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Jr(ou(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=GO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=jp(this.remaining);i&&(r=i,this.capture(r))}e[ou(n)]=ou(r)}parseQueryParam(e){let n=YO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ZO(this.remaining);s&&(r=s,this.capture(r))}let i=IC(n),o=IC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=U);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[U]:new ne([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function PC(t){return t.segments.length>0?new ne([],{[U]:t}):t}function FC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=FC(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ne(t.segments,e);return QO(n)}function QO(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ne(t.segments.concat(e.segments),e.children)}return t}function ei(t){return t instanceof Mn}function JO(t,e,n=null,r=null){let i=LC(t);return VC(i,e,n,r)}function LC(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ne(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=PC(r);return e??i}function VC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Up(i,i,i,n,r);let o=XO(e);if(o.toRoot())return Up(i,i,new ne([],{}),n,r);let s=eP(o,i,t),a=s.processChildren?Us(s.segmentGroup,s.index,o.commands):UC(s.segmentGroup,s.index,o.commands);return Up(i,s.segmentGroup,a,n,r)}function su(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ws(t){return typeof t=="object"&&t!=null&&t.outlets}function Up(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=jC(t,e,n);let a=PC(FC(s));return new Mn(a,o,i)}function jC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=jC(o,e,n)}),new ne(t.segments,r)}var au=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&su(r[0]))throw new S(4003,!1);let i=r.find(Ws);if(i&&i!==AC(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new au(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new au(n,e,r)}var oo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function eP(t,e,n){if(t.isAbsolute)return new oo(e,!0,0);if(!n)return new oo(e,!1,NaN);if(n.parent===null)return new oo(n,!0,0);let r=su(t.commands[0])?0:1,i=n.segments.length-1+r;return tP(n,i,t.numberOfDoubleDots)}function tP(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new oo(r,!1,i-o)}function nP(t){return Ws(t[0])?t[0].outlets:{[U]:t}}function UC(t,e,n){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return Us(t,e,n);let r=rP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ne(t.segments.slice(0,r.pathIndex),{});return o.children[U]=new ne(t.segments.slice(r.pathIndex),t.children),Us(o,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?qp(t,e,n):r.match?Us(t,0,i):qp(t,e,n)}function Us(t,e,n){if(n.length===0)return new ne(t.segments,{});{let r=nP(n),i={};if(Object.keys(r).some(o=>o!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let o=Us(t.children[U],e,n);return new ne(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=UC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ne(t.segments,i)}}function rP(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ws(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!CC(c,l,s))return o;r+=2}else{if(!CC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ws(o)){let c=iP(o.outlets);return new ne(r,c)}if(i===0&&su(n[0])){let c=t.segments[e];r.push(new Jr(c.path,wC(n[0]))),i++;continue}let s=Ws(o)?o.outlets[U]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&su(a)?(r.push(new Jr(s,wC(a))),i+=2):(r.push(new Jr(s,{})),i++)}return new ne(r,{})}function iP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=qp(new ne([],{}),0,r))}),e}function wC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function CC(t,e,n){return t==n.path&&an(e,n.parameters)}var Bs="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),Ct=class{constructor(e,n){this.id=e,this.url=n}},zs=class extends Ct{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends Ct{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ft||{}),Yp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yp||{}),Nn=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ti=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationSkipped}},Gs=class extends Ct{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cu=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zp=class extends Ct{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qp=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jp=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xp=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},em=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tm=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nm=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rm=class{constructor(e){this.snapshot=e,this.type=ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},im=class{constructor(e){this.snapshot=e,this.type=ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var qs=class{},lo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function oP(t,e){return t.providers&&!t._injector&&(t._injector=_p(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Bt(t){return t.outlet||U}function sP(t,e){let n=t.filter(r=>Bt(r)===e);return n.push(...t.filter(r=>Bt(r)!==e)),n}function Xs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var om=class{get injector(){return Xs(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new mu(this.rootInjector),this.attachRef=null}},mu=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new om(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(x(yt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=sm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=sm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=am(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return am(e,this._root).map(n=>n.value)}};function sm(t,e){if(t===e.value)return e;for(let n of e.children){let r=sm(t,n);if(r)return r}return null}function am(t,e){if(t===e.value)return[e];for(let n of e.children){let r=am(t,n);if(r.length)return r.unshift(e),r}return[]}var dt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function io(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var uu=class extends lu{constructor(e,n){super(e),this.snapshot=n,vm(this,e)}toString(){return this.snapshot.toString()}};function BC(t){let e=aP(t),n=new xe([new Jr("",{})]),r=new xe({}),i=new xe({}),o=new xe({}),s=new xe(""),a=new Rn(n,r,o,s,i,U,t,e.root);return a.snapshot=e.root,new uu(new dt(a,[]),e)}function aP(t){let e={},n={},r={},i="",o=new so([],e,r,i,n,U,t,null,{});return new fu("",new dt(o,[]))}var Rn=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(k(l=>l[Js]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(e=>co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(e=>co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function du(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&HC(i)&&(r.resolve[Js]=i.title),r}var so=class{get title(){return this.data?.[Js]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},fu=class extends lu{constructor(e,n){super(n),this.url=e,vm(this,n)}toString(){return $C(this._root)}};function vm(t,e){e.value._routerState=t,e.children.forEach(n=>vm(t,n))}function $C(t){let e=t.children.length>0?` { ${t.children.map($C).join(", ")} } `:"";return`${t.value}${e}`}function Bp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,an(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),an(e.params,n.params)||t.paramsSubject.next(n.params),OO(e.url,n.url)||t.urlSubject.next(n.url),an(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cm(t,e){let n=an(t.params,e.params)&&VO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||cm(t.parent,e.parent))}function HC(t){return typeof t.title=="string"||t.title===null}var ea=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new de,this.deactivateEvents=new de,this.attachEvents=new de,this.detachEvents=new de,this.parentContexts=y(mu),this.location=y(zr),this.changeDetector=y(to),this.inputBinder=y(ym,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lm(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=fe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jt]})}}return t})(),lm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Rn?this.route:e===mu?this.childContexts:this.parent.get(e,n)}},ym=new T("");function cP(t,e,n){let r=Ys(t,e._root,n?n._root:void 0);return new uu(r,e)}function Ys(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=lP(t,e,n);return new dt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ys(t,a)),s}}let r=uP(e.value),i=e.children.map(o=>Ys(t,o));return new dt(r,i)}}function lP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ys(t,r,i);return Ys(t,r)})}function uP(t){return new Rn(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var Ks=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},WC="ngNavigationCancelingError";function hu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zC(!1,ft.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function zC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[WC]=!0,n.cancellationCode=e,n}function dP(t){return GC(t)&&ei(t.url)}function GC(t){return!!t&&t[WC]}var fP=(t,e,n,r)=>k(i=>(new um(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),um=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Bp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=io(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=io(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=io(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=io(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new im(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Bp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ao=class{constructor(e,n){this.component=e,this.route=n}};function hP(t,e,n){let r=t._root,i=e?e._root:null;return Vs(r,i,n,[r.value])}function pP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!oE(t)?t:e.get(t):r}function Vs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=io(e);return t.children.forEach(s=>{mP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$s(a,n.getContext(s),i)),i}function mP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=gP(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new pu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Vs(t,e,a?a.children:null,r,i):Vs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ao(a.outlet.component,s))}else s&&$s(e,a,i),i.canActivateChecks.push(new pu(r)),o.component?Vs(t,null,a?a.children:null,r,i):Vs(t,null,n,r,i);return i}function gP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xr(t.url,e.url)||!an(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cm(t,e)||!an(t.queryParams,e.queryParams);case"paramsChange":default:return!cm(t,e)}}function $s(t,e,n){let r=io(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?$s(s,e.children.getContext(o),n):$s(s,null,n):$s(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ao(e.outlet.component,i)):n.canDeactivateChecks.push(new ao(null,i)):n.canDeactivateChecks.push(new ao(null,i))}function ta(t){return typeof t=="function"}function vP(t){return typeof t=="boolean"}function yP(t){return t&&ta(t.canLoad)}function _P(t){return t&&ta(t.canActivate)}function EP(t){return t&&ta(t.canActivateChild)}function IP(t){return t&&ta(t.canDeactivate)}function wP(t){return t&&ta(t.canMatch)}function qC(t){return t instanceof yn||t?.name==="EmptyError"}var nu=Symbol("INITIAL_VALUE");function uo(){return He(t=>Oc(t.map(e=>e.pipe(Xe(1),Rf(nu)))).pipe(k(e=>{for(let n of e)if(n!==!0){if(n===nu)return nu;if(n===!1||CP(n))return n}return!0}),mt(e=>e!==nu),Xe(1)))}function CP(t){return ei(t)||t instanceof Ks}function DP(t,e){return Ie(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(V(I({},n),{guardsResult:!0})):bP(s,r,i,t).pipe(Ie(a=>a&&vP(a)?TP(r,o,t,e):M(a)),k(a=>V(I({},n),{guardsResult:a})))})}function bP(t,e,n,r){return ae(t).pipe(Ie(i=>RP(i.component,i.route,n,e,r)),xt(i=>i!==!0,!0))}function TP(t,e,n,r){return ae(e).pipe(Rr(i=>zn(AP(i.route.parent,r),SP(i.route,r),MP(t,i.path,n),NP(t,i.route,n))),xt(i=>i!==!0,!0))}function SP(t,e){return t!==null&&e&&e(new rm(t)),M(!0)}function AP(t,e){return t!==null&&e&&e(new tm(t)),M(!0)}function NP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>Pc(()=>{let s=Xs(e)??n,a=fo(o,s),c=_P(a)?a.canActivate(e,t):tn(s,()=>a(e,t));return ar(c).pipe(xt())}));return M(i).pipe(uo())}function MP(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>pP(s)).filter(s=>s!==null).map(s=>Pc(()=>{let a=s.guards.map(c=>{let l=Xs(s.node)??n,u=fo(c,l),d=EP(u)?u.canActivateChild(r,t):tn(l,()=>u(r,t));return ar(d).pipe(xt())});return M(a).pipe(uo())}));return M(o).pipe(uo())}function RP(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let c=Xs(e)??i,l=fo(a,c),u=IP(l)?l.canDeactivate(t,e,n,r):tn(c,()=>l(t,e,n,r));return ar(u).pipe(xt())});return M(s).pipe(uo())}function xP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=fo(s,t),c=yP(a)?a.canLoad(e,n):tn(t,()=>a(e,n));return ar(c)});return M(o).pipe(uo(),YC(r))}function YC(t){return is(we(e=>{if(typeof e!="boolean")throw hu(t,e)}),k(e=>e===!0))}function kP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=fo(s,t),c=wP(a)?a.canMatch(e,n):tn(t,()=>a(e,n));return ar(c)});return M(o).pipe(uo(),YC(r))}var Zs=class{constructor(e){this.segmentGroup=e||null}},Qs=class extends Error{constructor(e){super(),this.urlTree=e}};function ro(t){return xi(new Zs(t))}function OP(t){return xi(new S(4e3,!1))}function PP(t){return xi(zC(!1,ft.GuardRejected))}var dm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[U])return OP(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:p,title:D}=i,N=tn(o,()=>a({params:h,data:p,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:D}));if(N instanceof Mn)throw new Qs(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Qs(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Mn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ne(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FP(t,e,n,r,i){let o=KC(t,e,n);return o.matched?(r=oP(e,r),kP(r,e,n,i).pipe(k(s=>s===!0?o:I({},fm)))):M(o)}function KC(t,e,n){if(e.path==="**")return LP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},fm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||kO)(n,t,e);if(!i)return I({},fm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function LP(t){return{matched:!0,parameters:t.length>0?AC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DC(t,e,n,r){return n.length>0&&UP(t,n,r)?{segmentGroup:new ne(e,jP(r,new ne(n,t.children))),slicedSegments:[]}:n.length===0&&BP(t,n,r)?{segmentGroup:new ne(t.segments,VP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:n}}function VP(t,e,n,r){let i={};for(let o of n)if(gu(t,e,o)&&!r[Bt(o)]){let s=new ne([],{});i[Bt(o)]=s}return I(I({},r),i)}function jP(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&Bt(r)!==U){let i=new ne([],{});n[Bt(r)]=i}return n}function UP(t,e,n){return n.some(r=>gu(t,e,r)&&Bt(r)!==U)}function BP(t,e,n){return n.some(r=>gu(t,e,r))}function gu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $P(t,e,n){return e.length===0&&!t.children[n]}var hm=class{};function HP(t,e,n,r,i,o,s="emptyOnly"){return new pm(t,e,n,r,i,s,o).recognize()}var WP=31,pm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=DC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(k(({children:n,rootSnapshot:r})=>{let i=new dt(r,n),o=new fu("",i),s=JO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new so([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,n).pipe(k(r=>({children:r,rootSnapshot:n})),Gn(r=>{if(r instanceof Qs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zs?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(k(s=>s instanceof dt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ae(o).pipe(Rr(s=>{let a=r.children[s],c=sP(n,s);return this.processSegmentGroup(e,c,a,s,i)}),cs((s,a)=>(s.push(...a),s)),qn(null),Mf(),Ie(s=>{if(s===null)return ro(r);let a=ZC(s);return zP(a),M(a)}))}processSegment(e,n,r,i,o,s,a){return ae(n).pipe(Rr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Gn(l=>{if(l instanceof Zs)return M(null);throw l}))),xt(c=>!!c),Gn(c=>{if(qC(c))return $P(r,i,o)?M(new hm):ro(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Bt(r)!==s&&(s===U||!gu(i,o,r))?ro(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ro(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=KC(n,i,o);if(!c)return ro(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WP&&(this.allowRedirects=!1));let h=new so(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,bC(i),Bt(i),i.component??i._loadedComponent??null,i,TC(i)),p=du(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let D=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,D).pipe(Ie(N=>this.processSegment(e,r,n,N.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=FP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(He(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(He(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new so(f,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,bC(r),Bt(r),r.component??r._loadedComponent??null,r,TC(r)),D=du(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(D.params),p.data=Object.freeze(D.data);let{segmentGroup:N,slicedSegments:P}=DC(n,f,h,l);if(P.length===0&&N.hasChildren())return this.processChildren(u,l,N,p).pipe(k(me=>new dt(p,me)));if(l.length===0&&P.length===0)return M(new dt(p,[]));let pe=Bt(r)===o;return this.processSegment(u,l,N,P,pe?U:o,!0,p).pipe(k(me=>new dt(p,me instanceof dt?[me]:[])))}))):ro(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):xP(e,n,r,this.urlSerializer).pipe(Ie(i=>i?this.configLoader.loadChildren(e,n).pipe(we(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):PP(n))):M({routes:[],injector:e})}};function zP(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function GP(t){let e=t.value.routeConfig;return e&&e.path===""}function ZC(t){let e=[],n=new Set;for(let r of t){if(!GP(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ZC(r.children);e.push(new dt(r.value,i))}return e.filter(r=>!n.has(r))}function bC(t){return t.data||{}}function TC(t){return t.resolve||{}}function qP(t,e,n,r,i,o){return Ie(s=>HP(t,e,n,r,s.extractedUrl,i,o).pipe(k(({state:a,tree:c})=>V(I({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function YP(t,e){return Ie(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of QC(c))s.add(l);let a=0;return ae(s).pipe(Rr(c=>o.has(c)?KP(c,r,t,e):(c.data=du(c,c.parent,t).resolve,M(void 0))),we(()=>a++),Oi(1),Ie(c=>a===s.size?M(n):$e))})}function QC(t){let e=t.children.map(n=>QC(n)).flat();return[t,...e]}function KP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!HC(i)&&(o[Js]=i.title),ZP(o,t,e,r).pipe(k(s=>(t._resolvedData=s,t.data=du(t,t.parent,n).resolve,null)))}function ZP(t,e,n,r){let i=Wp(t);if(i.length===0)return M({});let o={};return ae(i).pipe(Ie(s=>QP(t[s],e,n,r).pipe(xt(),we(a=>{if(a instanceof Ks)throw hu(new Hs,a);o[s]=a}))),Oi(1),as(o),Gn(s=>qC(s)?$e:xi(s)))}function QP(t,e,n,r){let i=Xs(e)??r,o=fo(t,i),s=o.resolve?o.resolve(e,n):tn(i,()=>o(e,n));return ar(s)}function $p(t){return He(e=>{let n=t(e);return n?ae(n).pipe(k(()=>e)):M(e)})}var JC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===U);return r}getResolvedTitleForRoute(n){return n.data[Js]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(JP),providedIn:"root"})}}return t})(),JP=(()=>{class t extends JC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(x(yC))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_m=new T("",{providedIn:"root",factory:()=>({})}),XP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=ee({type:t,selectors:[["ng-component"]],standalone:!0,features:[te],decls:1,vars:0,template:function(r,i){r&1&&Z(0,"router-outlet")},dependencies:[ea],encapsulation:2})}}return t})();function Em(t){let e=t.children&&t.children.map(Em),n=e?V(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=XP),n}var Im=new T(""),e1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(Ip)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return M(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ar(n.loadComponent()).pipe(k(XC),we(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ki(()=>{this.componentLoaders.delete(n)})),i=new Si(r,()=>new Ne).pipe(Ti());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return M({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=t1(r,this.compiler,n,this.onLoadEndListener).pipe(ki(()=>{this.childrenLoaders.delete(r)})),s=new Si(o,()=>new Ne).pipe(Ti());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function t1(t,e,n,r){return ar(t.loadChildren()).pipe(k(XC),Ie(i=>i instanceof ys||Array.isArray(i)?M(i):ae(e.compileModuleAsync(i))),k(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Im,[],{optional:!0,self:!0}).flat()),{routes:s.map(Em),injector:o}}))}function n1(t){return t&&typeof t=="object"&&"default"in t}function XC(t){return n1(t)?t.default:t}var wm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(r1),providedIn:"root"})}}return t})(),r1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),i1=new T("");var o1=new T(""),s1=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=y(e1),this.environmentInjector=y(yt),this.urlSerializer=y(gm),this.rootContexts=y(mu),this.location=y(xs),this.inputBindingEnabled=y(ym,{optional:!0})!==null,this.titleStrategy=y(JC),this.options=y(_m,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(wm),this.createViewTransition=y(i1,{optional:!0}),this.navigationErrorHandler=y(o1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Xp(i)),r=i=>this.events.next(new em(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(V(I(I({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Bs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(o=>o.id!==0),k(o=>V(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),He(o=>{let s=!1,a=!1;return M(o).pipe(He(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ft.SupersededByNewNavigation),$e;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?V(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new ti(c.id,this.urlSerializer.serialize(c.rawUrl),d,Yp.IgnoredSameUrlNavigation)),c.resolve(!1),$e}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return M(c).pipe(He(d=>{let f=this.transitions?.getValue();return this.events.next(new zs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?$e:Promise.resolve(d)}),qP(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),we(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=V(I({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new cu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:D}=c,N=new zs(d,this.urlSerializer.serialize(f),h,p);this.events.next(N);let P=BC(this.rootComponentType).snapshot;return this.currentTransition=o=V(I({},c),{targetSnapshot:P,urlAfterRedirects:f,extras:V(I({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,M(o)}else{let d="";return this.events.next(new ti(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Yp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),$e}}),we(c=>{let l=new Kp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),k(c=>(this.currentTransition=o=V(I({},c),{guards:hP(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),DP(this.environmentInjector,c=>this.events.next(c)),we(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw hu(this.urlSerializer,c.guardsResult);let l=new Zp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),mt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ft.GuardRejected),!1)),$p(c=>{if(c.guards.canActivateChecks.length)return M(c).pipe(we(l=>{let u=new Qp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),He(l=>{let u=!1;return M(l).pipe(YP(this.paramsInheritanceStrategy,this.environmentInjector),we({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",ft.NoDataFromResolver)}}))}),we(l=>{let u=new Jp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),$p(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(we(f=>{u.component=f}),k(()=>{})));for(let f of u.children)d.push(...l(f));return d};return Oc(l(c.targetSnapshot.root)).pipe(qn(null),Xe(1))}),$p(()=>this.afterPreactivation()),He(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ae(u).pipe(k(()=>o)):M(o)}),k(c=>{let l=cP(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=V(I({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),we(()=>{this.events.next(new qs)}),fP(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Xe(1),we({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),xf(this.transitionAbortSubject.pipe(we(c=>{throw c}))),ki(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ft.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gn(c=>{if(a=!0,GC(c))this.events.next(new Nn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),dP(c)?this.events.next(new lo(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Gs(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=tn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ks){let{message:d,cancellationCode:f}=hu(this.urlSerializer,u);this.events.next(new Nn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new lo(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return $e}))}))}cancelNavigationTransition(n,r,i){let o=new Nn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function a1(t){return t!==Bs}var c1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(l1),providedIn:"root"})}}return t})(),mm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},l1=(()=>{class t extends mm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(u1),providedIn:"root"})}}return t})(),u1=(()=>{class t extends eD{constructor(){super(...arguments),this.location=y(xs),this.urlSerializer=y(gm),this.options=y(_m,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(wm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof zs)this.stateMemento=this.createStateMemento();else if(n instanceof ti)this.rawUrlTree=r.initialUrl;else if(n instanceof cu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof qs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Nn&&(n.code===ft.GuardRejected||n.code===ft.NoDataFromResolver)?this.restoreHistory(r):n instanceof Gs?this.restoreHistory(r,!0):n instanceof sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Mn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=I(I({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=I(I({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),js=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(js||{});function d1(t,e){t.events.pipe(mt(n=>n instanceof sr||n instanceof Nn||n instanceof Gs||n instanceof ti),k(n=>n instanceof sr||n instanceof ti?js.COMPLETE:(n instanceof Nn?n.code===ft.Redirect||n.code===ft.SupersededByNewNavigation:!1)?js.REDIRECTING:js.FAILED),mt(n=>n!==js.REDIRECTING),Xe(1)).subscribe(()=>{e()})}function f1(t){throw t}var h1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},p1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$t=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y(Gl),this.stateManager=y(eD),this.options=y(_m,{optional:!0})||{},this.pendingTasks=y(Wr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(s1),this.urlSerializer=y(gm),this.location=y(xs),this.urlHandlingStrategy=y(wm),this._events=new Ne,this.errorHandler=this.options.errorHandler||f1,this.navigated=!1,this.routeReuseStrategy=y(c1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Im,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(ym,{optional:!0}),this.eventsSubscription=new ye,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Nn&&r.code!==ft.Redirect&&r.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sr)this.navigated=!0;else if(r instanceof lo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||a1(i.source)},s);this.scheduleNavigation(a,Bs,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}g1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Em),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=LC(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return VC(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ei(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Bs,null,r)}navigate(n,r={skipLocationChange:!1}){return m1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},h1):r===!1?i=I({},p1):i=r,ei(n))return EC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return EC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return d1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function m1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function g1(t){return!(t instanceof qs)&&!(t instanceof lo)}var vu=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Ne,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ei(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:OI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ei(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(b($t),b(Rn),Kh("tabindex"),b(rn),b(Ut),b(no))}}static{this.\u0275dir=fe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&X("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&rr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Kr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Kr],replaceUrl:[2,"replaceUrl","replaceUrl",Kr],routerLink:"routerLink"},standalone:!0,features:[yp,jt]})}}return t})();var v1=new T("");function tD(t,...e){return st([{provide:Im,multi:!0,useValue:t},[],{provide:Rn,useFactory:y1,deps:[$t]},{provide:eo,multi:!0,useFactory:_1},e.map(n=>n.\u0275providers)])}function y1(t){return t.routerState.root}function _1(){let t=y(Fe);return e=>{let n=t.get(on);if(e!==n.components[0])return;let r=t.get($t),i=t.get(E1);t.get(I1)===1&&r.initialNavigation(),t.get(w1,null,$.Optional)?.setUpPreloading(),t.get(v1,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var E1=new T("",{factory:()=>new Ne}),I1=new T("",{providedIn:"root",factory:()=>1});var w1=new T("");var yu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-stats"]],standalone:!0,features:[te],decls:2,vars:0,template:function(n,r){n&1&&(v(0,"p"),_(1,"stats works!"),g())}})};var _u=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-profile"]],standalone:!0,features:[te],decls:2,vars:0,template:function(n,r){n&1&&(v(0,"p"),_(1,"profile works!"),g())}})};var Dt=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-footer"]],standalone:!0,features:[te],decls:19,vars:0,consts:[[1,"py-3","my-4"],[1,"nav","justify-content-center","border-bottom","pb-3","mb-3"],[1,"nav-item"],["href","#",1,"nav-link","px-2","text-body-secondary"],[1,"text-center","text-body-secondary"]],template:function(n,r){n&1&&(v(0,"footer",0)(1,"ul",1)(2,"li",2)(3,"a",3),_(4,"Home"),g()(),v(5,"li",2)(6,"a",3),_(7,"Features"),g()(),v(8,"li",2)(9,"a",3),_(10,"Pricing"),g()(),v(11,"li",2)(12,"a",3),_(13,"FAQs"),g()(),v(14,"li",2)(15,"a",3),_(16,"About"),g()()(),v(17,"p",4),_(18,"\xA9 2024 Company, Inc"),g()())}})};var dD=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(b(rn),b(Ut))}}static{this.\u0275dir=fe({type:t})}}return t})(),Mu=(()=>{class t extends dD{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})()}static{this.\u0275dir=fe({type:t,features:[It]})}}return t})(),ca=new T(""),C1={provide:ca,useExisting:en(()=>Am),multi:!0},Am=(()=>{class t extends Mu{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})()}static{this.\u0275dir=fe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[ir([C1]),It]})}}return t})(),D1={provide:ca,useExisting:en(()=>ur),multi:!0};function b1(){let t=An()?An().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var T1=new T(""),ur=(()=>{class t extends dD{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!b1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(b(rn),b(Ut),b(T1,8))}}static{this.\u0275dir=fe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&X("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ir([D1]),It]})}}return t})();function cr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function fD(t){return t!=null&&typeof t.length=="number"}var Nm=new T(""),hD=new T(""),S1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,he=class{static min(e){return A1(e)}static max(e){return N1(e)}static required(e){return pD(e)}static requiredTrue(e){return M1(e)}static email(e){return R1(e)}static minLength(e){return x1(e)}static maxLength(e){return k1(e)}static pattern(e){return O1(e)}static nullValidator(e){return wu(e)}static compose(e){return ED(e)}static composeAsync(e){return wD(e)}};function A1(t){return e=>{if(cr(e.value)||cr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function N1(t){return e=>{if(cr(e.value)||cr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function pD(t){return cr(t.value)?{required:!0}:null}function M1(t){return t.value===!0?null:{required:!0}}function R1(t){return cr(t.value)||S1.test(t.value)?null:{email:!0}}function x1(t){return e=>cr(e.value)||!fD(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function k1(t){return e=>fD(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function O1(t){if(!t)return wu;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(cr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function wu(t){return null}function mD(t){return t!=null}function gD(t){return Yr(t)?ae(t):t}function vD(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function yD(t,e){return e.map(n=>n(t))}function P1(t){return!t.validate}function _D(t){return t.map(e=>P1(e)?e:n=>e.validate(n))}function ED(t){if(!t)return null;let e=t.filter(mD);return e.length==0?null:function(n){return vD(yD(n,e))}}function ID(t){return t!=null?ED(_D(t)):null}function wD(t){if(!t)return null;let e=t.filter(mD);return e.length==0?null:function(n){let r=yD(n,e).map(gD);return bf(r).pipe(k(vD))}}function CD(t){return t!=null?wD(_D(t)):null}function nD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function DD(t){return t._rawValidators}function bD(t){return t._rawAsyncValidators}function Cm(t){return t?Array.isArray(t)?t:[t]:[]}function Cu(t,e){return Array.isArray(t)?t.includes(e):t===e}function rD(t,e){let n=Cm(e);return Cm(t).forEach(i=>{Cu(n,i)||n.push(i)}),n}function iD(t,e){return Cm(e).filter(n=>!Cu(t,n))}var Du=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ID(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=CD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},mo=class extends Du{get formDirective(){return null}get path(){return null}},aa=class extends Du{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},F1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},U6=V(I({},F1),{"[class.ng-submitted]":"isSubmitted"}),vo=(()=>{class t extends bu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(b(aa,2))}}static{this.\u0275dir=fe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[It]})}}return t})(),yo=(()=>{class t extends bu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(b(mo,10))}}static{this.\u0275dir=fe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[It]})}}return t})();var ra="VALID",Eu="INVALID",ho="PENDING",ia="DISABLED",lr=class{},Tu=class extends lr{constructor(e,n){super(),this.value=e,this.source=n}},oa=class extends lr{constructor(e,n){super(),this.pristine=e,this.source=n}},sa=class extends lr{constructor(e,n){super(),this.touched=e,this.source=n}},po=class extends lr{constructor(e,n){super(),this.status=e,this.source=n}},Dm=class extends lr{constructor(e){super(),this.source=e}},bm=class extends lr{constructor(e){super(),this.source=e}};function Mm(t){return(Ru(t)?t.validators:t)||null}function L1(t){return Array.isArray(t)?ID(t):t||null}function Rm(t,e){return(Ru(e)?e.asyncValidators:t)||null}function V1(t){return Array.isArray(t)?CD(t):t||null}function Ru(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function TD(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function SD(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var go=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Rs(()=>this.statusReactive()),this.statusReactive=As(void 0),this._pristine=Rs(()=>this.pristineReactive()),this.pristineReactive=As(!0),this._touched=Rs(()=>this.touchedReactive()),this.touchedReactive=As(!1),this._events=new Ne,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Sn(this.statusReactive)}set status(e){Sn(()=>this.statusReactive.set(e))}get valid(){return this.status===ra}get invalid(){return this.status===Eu}get pending(){return this.status==ho}get disabled(){return this.status===ia}get enabled(){return this.status!==ia}get pristine(){return Sn(this.pristineReactive)}set pristine(e){Sn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Sn(this.touchedReactive)}set touched(e){Sn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iD(e,this._rawAsyncValidators))}hasValidator(e){return Cu(this._rawValidators,e)}hasAsyncValidator(e){return Cu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(V(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new sa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new sa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(V(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new oa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new oa(!0,r))}markAsPending(e={}){this.status=ho;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new po(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(V(I({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ia,this.errors=null,this._forEachChild(i=>{i.disable(V(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tu(this.value,r)),this._events.next(new po(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ra,this._forEachChild(r=>{r.enable(V(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(V(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ra||this.status===ho)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tu(this.value,n)),this._events.next(new po(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(V(I({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ia:ra}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ho,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=gD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new po(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?ia:this.errors?Eu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ho)?ho:this._anyControlsHaveStatus(Eu)?Eu:ra}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new oa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new sa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ru(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=L1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=V1(this._rawAsyncValidators)}},Su=class extends go{constructor(e,n,r){super(Mm(n),Rm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){SD(this,!0,e),Object.keys(e).forEach(r=>{TD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Tm=class extends Su{};var xm=new T("CallSetDisabledState",{providedIn:"root",factory:()=>xu}),xu="always";function j1(t,e){return[...e.path,t]}function oD(t,e,n=xu){km(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),B1(t,e),H1(t,e),$1(t,e),U1(t,e)}function sD(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Au(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function U1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function km(t,e){let n=DD(t);e.validator!==null?t.setValidators(nD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=bD(t);e.asyncValidator!==null?t.setAsyncValidators(nD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Au(e._rawValidators,i),Au(e._rawAsyncValidators,i)}function Nu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=DD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=bD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Au(e._rawValidators,r),Au(e._rawAsyncValidators,r),n}function B1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&AD(t,e)})}function $1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&AD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function AD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function H1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function W1(t,e){t==null,km(t,e)}function z1(t,e){return Nu(t,e)}function G1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function q1(t){return Object.getPrototypeOf(t.constructor)===Mu}function Y1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function K1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ur?n=o:q1(o)?r=o:i=o}),i||r||n||null}function Z1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function aD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Iu=class extends go{constructor(e=null,n,r){super(Mm(n),Rm(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ru(n)&&(n.nonNullable||n.initialValueIsDefault)&&(cD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){cD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Q1=t=>t instanceof Iu;var _o=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=fe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var ND=new T("");var J1={provide:mo,useExisting:en(()=>ni)},ni=(()=>{class t extends mo{get submitted(){return Sn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Rs(()=>this._submittedReactive()),this._submittedReactive=As(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new de,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return oD(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){sD(n.control||null,n,!1),Z1(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Y1(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Dm(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new bm(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(sD(r||null,n),Q1(i)&&(oD(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);W1(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&z1(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){km(this.form,this),this._oldForm&&Nu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(b(Nm,10),b(hD,10),b(xm,8))}}static{this.\u0275dir=fe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&X("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ir([J1]),It,jt]})}}return t})();var X1={provide:aa,useExisting:en(()=>ri)},ri=(()=>{class t extends aa{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new de,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=K1(this,o)}ngOnChanges(n){this._added||this._setUpControl(),G1(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return j1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(b(mo,13),b(Nm,10),b(hD,10),b(ca,10),b(ND,8))}}static{this.\u0275dir=fe({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ir([X1]),It,jt]})}}return t})(),eF={provide:ca,useExisting:en(()=>ku),multi:!0};function MD(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function tF(t){return t.split(":")[0]}var ku=(()=>{class t extends Mu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=MD(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=tF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})()}static{this.\u0275dir=fe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ir([eF]),It]})}}return t})(),RD=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(MD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(b(Ut),b(rn),b(ku,9))}}static{this.\u0275dir=fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),nF={provide:ca,useExisting:en(()=>xD),multi:!0};function lD(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rF(t){return t.split(":")[0]}var xD=(()=>{class t extends Mu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=rF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})()}static{this.\u0275dir=fe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ir([nF]),It]})}}return t})(),kD=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(lD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(lD(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(b(Ut),b(rn),b(xD,9))}}static{this.\u0275dir=fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var iF=(()=>{class t{constructor(){this._validator=wu}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):wu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=fe({type:t,features:[jt]})}}return t})();var oF={provide:Nm,useExisting:en(()=>Om),multi:!0};var Om=(()=>{class t extends iF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Kr,this.createValidator=n=>pD}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})()}static{this.\u0275dir=fe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&rr("required",i._enabled?"":null)},inputs:{required:"required"},features:[ir([oF]),It]})}}return t})();var OD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Dn({type:t})}static{this.\u0275inj=Cn({})}}return t})(),Sm=class extends go{constructor(e,n,r){super(Mm(n),Rm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){SD(this,!1,e),e.forEach((r,i)=>{TD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function uD(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Eo=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return uD(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Su(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Tm(i,r)}control(n,r,i){let o={};return this.useNonNullable?(uD(r)?o=r:(o.validators=r,o.asyncValidators=i),new Iu(n,V(I({},o),{nonNullable:!0}))):new Iu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Sm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Iu)return n;if(n instanceof go)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var PD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xm,useValue:n.callSetDisabledState??xu}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Dn({type:t})}static{this.\u0275inj=Cn({imports:[OD]})}}return t})(),Io=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ND,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:xm,useValue:n.callSetDisabledState??xu}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Dn({type:t})}static{this.\u0275inj=Cn({imports:[OD]})}}return t})();var Lm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var E=function(t,e){if(!t)throw ii(e)},ii=function(t){return new Error("Firebase Database ("+Lm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var LD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Pu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Vm;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Um=function(t){let e=LD(t);return Pu.encodeByteArray(e,!0)},la=function(t){return Um(t).replace(/\./g,"")},ua=function(t){try{return Pu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VD(t){return jD(void 0,t)}function jD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!aF(n)||(t[n]=jD(t[n],e[n]));return t}function aF(t){return t!=="__proto__"}function cF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lF=()=>cF().__FIREBASE_DEFAULTS__,uF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ua(t[1]);return e&&JSON.parse(e)},Bm=()=>{try{return lF()||uF()||dF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$m=t=>{var e,n;return(n=(e=Bm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UD=t=>{let e=$m(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hm=()=>{var t;return(t=Bm())===null||t===void 0?void 0:t.config},Wm=t=>{var e;return(e=Bm())===null||e===void 0?void 0:e[`_${t}`]};var dr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function BD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[la(JSON.stringify(n)),la(JSON.stringify(s)),""].join(".")}function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function da(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function $D(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WD(){let t=Le();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cn(){return Lm.NODE_CLIENT===!0||Lm.NODE_ADMIN===!0}function zD(){try{return typeof indexedDB=="object"}catch{return!1}}function GD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var fF="FirebaseError",Ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}},xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,a,r)}};function hF(t,e){return t.replace(pF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pF=/\{\$([^}]+)}/g;function wo(t){return JSON.parse(t)}function De(t){return JSON.stringify(t)}var qD=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=wo(ua(o[0])||""),n=wo(ua(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var YD=function(t){let e=qD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},KD=function(t){let e=qD(t).claims;return typeof e=="object"&&e.admin===!0};function ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fa(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ha(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Co(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(FD(o)&&FD(s)){if(!Co(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function FD(t){return t!==null&&typeof t=="object"}function fr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Do(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function bo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Ou=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function ZD(t,e){let n=new jm(t,e);return n.subscribe.bind(n)}var jm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fm),i.error===void 0&&(i.error=Fm),i.complete===void 0&&(i.complete=Fm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fm(){}function Lu(t,e){return`${t} failed: ${e} argument `}var QD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pa=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var H6=4*60*60*1e3;function Ve(t){return t&&t._delegate?t._delegate:t}var bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var si="[DEFAULT]";var Vu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new dr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vF(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gF(t){return t===si?void 0:t}function vF(t){return t.instantiationMode==="EAGER"}var ma=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Vu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var yF=[],ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ie||{}),_F={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},EF=ie.INFO,IF={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},wF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=IF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},hr=class{constructor(e){this.name=e,this._logLevel=EF,this._logHandler=wF,this._userLogHandler=null,yF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_F[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var CF=(t,e)=>e.some(n=>t instanceof n),JD,XD;function DF(){return JD||(JD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bF(){return XD||(XD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var eb=new WeakMap,Gm=new WeakMap,tb=new WeakMap,zm=new WeakMap,Ym=new WeakMap;function TF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(un(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&eb.set(n,t)}).catch(()=>{}),Ym.set(e,t),e}function SF(t){if(Gm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gm.set(t,e)}var qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nb(t){qm=t(qm)}function AF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ju(this),e,...n);return tb.set(r,e.sort?e.sort():[e]),un(r)}:bF().includes(t)?function(...e){return t.apply(ju(this),e),un(eb.get(this))}:function(...e){return un(t.apply(ju(this),e))}}function NF(t){return typeof t=="function"?AF(t):(t instanceof IDBTransaction&&SF(t),CF(t,DF())?new Proxy(t,qm):t)}function un(t){if(t instanceof IDBRequest)return TF(t);if(zm.has(t))return zm.get(t);let e=NF(t);return e!==t&&(zm.set(t,e),Ym.set(e,t)),e}var ju=t=>Ym.get(t);function ib(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=un(s);return r&&s.addEventListener("upgradeneeded",c=>{r(un(s.result),c.oldVersion,c.newVersion,un(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var MF=["get","getKey","getAll","getAllKeys","count"],RF=["put","add","delete","clear"],Km=new Map;function rb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=RF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MF.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Km.set(e,o),o}nb(t=>V(I({},t),{get:(e,n,r)=>rb(e,n)||t.get(e,n,r),has:(e,n)=>!!rb(e,n)||t.has(e,n)}));var Qm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function xF(t){let e=t.getComponent();return e?.type==="VERSION"}var Jm="@firebase/app",ob="0.10.13";var kn=new hr("@firebase/app"),kF="@firebase/app-compat",OF="@firebase/analytics-compat",PF="@firebase/analytics",FF="@firebase/app-check-compat",LF="@firebase/app-check",VF="@firebase/auth",jF="@firebase/auth-compat",UF="@firebase/database",BF="@firebase/data-connect",$F="@firebase/database-compat",HF="@firebase/functions",WF="@firebase/functions-compat",zF="@firebase/installations",GF="@firebase/installations-compat",qF="@firebase/messaging",YF="@firebase/messaging-compat",KF="@firebase/performance",ZF="@firebase/performance-compat",QF="@firebase/remote-config",JF="@firebase/remote-config-compat",XF="@firebase/storage",eL="@firebase/storage-compat",tL="@firebase/firestore",nL="@firebase/vertexai-preview",rL="@firebase/firestore-compat",iL="firebase",oL="10.14.1";var Xm="[DEFAULT]",sL={[Jm]:"fire-core",[kF]:"fire-core-compat",[PF]:"fire-analytics",[OF]:"fire-analytics-compat",[LF]:"fire-app-check",[FF]:"fire-app-check-compat",[VF]:"fire-auth",[jF]:"fire-auth-compat",[UF]:"fire-rtdb",[BF]:"fire-data-connect",[$F]:"fire-rtdb-compat",[HF]:"fire-fn",[WF]:"fire-fn-compat",[zF]:"fire-iid",[GF]:"fire-iid-compat",[qF]:"fire-fcm",[YF]:"fire-fcm-compat",[KF]:"fire-perf",[ZF]:"fire-perf-compat",[QF]:"fire-rc",[JF]:"fire-rc-compat",[XF]:"fire-gcs",[eL]:"fire-gcs-compat",[tL]:"fire-fst",[rL]:"fire-fst-compat",[nL]:"fire-vertex","fire-js":"fire-js",[iL]:"fire-js-all"};var ga=new Map,aL=new Map,eg=new Map;function sb(t,e){try{t.container.addComponent(e)}catch(n){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mr(t){let e=t.name;if(eg.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;eg.set(e,t);for(let n of ga.values())sb(n,t);for(let n of aL.values())sb(n,t);return!0}function ya(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tt(t){return t.settings!==void 0}var cL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new xn("app","Firebase",cL);var tg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};var gr=oL;function ig(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Xm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=Hm()),!n)throw pr.create("no-options");let o=ga.get(i);if(o){if(Co(n,o.options)&&Co(r,o.config))return o;throw pr.create("duplicate-app",{appName:i})}let s=new ma(i);for(let c of eg.values())s.addComponent(c);let a=new tg(n,r,s);return ga.set(i,a),a}function To(t=Xm){let e=ga.get(t);if(!e&&t===Xm&&Hm())return ig();if(!e)throw pr.create("no-app",{appName:t});return e}function Uu(){return Array.from(ga.values())}function be(t,e,n){var r;let i=(r=sL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(a.join(" "));return}mr(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lL="firebase-heartbeat-database",uL=1,va="firebase-heartbeat-store",Zm=null;function ub(){return Zm||(Zm=ib(lL,uL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Zm}function dL(t){return m(this,null,function*(){try{let n=(yield ub()).transaction(va),r=yield n.objectStore(va).get(db(t));return yield n.done,r}catch(e){if(e instanceof Ht)kn.warn(e.message);else{let n=pr.create("idb-get",{originalErrorMessage:e?.message});kn.warn(n.message)}}})}function ab(t,e){return m(this,null,function*(){try{let r=(yield ub()).transaction(va,"readwrite");yield r.objectStore(va).put(e,db(t)),yield r.done}catch(n){if(n instanceof Ht)kn.warn(n.message);else{let r=pr.create("idb-set",{originalErrorMessage:n?.message});kn.warn(r.message)}}})}function db(t){return`${t.name}!${t.options.appId}`}var fL=1024,hL=30*24*60*60*1e3,ng=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new rg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=hL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kn.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=cb(),{heartbeatsToSend:r,unsentEntries:i}=pL(this._heartbeatsCache.heartbeats),o=la(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return kn.warn(n),""}})}};function cb(){return new Date().toISOString().substring(0,10)}function pL(t,e=fL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var rg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return zD()?GD().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lb(t){return la(JSON.stringify({version:2,heartbeats:t})).length}function mL(t){mr(new bt("platform-logger",e=>new Qm(e),"PRIVATE")),mr(new bt("heartbeat",e=>new ng(e),"PRIVATE")),be(Jm,ob,t),be(Jm,ob,"esm2017"),be("fire-js","")}mL("");var gL="firebase",vL="10.14.1";be(gL,vL,"app");var ci=new wn("ANGULARFIRE2_VERSION");function $u(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var _a=(t,e)=>{let n=e?[e]:Uu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ao=class{constructor(){return _a(yL)}},yL="app-check";function So(){}var Bu=class{zone;delegate;constructor(e,n=wf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},og=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),n.pipe(we({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},No=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Bu(Zone.current)),this.insideAngular=n.run(()=>new Bu(Zone.current,Ri)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(x(re))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _L(t){return Hu().ngZone.runOutsideAngular(()=>t())}function ai(t){return Hu().ngZone.run(()=>t())}function EL(t){return IL(Hu())(t)}function IL(t){return function(n){return n=n.lift(new og(t.ngZone)),n.pipe(Wn(t.outsideAngular),Hn(t.insideAngular))}}var wL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ai(()=>t.apply(void 0,r))},je=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ai(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So))),r[o]=wL(r[o],n));let i=_L(()=>t.apply(this,r));if(!e)if(i instanceof j){let o=Hu();return i.pipe(Wn(o.outsideAngular),Hn(o.insideAngular))}else return ai(()=>i);return i instanceof j?i.pipe(EL):i instanceof Promise?ai(()=>new Promise((o,s)=>i.then(a=>ai(()=>o(a)),a=>ai(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ai(()=>i)};var On=class{constructor(e){return e}},li=class{constructor(){return Uu()}};function CL(t){return t&&t.length===1?t[0]:new On(To())}var sg=new T("angularfire2._apps"),DL={provide:On,useFactory:CL,deps:[[new qe,sg]]},bL={provide:li,deps:[[new qe,sg]]};function TL(t){return(e,n)=>{let r=n.get(Et);be("angularfire",ci.full,"core"),be("angularfire",ci.full,"app"),be("angular",xw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new On(i)}}function fb(t,...e){return st([DL,bL,{provide:sg,useFactory:TL(t),multi:!0,deps:[re,Fe,No,...e]}])}var hb=je(ig,!0);function Mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Rb=Mb,xb=new xn("auth","Firebase",Mb());var Ku=new hr("@firebase/auth");function SL(t,...e){Ku.logLevel<=ie.WARN&&Ku.warn(`Auth (${gr}): ${t}`,...e)}function zu(t,...e){Ku.logLevel<=ie.ERROR&&Ku.error(`Auth (${gr}): ${t}`,...e)}function St(t,...e){throw Sg(t,...e)}function Wt(t,...e){return Sg(t,...e)}function Tg(t,e,n){let r=Object.assign(Object.assign({},Rb()),{[e]:n});return new xn("auth","Firebase",r).create(e,{appName:t.name})}function Ln(t){return Tg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AL(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&St(t,"argument-error"),Tg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xb.create(t,...e)}function R(t,e,...n){if(!t)throw Sg(e,...n)}function Pn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zu(e),new Error(e)}function Vn(t,e){t||Pn(e)}function lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NL(){return pb()==="http:"||pb()==="https:"}function pb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ML(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NL()||HD()||"connection"in navigator)?navigator.onLine:!0}function RL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=da()||Fu()}get(){return ML()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ag(t,e){Vn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Zu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var xL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var kL=new ui(3e4,6e4);function yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _r(o,s,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return kb(t,i,()=>m(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=fr(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return $D()||(h.referrerPolicy="no-referrer"),Zu.fetch()(Ob(t,t.config.apiHost,n,d),h)}))})}function kb(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},xL),e);try{let i=new ug(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Wu(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Wu(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Tg(t,u,l);St(t,u)}}catch(i){if(i instanceof Ht)throw i;St(t,"network-request-failed",{message:String(i)})}})}function Sa(o,s,a,c){return m(this,arguments,function*(t,e,n,r,i={}){let l=yield _r(t,e,n,r,i);return"mfaPendingCredential"in l&&St(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Ob(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ag(t.config,i):`${t.config.apiScheme}://${i}`}function OL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ug=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wt(this.auth,"network-request-failed")),kL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Wt(t,e,r);return i.customData._tokenResponse=n,i}function mb(t){return t!==void 0&&t.enterprise!==void 0}var dg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function PL(t,e){return m(this,null,function*(){return _r(t,"GET","/v2/recaptchaConfig",yr(t,e))})}function FL(t,e){return m(this,null,function*(){return _r(t,"POST","/v1/accounts:delete",e)})}function Pb(t,e){return m(this,null,function*(){return _r(t,"POST","/v1/accounts:lookup",e)})}function Ea(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ng(t,e=!1){return m(this,null,function*(){let n=Ve(t),r=yield n.getIdToken(e),i=Mg(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ea(ag(i.auth_time)),issuedAtTime:Ea(ag(i.iat)),expirationTime:Ea(ag(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ag(t){return Number(t)*1e3}function Mg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{let i=ua(n);return i?JSON.parse(i):(zu("Failed to decode base64 JWT payload"),null)}catch(i){return zu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gb(t){let e=Mg(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wa(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ht&&LL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function LL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var fg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ca=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qu(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield wa(t,Pb(n,{idToken:r}));R(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Fb(o.providerUserInfo):[],a=VL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ca(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Rg(t){return m(this,null,function*(){let e=Ve(t);yield Qu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function VL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fb(t){return t.map(e=>{var{providerId:n}=e,r=Ec(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function jL(t,e){return m(this,null,function*(){let n=yield kb(t,{},()=>m(this,null,function*(){let r=fr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Ob(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function UL(t,e){return m(this,null,function*(){return _r(t,"POST","/v2/accounts:revokeToken",yr(t,e))})}var Ia=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){R(e.length!==0,"internal-error");let n=gb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield jL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(R(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(R(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pn("not implemented")}};function vr(t,e){R(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ro=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ec(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ca(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield wa(this,this.stsTokenManager.getToken(this.auth,e));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ng(this,e)}reload(){return Rg(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Qu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(Tt(this.auth.app))return Promise.reject(Ln(this.auth));let e=yield this.getIdToken();return yield wa(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,P=(l=n.createdAt)!==null&&l!==void 0?l:void 0,pe=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:me,emailVerified:Ce,isAnonymous:Mt,providerData:Re,stsTokenManager:vn}=n;R(me&&vn,e,"internal-error");let es=Ia.fromJSON(this.name,vn);R(typeof me=="string",e,"internal-error"),vr(d,e.name),vr(f,e.name),R(typeof Ce=="boolean",e,"internal-error"),R(typeof Mt=="boolean",e,"internal-error"),vr(h,e.name),vr(p,e.name),vr(D,e.name),vr(N,e.name),vr(P,e.name),vr(pe,e.name);let ts=new t({uid:me,auth:e,email:f,emailVerified:Ce,displayName:d,isAnonymous:Mt,photoURL:p,phoneNumber:h,tenantId:D,stsTokenManager:es,createdAt:P,lastLoginAt:pe});return Re&&Array.isArray(Re)&&(ts.providerData=Re.map(OS=>Object.assign({},OS))),N&&(ts._redirectEventId=N),ts}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new Ia;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return m(this,null,function*(){let i=n.users[0];R(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Fb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ia;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ca(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var vb=new Map;function Fn(t){Vn(t instanceof Function,"Expected a class definition");let e=vb.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vb.set(t,e),e)}var BL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),hg=BL;function Gu(t,e,n){return`firebase:${t}:${e}:${n}`}var Ju=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Gu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ro._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(Fn(hg),e,r);let i=(yield Promise.all(n.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Fn(hg),s=Gu(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Ro._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function yb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($b(e))return"Blackberry";if(Hb(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||jb(e))&&!e.includes("edge/"))return"Chrome";if(Bb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Lb(t=Le()){return/firefox\//i.test(t)}function Vb(t=Le()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jb(t=Le()){return/crios\//i.test(t)}function Ub(t=Le()){return/iemobile/i.test(t)}function Bb(t=Le()){return/android/i.test(t)}function $b(t=Le()){return/blackberry/i.test(t)}function Hb(t=Le()){return/webos/i.test(t)}function xg(t=Le()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $L(t=Le()){var e;return xg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HL(){return WD()&&document.documentMode===10}function Wb(t=Le()){return xg(t)||Bb(t)||Hb(t)||$b(t)||/windows phone/i.test(t)||Ub(t)}function zb(t,e=[]){let n;switch(t){case"Browser":n=yb(Le());break;case"Worker":n=`${yb(Le())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gr}/${r}`}var pg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function WL(n){return m(this,arguments,function*(t,e={}){return _r(t,"GET","/v2/passwordPolicy",yr(t,e))})}var zL=6,mg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var gg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xu(this),this.idTokenSubscription=new Xu(this),this.beforeStateQueue=new pg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ju.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return m(this,null,function*(){try{let n=yield Pb(this,{idToken:e}),r=yield Ro._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;if(Tt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield Qu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=RL()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){if(Tt(this.app))return Promise.reject(Ln(this));let n=e?Ve(e):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&R(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return Tt(this.app)?Promise.reject(Ln(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Tt(this.app)?Promise.reject(Ln(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield WL(this),n=new mg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield UL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fn(e)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=yield Ju.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&SL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Er(t){return Ve(t)}var Xu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZD(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cd={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GL(t){cd=t}function Gb(t){return cd.loadJS(t)}function qL(){return cd.recaptchaEnterpriseScript}function YL(){return cd.gapiScript}function qb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var KL="recaptcha-enterprise",ZL="NO_RECAPTCHA",vg=class{constructor(e){this.type=KL,this.auth=Er(e)}verify(e="verify",n=!1){return m(this,null,function*(){function r(o){return m(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>m(this,null,function*(){PL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new dg(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;mb(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(ZL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&mb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=qL();c.length!==0&&(c+=a),Gb(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function _b(t,e,n,r=!1){return m(this,null,function*(){let i=new vg(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function yg(t,e,n,r){return m(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield _b(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>m(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield _b(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function kg(t,e){let n=ya(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Co(o,e??{}))return i;St(i,"already-initialized")}return n.initialize({options:e})}function QL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Og(t,e,n){let r=Er(t);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=Yb(e),{host:s,port:a}=JL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||XL()}function Yb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JL(t){let e=Yb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Eb(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Eb(s)}}}function Eb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function XL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var xo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}};function eV(t,e){return m(this,null,function*(){return _r(t,"POST","/v1/accounts:signUp",e)})}function tV(t,e){return m(this,null,function*(){return Sa(t,"POST","/v1/accounts:signInWithPassword",yr(t,e))})}function nV(t,e){return m(this,null,function*(){return Sa(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))})}function rV(t,e){return m(this,null,function*(){return Sa(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))})}var Da=class t extends xo{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return m(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yg(e,n,"signInWithPassword",tV);case"emailLink":return nV(e,{email:this._email,oobCode:this._password});default:St(e,"internal-error")}})}_linkToIdToken(e,n){return m(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yg(e,r,"signUpPassword",eV);case"emailLink":return rV(e,{idToken:n,email:this._email,oobCode:this._password});default:St(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Mo(t,e){return m(this,null,function*(){return Sa(t,"POST","/v1/accounts:signInWithIdp",yr(t,e))})}var iV="http://localhost",ed=class t extends xo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):St("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ec(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Mo(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){let e={requestUri:iV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fr(n)}return e}};function oV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sV(t){let e=Do(bo(t)).link,n=e?Do(bo(e)).deep_link_id:null,r=Do(bo(t)).deep_link_id;return(r?Do(bo(r)).link:null)||r||n||e||t}var td=class t{constructor(e){var n,r,i,o,s,a;let c=Do(bo(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=oV((i=c.mode)!==null&&i!==void 0?i:null);R(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=sV(e);try{return new t(n)}catch{return null}}};var Kb=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Da._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=td.parseLink(r);return R(i,"argument-error"),Da._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),ba=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var nd=class extends ba{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Pg=(()=>{class t extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ed._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function aV(t,e){return m(this,null,function*(){return Sa(t,"POST","/v1/accounts:signUp",yr(t,e))})}var ko=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(this,null,function*(){let o=yield Ro._fromIdTokenResponse(e,r,i),s=Ib(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return m(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Ib(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Ib(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var _g=class t extends Ht{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Zb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_g._fromErrorAndOperation(t,o,e,r):o})}function cV(t,e,n=!1){return m(this,null,function*(){let r=yield wa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ko._forOperation(t,"link",r)})}function lV(t,e,n=!1){return m(this,null,function*(){let{auth:r}=t;if(Tt(r.app))return Promise.reject(Ln(r));let i="reauthenticate";try{let o=yield wa(t,Zb(r,i,e,t),n);R(o.idToken,r,"internal-error");let s=Mg(o.idToken);R(s,r,"internal-error");let{sub:a}=s;return R(t.uid===a,r,"user-mismatch"),ko._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&St(r,"user-mismatch"),o}})}function Qb(t,e,n=!1){return m(this,null,function*(){if(Tt(t.app))return Promise.reject(Ln(t));let r="signIn",i=yield Zb(t,r,e),o=yield ko._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Fg(t,e){return m(this,null,function*(){return Qb(Er(t),e)})}function Jb(t){return m(this,null,function*(){let e=Er(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Lg(t,e,n){return m(this,null,function*(){if(Tt(t.app))return Promise.reject(Ln(t));let r=Er(t),s=yield yg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aV).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Jb(t),c}),a=yield ko._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Vg(t,e,n){return Tt(t.app)?Promise.reject(Ln(t)):Fg(Ve(t),Kb.credential(e,n)).catch(r=>m(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Jb(t),r}))}function Aa(t,e,n,r){return Ve(t).onIdTokenChanged(e,n,r)}function jg(t,e,n){return Ve(t).beforeAuthStateChanged(e,n)}function Ug(t){return Ve(t).signOut()}var rd="__sak";var id=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var uV=1e3,dV=10,fV=(()=>{class t extends id{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);HL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,dV):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return m(this,null,function*(){yield br(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return m(this,null,function*(){let r=yield br(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return m(this,null,function*(){yield br(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Xb=fV;var hV=(()=>{class t extends id{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Bg=hV;function pV(t){return Promise.all(t.map(e=>m(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var mV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return m(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>m(this,null,function*(){return u(r.origin,s)})),l=yield pV(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function $g(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Eg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return m(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=$g("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function dn(){return window}function gV(t){dn().location.href=t}function e0(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}function vV(){return m(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function yV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _V(){return e0()?self:null}var t0="firebaseLocalStorageDb",EV=1,od="firebaseLocalStorage",n0="fbase_key",di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ld(t,e){return t.transaction([od],e?"readwrite":"readonly").objectStore(od)}function IV(){let t=indexedDB.deleteDatabase(t0);return new di(t).toPromise()}function Ig(){let t=indexedDB.open(t0,EV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(od,{keyPath:n0})}catch(i){n(i)}}),t.addEventListener("success",()=>m(this,null,function*(){let r=t.result;r.objectStoreNames.contains(od)?e(r):(r.close(),yield IV(),e(yield Ig()))}))})}function wb(t,e,n){return m(this,null,function*(){let r=ld(t,!0).put({[n0]:e,value:n});return new di(r).toPromise()})}function wV(t,e){return m(this,null,function*(){let n=ld(t,!1).get(e),r=yield new di(n).toPromise();return r===void 0?null:r.value})}function Cb(t,e){let n=ld(t,!0).delete(e);return new di(n).toPromise()}var CV=800,DV=3,bV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return m(this,null,function*(){return this.db?this.db:(this.db=yield Ig(),this.db)})}_withRetries(n){return m(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>DV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return m(this,null,function*(){return e0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return m(this,null,function*(){this.receiver=mV._getInstance(_V()),this.receiver._subscribe("keyChanged",(n,r)=>m(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>m(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return m(this,null,function*(){var n,r;if(this.activeServiceWorker=yield vV(),!this.activeServiceWorker)return;this.sender=new Eg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return m(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||yV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return m(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ig();return yield wb(n,rd,"1"),yield Cb(n,rd),!0}catch{}return!1})}_withPendingWrite(n){return m(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(i=>wb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return m(this,null,function*(){let r=yield this._withRetries(i=>wV(i,n));return this.localCache[n]=r,r})}_remove(n){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(r=>Cb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return m(this,null,function*(){let n=yield this._withRetries(o=>{let s=ld(o,!1).getAll();return new di(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>m(this,null,function*(){return this._poll()}),CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),r0=bV;var F5=qb("rcb"),L5=new ui(3e4,6e4);function i0(t,e){return e?Fn(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ta=class extends xo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function TV(t){return Qb(t.auth,new Ta(t),t.bypassAuthState)}function SV(t){let{auth:e,user:n}=t;return R(n,e,"internal-error"),lV(n,new Ta(t),t.bypassAuthState)}function AV(t){return m(this,null,function*(){let{auth:e,user:n}=t;return R(n,e,"internal-error"),cV(n,new Ta(t),t.bypassAuthState)})}var sd=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>m(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return m(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TV;case"linkViaPopup":case"linkViaRedirect":return AV;case"reauthViaPopup":case"reauthViaRedirect":return SV;default:St(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var NV=new ui(2e3,1e4);function Hg(t,e,n){return m(this,null,function*(){if(Tt(t.app))return Promise.reject(Wt(t,"operation-not-supported-in-this-environment"));let r=Er(t);AL(t,e,ba);let i=i0(r,n);return new MV(r,"signInViaPopup",e,i).executeNotNull()})}var MV=(()=>{class t extends sd{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return m(this,null,function*(){let n=yield this.execute();return R(n,this.auth,"internal-error"),n})}onExecution(){return m(this,null,function*(){Vn(this.filter.length===1,"Popup operations only handle one event");let n=$g();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Wt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,NV.get())};n()}}t.currentPopupAction=null;return t})(),RV="pendingRedirect",qu=new Map,wg=class t extends sd{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return m(this,null,function*(){let e=qu.get(this.auth._key());if(!e){try{let r=(yield xV(this.resolver,this.auth))?yield br(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qu.set(this.auth._key(),e)}return this.bypassAuthState||qu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return m(this,null,function*(){if(e.type==="signInViaRedirect")return br(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,br(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return m(this,null,function*(){})}cleanUp(){}};function xV(t,e){return m(this,null,function*(){let n=PV(e),r=OV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function kV(t,e){qu.set(t._key(),e)}function OV(t){return Fn(t._redirectPersistence)}function PV(t){return Gu(RV,t.config.apiKey,t.name)}function FV(t,e,n=!1){return m(this,null,function*(){if(Tt(t.app))return Promise.reject(Ln(t));let r=Er(t),i=i0(r,e),s=yield new wg(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var LV=10*60*1e3,Cg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}};function Db(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o0(t);default:return!1}}function jV(n){return m(this,arguments,function*(t,e={}){return _r(t,"GET","/v1/projects",e)})}var UV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BV=/^https?/;function $V(t){return m(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield jV(t);for(let n of e)try{if(HV(n))return}catch{}St(t,"unauthorized-domain")})}function HV(t){let e=lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!BV.test(n))return!1;if(UV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var WV=new ui(3e4,6e4);function bb(){let t=dn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zV(t){return new Promise((e,n)=>{var r,i,o;function s(){bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bb(),n(Wt(t,"network-request-failed"))},timeout:WV.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=dn().gapi)===null||o===void 0)&&o.load)s();else{let a=qb("iframefcb");return dn()[a]=()=>{gapi.load?s():n(Wt(t,"network-request-failed"))},Gb(`${YL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Yu=null,e})}var Yu=null;function GV(t){return Yu=Yu||zV(t),Yu}var qV=new ui(5e3,15e3),YV="__/auth/iframe",KV="emulator/auth/iframe",ZV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JV(t){let e=t.config;R(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ag(e,KV):`https://${t.config.authDomain}/${YV}`,r={apiKey:e.apiKey,appName:t.name,v:gr},i=QV.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fr(r).slice(1)}`}function XV(t){return m(this,null,function*(){let e=yield GV(t),n=dn().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:JV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZV,dontclear:!0},r=>new Promise((i,o)=>m(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Wt(t,"network-request-failed"),a=dn().setTimeout(()=>{o(s)},qV.get());function c(){dn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var ej={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tj=500,nj=600,rj="_blank",ij="http://localhost",ad=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function oj(t,e,n,r=tj,i=nj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},ej),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Le().toLowerCase();n&&(a=jb(l)?rj:n),Lb(l)&&(e=e||ij,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if($L(l)&&a!=="_self")return sj(e||"",a),new ad(null);let d=window.open(e||"",a,u);R(d,t,"popup-blocked");try{d.focus()}catch{}return new ad(d)}function sj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var aj="__/auth/handler",cj="emulator/auth/handler",lj=encodeURIComponent("fac");function Tb(t,e,n,r,i,o){return m(this,null,function*(){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gr,eventId:i};if(e instanceof ba){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",fa(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof nd){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${lj}=${encodeURIComponent(c)}`:"";return`${uj(t)}?${fr(a).slice(1)}${l}`})}function uj({config:t}){return t.emulator?Ag(t,cj):`https://${t.authDomain}/${aj}`}var cg="webStorageSupport",Dg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bg,this._completeRedirectFn=FV,this._overrideRedirectResult=kV}_openPopup(e,n,r,i){return m(this,null,function*(){var o;Vn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Tb(e,n,r,lg(),i);return oj(e,s,$g())})}_openRedirect(e,n,r,i){return m(this,null,function*(){yield this._originValidation(e);let o=yield Tb(e,n,r,lg(),i);return gV(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return m(this,null,function*(){let n=yield XV(e),r=new Cg(e);return n.register("authEvent",i=>(R(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cg,{type:cg},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[cg];s!==void 0&&n(!!s),St(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$V(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wb()||Vb()||xg()}},s0=Dg;var Sb="@firebase/auth",Ab="1.7.9";var bg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fj(t){mr(new bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zb(t)},l=new gg(r,i,o,c);return QL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mr(new bt("auth-internal",e=>{let n=Er(e.getProvider("auth").getImmediate());return(r=>new bg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),be(Sb,Ab,dj(t)),be(Sb,Ab,"esm2017")}var hj=5*60,pj=Wm("authIdTokenMaxAge")||hj,Nb=null,mj=t=>e=>m(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pj)return;let i=n?.token;Nb!==i&&(Nb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Wg(t=To()){let e=ya(t,"auth");if(e.isInitialized())return e.getImmediate();let n=kg(t,{popupRedirectResolver:s0,persistence:[r0,Xb,Bg]}),r=Wm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=mj(o.toString());jg(n,s,()=>s(n.currentUser)),Aa(n,a=>s(a))}}let i=$m("auth");return i&&Og(n,`http://${i}`),n}function gj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Wt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",gj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fj("Browser");function l0(t){return new j(function(e){var n=Aa(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var u0="auth",jn=class{constructor(e){return e}},Na=class{constructor(){return _a(u0)}};var zg=new T("angularfire2.auth-instances");function rU(t,e){let n=$u(u0,t,e);return n&&new jn(n)}function iU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jn(r)}}var oU={provide:Na,deps:[[new qe,zg]]},sU={provide:jn,useFactory:rU,deps:[[new qe,zg],On]};function d0(t,...e){return be("angularfire",ci.full,"auth"),st([sU,oU,{provide:zg,useFactory:iU(t),multi:!0,deps:[re,Fe,No,li,[new qe,Ao],...e]}])}var f0=je(l0,!0);var h0=je(Lg,!0);var p0=je(Wg,!0);var m0=je(Vg,!0);var g0=je(Hg,!0);var v0=je(Ug,!0);var fn=class t{constructor(e){this.auth=e;e.onAuthStateChanged(n=>{this.isAuthenticated=!!n})}isAuthenticated=!1;register({email:e,password:n}){return h0(this.auth,e,n)}login({email:e,password:n}){return m0(this.auth,e,n)}loginWithGoogle(){return g0(this.auth,new Pg)}logout(){return v0(this.auth)}getCurrentUser(){return this.auth.currentUser}static \u0275fac=function(n){return new(n||t)(x(jn))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};function aU(t,e){t&1&&(v(0,"li",8)(1,"a",12),_(2,"Login"),g()())}function cU(t,e){t&1&&(v(0,"li",8)(1,"a",13),_(2,"Sign In"),g()())}function lU(t,e){t&1&&(v(0,"li",14)(1,"a",15),_(2,"Inicio "),Z(3,"span",16),g()())}function uU(t,e){t&1&&(v(0,"li",8)(1,"a",17),_(2,"Tareas"),g()())}function dU(t,e){t&1&&(v(0,"a",23),_(1," Dashboard "),g())}function fU(t,e){t&1&&(v(0,"a",24),_(1,"Stats"),g())}function hU(t,e){t&1&&(v(0,"a",25),_(1,"Profile"),g())}function pU(t,e){if(t&1&&(v(0,"li",18),Y(1,dU,2,0,"a",19),v(2,"ul",20)(3,"li"),Y(4,fU,2,0,"a",21),g(),v(5,"li"),Y(6,hU,2,0,"a",22),g()()()),t&2){let n=se();w(),C("ngIf",n.isAuthenticated),w(3),C("ngIf",n.isAuthenticated),w(2),C("ngIf",n.isAuthenticated)}}function mU(t,e){if(t&1){let n=wt();v(0,"a",26),X("click",function(){Ye(n);let i=se();return Ke(i.logout())}),_(1,"Sign Out"),g()}}var At=class t{constructor(e,n){this.router=e;this.servicelog=n}isAuthenticated=!1;ngOnInit(){this.isAuthenticated=this.servicelog.isAuthenticated}logout(){this.servicelog.logout().then(()=>this.router.navigate(["/login"])).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(b($t),b(fn))};static \u0275cmp=ee({type:t,selectors:[["app-nav-bar"]],standalone:!0,features:[te],decls:16,vars:6,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["class","nav-item active",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],["class","nav-link","role","button","routerLink","/signin",3,"click",4,"ngIf"],["routerLink","/login",1,"nav-link"],["routerLink","/singin",1,"nav-link"],[1,"nav-item","active"],["routerLink","/home",1,"nav-link"],[1,"sr-only"],["routerLink","/tasks",1,"nav-link"],[1,"nav-item","dropdown"],["class","nav-link dropdown-toggle","routerLink","/dashboard","role","button","data-bs-toggle","dropdown","aria-expanded","false",4,"ngIf"],[1,"dropdown-menu"],["class","dropdown-item","routerLink","/dashboard/stats",4,"ngIf"],["class","dropdown-item","routerLink","/dashboard/profile",4,"ngIf"],["routerLink","/dashboard","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLink","/dashboard/stats",1,"dropdown-item"],["routerLink","/dashboard/profile",1,"dropdown-item"],["role","button","routerLink","/signin",1,"nav-link",3,"click"]],template:function(n,r){n&1&&(v(0,"nav",0)(1,"div",1)(2,"a",2),_(3,"TaskManager"),g(),v(4,"button",3),Z(5,"span",4),g(),v(6,"div",5)(7,"ul",6),Y(8,aU,3,0,"li",7)(9,cU,3,0,"li",7),Z(10,"li",8),Y(11,lU,4,0,"li",9)(12,uU,3,0,"li",7)(13,pU,7,3,"li",10),v(14,"li",8),Y(15,mU,2,0,"a",11),g()()()()()),n&2&&(w(8),C("ngIf",!r.isAuthenticated),w(),C("ngIf",!r.isAuthenticated),w(2),C("ngIf",r.isAuthenticated),w(),C("ngIf",r.isAuthenticated),w(),C("ngIf",r.isAuthenticated),w(2),C("ngIf",r.isAuthenticated))},dependencies:[Se,sn,vu]})};var _0=(t,e)=>({"is-valid":t,"is-invalid":e});function gU(t,e){t&1&&(v(0,"small"),_(1,"El email es obligatorio."),g())}function vU(t,e){t&1&&(v(0,"small"),_(1,"Email inv\xE1lido."),g())}function yU(t,e){if(t&1&&(v(0,"div",16),Y(1,gU,2,0,"small",17)(2,vU,2,0,"small",17),g()),t&2){let n,r,i=se();w(),C("ngIf",(n=i.formLogin.get("email"))==null?null:n.hasError("required")),w(),C("ngIf",(r=i.formLogin.get("email"))==null?null:r.hasError("email"))}}function _U(t,e){t&1&&(v(0,"small"),_(1,"La contrase\xF1a es obligatoria."),g())}function EU(t,e){t&1&&(v(0,"small"),_(1,"La contrase\xF1a debe tener al menos 6 caracteres."),g())}function IU(t,e){if(t&1&&(v(0,"div",16),Y(1,_U,2,0,"small",17)(2,EU,2,0,"small",17),g()),t&2){let n,r,i=se();w(),C("ngIf",(n=i.formLogin.get("password"))==null?null:n.hasError("required")),w(),C("ngIf",(r=i.formLogin.get("password"))==null?null:r.hasError("minlength"))}}var dd=class t{constructor(e,n,r){this.loginservice=n;this.router=r;this.formLogin=e.group({email:["",[he.required,he.email]],password:["",[he.required,he.minLength(6)]]})}formLogin;Onsubmit(){this.formLogin.valid?(console.log("El login es valido"),this.loginservice.login(this.formLogin.value).then(e=>this.router.navigate(["/home"])).catch(e=>console.log(e)),console.log(this.loginservice.isAuthenticated)):console.log("El login es invalido")}loginWithGoogle(){this.loginservice.loginWithGoogle().then(e=>this.router.navigate(["/home"])).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(b(Eo),b(fn),b($t))};static \u0275cmp=ee({type:t,selectors:[["app-login"]],standalone:!0,features:[te],decls:26,vars:11,consts:[[1,"container"],[1,"text-center","mt-3"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","exampleInputPassword1"],["type","password","id","exampleInputPassword1","placeholder","Password","formControlName","password",1,"form-control",3,"ngClass"],[1,"form-group","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-primary"],[1,"d-flex","justify-content-center"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-google","m-1"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){if(n&1&&(Z(0,"app-nav-bar"),v(1,"div",0)(2,"h1",1),_(3,"Welcome to TaskList"),g(),v(4,"form",2),X("ngSubmit",function(){return r.Onsubmit()}),v(5,"div",3)(6,"label",4),_(7,"Email address"),g(),Z(8,"input",5),Y(9,yU,3,2,"div",6),g(),v(10,"div",3)(11,"label",7),_(12,"Password"),g(),Z(13,"input",8),Y(14,IU,3,2,"div",6),g(),v(15,"div",9),Z(16,"input",10),v(17,"label",11),_(18,"Check me out"),g()(),v(19,"button",12),_(20,"Submit"),g(),v(21,"div",13)(22,"button",14),X("click",function(){return r.loginWithGoogle()}),Z(23,"i",15),_(24,"Login con Google"),g()()()(),Z(25,"app-footer")),n&2){let i,o,s,a;w(4),C("formGroup",r.formLogin),w(4),C("ngClass",lt(5,_0,((i=r.formLogin.get("email"))==null?null:i.valid)&&((i=r.formLogin.get("email"))==null?null:i.touched),((i=r.formLogin.get("email"))==null?null:i.invalid)&&((i=r.formLogin.get("email"))==null?null:i.touched))),w(),C("ngIf",((o=r.formLogin.get("email"))==null?null:o.invalid)&&((o=r.formLogin.get("email"))==null?null:o.touched)),w(4),C("ngClass",lt(8,_0,((s=r.formLogin.get("password"))==null?null:s.valid)&&((s=r.formLogin.get("password"))==null?null:s.touched),((s=r.formLogin.get("password"))==null?null:s.invalid)&&((s=r.formLogin.get("password"))==null?null:s.touched))),w(),C("ngIf",((a=r.formLogin.get("password"))==null?null:a.invalid)&&((a=r.formLogin.get("password"))==null?null:a.touched))}},dependencies:[Se,or,sn,Io,_o,ur,vo,yo,ni,ri,At,Dt]})};var pt=class{id;name;description;priority;status;creationDate;expirationDate;isDelete;constructor(e,n,r,i,o,s,a,c){this.id=e,this.name=n,this.description=r,this.priority=i,this.status=o,this.creationDate=s,this.expirationDate=a,this.isDelete=c}getStatusText(){let e="";switch(this.status){case"IP":e="En proceso";break;case"C":e="Realizada";break;case"P":e="Pendiente";break}return e}getPriorityText(){switch(this.priority){case"H":return"Alta";case"M":return"Media";case"L":return"Baja";default:return""}}raisePriority(){switch(this.priority){case"L":this.priority="M";break;case"M":this.priority="H";break}}lowerPriority(){switch(this.priority){case"M":this.priority="L";break;case"H":this.priority="M";break}}changeStatus(){switch(this.status){case"C":this.status="IP";break;case"IP":this.status="C";break;case"P":this.status="IP";break}}getPriorityColor(){switch(this.priority){case"H":return"yellow";case"M":return"red";case"L":return"black";default:return""}}};var fi=class{action;taskId;constructor(e,n){this.action=e,this.taskId=n}};var CU=(t,e,n)=>({"bg-danger":t,"bg-success":e,"bg-warning":n});function DU(t,e){t&1&&(v(0,"span"),_(1,"(Completa)"),g())}function bU(t,e){t&1&&(v(0,"span"),_(1,"(En proceso)"),g())}function TU(t,e){t&1&&(v(0,"span"),_(1,"(Pendiente)"),g())}function SU(t,e){if(t&1){let n=wt();Gr(0),v(1,"i",16),X("click",function(){Ye(n);let i=se(3);return Ke(i.lowerPriority(i.task.id))}),g(),qr()}}function AU(t,e){if(t&1&&(v(0,"span"),Y(1,SU,2,0,"ng-container",15),_(2," Alta"),g()),t&2){let n=se(2);w(),C("ngIf",n.task.status!="C")}}function NU(t,e){if(t&1){let n=wt();Gr(0),v(1,"i",17),X("click",function(){Ye(n);let i=se(3);return Ke(i.raiseifpriority(i.task.id))}),g(),v(2,"i",16),X("click",function(){Ye(n);let i=se(3);return Ke(i.lowerPriority(i.task.id))}),g(),qr()}}function MU(t,e){if(t&1&&(v(0,"span"),Y(1,NU,3,0,"ng-container",15),_(2," Media"),g()),t&2){let n=se(2);w(),C("ngIf",n.task.status!="C")}}function RU(t,e){if(t&1){let n=wt();Gr(0),v(1,"i",17),X("click",function(){Ye(n);let i=se(3);return Ke(i.raiseifpriority(i.task.id))}),g(),qr()}}function xU(t,e){if(t&1&&(v(0,"span"),Y(1,RU,2,0,"ng-container",15),_(2," Baja"),g()),t&2){let n=se(2);w(),C("ngIf",n.task.status!="C")}}function kU(t,e){if(t&1){let n=wt();v(0,"span")(1,"i",18),X("click",function(){Ye(n);let i=se(2);return Ke(i.setStatus(i.task.id))}),g(),_(2,"Completada"),g()}}function OU(t,e){if(t&1){let n=wt();v(0,"span")(1,"i",19),X("click",function(){Ye(n);let i=se(2);return Ke(i.setStatus(i.task.id))}),g(),_(2,"En proceso"),g()}}function PU(t,e){if(t&1){let n=wt();v(0,"span")(1,"i",20),X("click",function(){Ye(n);let i=se(2);return Ke(i.setStatus(i.task.id))}),g(),_(2,"Pendiente"),g()}}function FU(t,e){if(t&1){let n=wt();v(0,"div",1)(1,"div",2)(2,"h5",3),_(3),Y(4,DU,2,0,"span",4)(5,bU,2,0,"span",4)(6,TU,2,0,"span",4),g(),v(7,"div",5)(8,"div",6)(9,"h2",7)(10,"button",8),_(11),g()(),v(12,"div",9)(13,"div",10)(14,"p",11),_(15,"Prioridad: "),Y(16,AU,3,1,"span",4)(17,MU,3,1,"span",4)(18,xU,3,1,"span",4),g(),v(19,"p",11),_(20," Estado: "),Y(21,kU,3,0,"span",4)(22,OU,3,0,"span",4)(23,PU,3,0,"span",4),g(),v(24,"p",12),_(25),g(),v(26,"p",12),_(27,"Acciones:"),v(28,"i",13),X("click",function(){Ye(n);let i=se();return Ke(i.onEditTask())}),g(),v(29,"i",14),X("click",function(){Ye(n);let i=se();return Ke(i.deleteTask(i.task.id))}),g()()()()()()()()}if(t&2){let n=se();C("ngClass",Mw(21,CU,n.task.priority=="H",n.task.priority=="L",n.task.priority=="M")),w(2),C("ngSwitch",n.task.status),w(),Ms(" ",n.task.name," "),w(),C("ngSwitchCase","C"),w(),C("ngSwitchCase","IP"),w(),C("ngSwitchCase","P"),w(),C("id","accordionExample"+n.task.id),w(3),rr("data-bs-target","#collapseOne"+n.task.id)("aria-controls","collapseOne"+n.task.id),w(),Ms(" Descripci\xF3n: ",n.task.description," "),w(),C("id","collapseOne"+n.task.id),rr("data-bs-parent","#accordionExample"+n.task.id),w(2),C("ngSwitch",n.task.priority),w(2),C("ngSwitchCase","H"),w(),C("ngSwitchCase","M"),w(),C("ngSwitchCase","L"),w(),C("ngSwitch",n.task.status),w(2),C("ngSwitchCase","C"),w(),C("ngSwitchCase","IP"),w(),C("ngSwitchCase","P"),w(2),Ms("Fecha de expiraci\xF3n: ",n.task.expirationDate,"")}}var fd=class t{task=new pt(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1);eventTaskModify=new de;editTask=new de;setStatus(e){this.eventTaskModify.emit(new fi("setStatus",this.task.id))}deleteTask(e){this.eventTaskModify.emit(new fi("deleteTask",this.task.id))}lowerPriority(e){this.eventTaskModify.emit(new fi("lowerPriority",this.task.id))}raiseifpriority(e){this.eventTaskModify.emit(new fi("raiseifpriority",this.task.id))}onEditTask(){this.editTask.emit(this.task)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-resume"]],inputs:{task:"task"},outputs:{eventTaskModify:"eventTaskModify",editTask:"editTask"},standalone:!0,features:[te],decls:1,vars:1,consts:[["class","card mb-3",3,"ngClass",4,"ngIf"],[1,"card","mb-3",3,"ngClass"],[1,"card-body"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"accordion",3,"id"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"card-text",3,"ngSwitch"],[1,"card-text"],[1,"bi","bi-pencil-square",3,"click"],[1,"bi","bi-trash",3,"click"],[4,"ngIf"],[1,"bi","bi-arrow-down-circle-fill",3,"click"],[1,"bi","bi-arrow-up-circle-fill",3,"click"],[1,"bi","bi-arrow-return-right",3,"click"],[1,"bi","bi-check-lg",3,"click"],[1,"bi","bi-play-fill",3,"click"]],template:function(n,r){n&1&&Y(0,FU,30,25,"div",0),n&2&&C("ngIf",!r.task.isDelete)},dependencies:[Se,or,sn,Np,Xw]})};function I0(){return t=>{let e=t.value,n=new Date;return new Date(e)>=n?null:{invalidDate:!0}}}function w0(){return t=>{let e=t.value;return["L","M","H"].includes(e)?null:{invalidValuePriority:!0}}}var C0="@firebase/database",D0="1.0.8";var Gv="";function LU(t){Gv=t}var Xg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),De(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var ev=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ln(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var tT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Xg(e)}}catch{}return new ev},pi=tT("localStorage"),tv=tT("sessionStorage");var Fo=new hr("@firebase/database"),VU=function(){let t=1;return function(){return t++}}(),nT=function(t){let e=QD(t),n=new Ou;n.update(e);let r=n.digest();return Pu.encodeByteArray(r)},Za=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Za.apply(null,r):typeof r=="object"?e+=De(r):e+=r,e+=" "}return e},gi=null,b0=!0,jU=function(t,e){E(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fo.logLevel=ie.VERBOSE,gi=Fo.log.bind(Fo),e&&tv.set("logging_enabled",!0)):typeof t=="function"?gi=t:(gi=null,tv.remove("logging_enabled"))},Ue=function(...t){if(b0===!0&&(b0=!1,gi===null&&tv.get("logging_enabled")===!0&&jU(!0)),gi){let e=Za.apply(null,t);gi(e)}},Qa=function(t){return function(...e){Ue(t,...e)}},nv=function(...t){let e="FIREBASE INTERNAL ERROR: "+Za(...t);Fo.error(e)},Un=function(...t){let e=`FIREBASE FATAL ERROR: ${Za(...t)}`;throw Fo.error(e),new Error(e)},et=function(...t){let e="FIREBASE WARNING: "+Za(...t);Fo.warn(e)},UU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},BU=function(t){if(cn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Vo="[MIN_NAME]",vi="[MAX_NAME]",zo=function(t,e){if(t===e)return 0;if(t===Vo||e===vi)return-1;if(e===Vo||t===vi)return 1;{let n=T0(t),r=T0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},$U=function(t,e){return t===e?0:t<e?-1:1},Ma=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+De(e))},qv=function(t){if(typeof t!="object"||t===null)return De(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=De(e[r]),n+=":",n+=qv(t[e[r]]);return n+="}",n},iT=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function tt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var oT=function(t){E(!rT(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},HU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function zU(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var GU=new RegExp("^-?(0*)\\d{1,10}$"),qU=-2147483648,YU=2147483647,T0=function(t){if(GU.test(t)){let e=Number(t);if(e>=qU&&e<=YU)return e}return null},Go=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw et("Exception was thrown by user callback.",n),e},Math.floor(0))}},KU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var rv=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var iv=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(e)}},Fa=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),pd="5",sT="v",aT="s",cT="r",lT="f",uT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dT="ls",fT="p",ov="ac",hT="websocket",pT="long_polling";var md=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function ZU(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function mT(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===hT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===pT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ZU(t)&&(n.ns=t.namespace);let i=[];return tt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var sv=class{constructor(){this.counters_={}}incrementCounter(e,n=1){ln(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VD(this.counters_)}};var Gg={},qg={};function Yv(t){let e=t.toString();return Gg[e]||(Gg[e]=new sv),Gg[e]}function QU(t,e){let n=t.toString();return qg[n]||(qg[n]=e()),qg[n]}var av=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Go(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var S0="start",JU="close",XU="pLPCommand",e2="pRTLPCB",gT="id",vT="pw",yT="ser",t2="cb",n2="seg",r2="ts",i2="d",o2="dframe",_T=1870,ET=30,s2=_T-ET,a2=25e3,c2=3e4,cv=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qa(e),this.stats_=Yv(n),this.urlFn=c=>(this.appCheckToken&&(c[ov]=this.appCheckToken),mT(n,pT,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new av(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(c2)),BU(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lv((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===S0)this.id=a,this.password=c;else if(s===JU)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[S0]="t",r[yT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[t2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sT]=pd,this.transportSessionId&&(r[aT]=this.transportSessionId),this.lastSessionId&&(r[dT]=this.lastSessionId),this.applicationId&&(r[fT]=this.applicationId),this.appCheckToken&&(r[ov]=this.appCheckToken),typeof location<"u"&&location.hostname&&uT.test(location.hostname)&&(r[cT]=lT);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return cn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HU()&&!WU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=De(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Um(n),i=iT(r,s2);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(cn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[o2]="t",r[gT]=e,r[vT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=De(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},lv=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,cn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=VU(),window[XU+this.uniqueCallbackIdentifier]=e,window[e2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ue("frame writing exception"),a.stack&&Ue(a.stack),Ue(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ue("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[gT]=this.myID,e[vT]=this.myPW,e[yT]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ET+r.length<=_T;){let s=this.pendingSegs.shift();r=r+"&"+n2+i+"="+s.seg+"&"+r2+i+"="+s.ts+"&"+i2+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(a2)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){cn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var l2=16384,u2=45e3,gd=null;typeof MozWebSocket<"u"?gd=MozWebSocket:typeof WebSocket<"u"&&(gd=WebSocket);var Ra=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qa(this.connId),this.stats_=Yv(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[sT]=pd,!cn()&&typeof location<"u"&&location.hostname&&uT.test(location.hostname)&&(a[cT]=lT),r&&(a[aT]=r),i&&(a[dT]=i),o&&(a[ov]=o),s&&(a[fT]=s),mT(n,hT,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pi.set("previous_websocket_failure",!0);try{let i;if(cn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${pd}/${Gv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new gd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&gd!==null&&!t.forceDisallow_}static previouslyFailed(){return pi.isInMemoryStorage||pi.get("previous_websocket_failure")===!0}markConnectionHealthy(){pi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=wo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(E(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=De(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=iT(r,l2);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(u2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),d2=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[cv,Ra]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ra&&Ra.isAvailable(),i=r&&!Ra.previouslyFailed();if(n.webSocketOnly&&(r||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ra];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),f2=6e4,h2=5e3,p2=10*1024,m2=100*1024,Yg="t",A0="d",g2="s",N0="r",v2="e",M0="o",R0="a",x0="n",k0="p",y2="h",uv=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qa("c:"+this.id+":"),this.transportManager_=new d2(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>m2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>p2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yg in e){let n=e[Yg];n===R0?this.upgradeIfSecondaryHealthy_():n===N0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===M0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ma("t",e),r=Ma("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:k0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:x0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ma("t",e),r=Ma("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ma(Yg,e);if(A0 in e){let r=e[A0];if(n===y2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===x0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===g2?this.onConnectionShutdown_(r):n===N0?this.onReset_(r):n===v2?nv("Server Error: "+r):n===M0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nv("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pd!==r&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(f2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(h2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:k0,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var vd=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var yd=class{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var _d=class t extends yd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!da()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var O0=32,P0=768,oe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function J(){return new oe("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cr(t){return t.pieces_.length-t.pieceNum_}function ue(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new oe(t.pieces_,e)}function IT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function wT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function CT(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oe(e,0)}function Ae(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function Qe(t,e){let n=G(t),r=G(e);if(n===null)return e;if(n===r)return Qe(ue(t),ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Kv(t,e){if(Cr(t)!==Cr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Gt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cr(t)>Cr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var dv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=wT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pa(this.parts_[r]);DT(this)}};function E2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=pa(e),DT(t)}function I2(t){let e=t.parts_.pop();t.byteLength_-=pa(e),t.parts_.length>0&&(t.byteLength_-=1)}function DT(t){if(t.byteLength_>P0)throw new Error(t.errorPrefix_+"has a key path longer than "+P0+" bytes ("+t.byteLength_+").");if(t.parts_.length>O0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+O0+") or object contains a cycle "+hi(t))}function hi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var fv=class t extends yd{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}};var xa=1e3,w2=60*5*1e3,F0=30*1e3,C2=1.3,D2=3e4,b2="server_kill",L0=3,Zv=(()=>{class t extends vd{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Qa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xa,this.maxReconnectDelay_=w2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!cn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&_d.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(De(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new dr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&ln(n,"w")){let i=oi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||KD(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=F0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=YD(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+De(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):nv("Unrecognized action received from server: "+De(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>D2&&(this.reconnectDelay_=xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*C2)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){E(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new uv(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{et(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(b2)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&et(f),l())}}})}interrupt(n){Ue("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ue("Resuming connection for reason: "+n),delete this.interruptReasons_[n],fa(this.interruptReasons_)&&(this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>qv(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new oe(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ue("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=L0&&(this.reconnectDelay_=F0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ue("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=L0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";cn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Gv.replace(/\./g,"-")]=1,da()?n["framework.cordova"]=1:Fu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=_d.getInstance().currentlyOnline();return fa(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var jo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new q(Vo,e),i=new q(Vo,n);return this.compare(r,i)!==0}minPost(){return q.MIN}};var hd,Ed=class extends jo{static get __EMPTY_NODE(){return hd}static set __EMPTY_NODE(e){hd=e}compare(e,n){return zo(e.name,n.name)}isDefinedOn(e){throw ii("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return q.MIN}maxPost(){return new q(vi,hd)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new q(e,hd)}toString(){return".key"}},Lo=new Ed;var Po=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},zt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Nt.EMPTY_NODE,this.right=s??Nt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),hv=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new zt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Nt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,zt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Po(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Po(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Po(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Po(this.root_,null,this.comparator_,!0,e)}};Nt.EMPTY_NODE=new hv;function T2(t,e){return zo(t.name,e.name)}function Qv(t,e){return zo(t,e)}var pv;function S2(t){pv=t}var bT=function(t){return typeof t=="number"?"number:"+oT(t):"string:"+t},TT=function(t){if(t.isLeafNode()){let e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ln(e,".sv"),"Priority must be a string or number.")}else E(t===pv||t.isEmpty(),"priority of unexpected type.");E(t===pv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var V0,Uo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TT(this.priorityNode_)}static set __childrenNodeConstructor(n){V0=n}static get __childrenNodeConstructor(){return V0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:G(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=G(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(E(i!==".priority"||Cr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ue(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+bT(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=oT(this.value_):n+=this.value_,this.lazyHash_=nT(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(E(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return E(o>=0,"Unknown leaf type: "+r),E(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),ST,AT;function A2(t){ST=t}function N2(t){AT=t}var mv=class extends jo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?zo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(vi,new Uo("[PRIORITY-POST]",AT))}makePost(e,n){let r=ST(e);return new q(n,new Uo("[PRIORITY-POST]",r))}toString(){return".priority"}},Ee=new mv;var M2=Math.log(2),gv=class{constructor(e){let n=o=>parseInt(Math.log(o)/M2,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Id=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new zt(f,d.node,zt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),D=i(h+1,l);return d=t[h],f=n?n(d):d,new zt(f,d.node,zt.BLACK,p,D)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,D){let N=d-p,P=d;d-=p;let pe=i(N+1,P),me=t[N],Ce=n?n(me):me;h(new zt(Ce,me.node,D,null,pe))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let D=c.nextBitIsOne(),N=Math.pow(2,c.count-(p+1));D?f(N,zt.BLACK):(f(N,zt.BLACK),f(N,zt.RED))}return u},s=new gv(t.length),a=o(s);return new Nt(r||e,a)};var Kg,Oo={},Bo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return E(Oo&&Ee,"ChildrenNode.ts has not been loaded"),Kg=Kg||new t({".priority":Oo},{".priority":Ee}),Kg}get(e){let n=oi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nt?n:null}hasIndex(e){return ln(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Lo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(q.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Id(r,e.getCompare()):a=Oo;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=ha(this.indexes_,(i,o)=>{let s=oi(this.indexSet_,o);if(E(s,"Missing index implementation for "+o),i===Oo)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(q.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Id(a,s.getCompare())}else return Oo;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new q(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=ha(this.indexes_,i=>{if(i===Oo)return i;{let o=n.get(e.name);return o?i.remove(new q(e.name,o)):i}});return new t(r,this.indexSet_)}};var ka,L=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&TT(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ka||(ka=new t(new Nt(Qv),null,Bo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ka}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ka:r}}getChild(n){let r=G(n);return r===null?this:this.getImmediateChild(r).getChild(ue(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(E(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ka:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=G(n);if(i===null)return r;{E(G(n)!==".priority"||Cr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ue(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ee,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+bT(this.getPriority().val())+":"),this.forEachChild(Ee,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":nT(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ja?-1:0}withIndex(n){if(n===Lo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Lo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ee),o=r.getIterator(Ee),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Lo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),vv=class extends L{constructor(){super(new Nt(Qv),L.EMPTY_NODE,Bo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}},Ja=new vv;Object.defineProperties(q,{MIN:{value:new q(Vo,L.EMPTY_NODE)},MAX:{value:new q(vi,Ja)}});Ed.__EMPTY_NODE=L.EMPTY_NODE;Uo.__childrenNodeConstructor=L;S2(Ja);N2(Ja);var R2=!0;function Me(t,e=null){if(t===null)return L.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Uo(n,Me(e))}if(!(t instanceof Array)&&R2){let n=[],r=!1;if(tt(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Me(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new q(s,c)))}}),n.length===0)return L.EMPTY_NODE;let o=Id(n,T2,s=>s.name,Qv);if(r){let s=Id(n,Ee.getCompare());return new L(o,Me(e),new Bo({".priority":s},{".priority":Ee}))}else return new L(o,Me(e),Bo.Default)}else{let n=L.EMPTY_NODE;return tt(t,(r,i)=>{if(ln(t,r)&&r.substring(0,1)!=="."){let o=Me(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Me(e))}}A2(Me);var yv=class extends jo{constructor(e){super(),this.indexPath_=e,E(!K(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?zo(e.name,n.name):o}makePost(e,n){let r=Me(e),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){let e=L.EMPTY_NODE.updateChild(this.indexPath_,Ja);return new q(vi,e)}toString(){return wT(this.indexPath_,0).join("/")}};var _v=class extends jo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?zo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(e,n){let r=Me(e);return new q(n,r)}toString(){return".value"}},x2=new _v;function NT(t){return{type:"value",snapshotNode:t}}function $o(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ua(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ba(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function k2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var $a=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Ua(n,a)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange($o(n,r)):s.trackChildChange(Ba(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ee,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ua(i,o))}),n.isLeafNode()||n.forEachChild(Ee,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ba(i,o,s))}else r.trackChildChange($o(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var wd=class t{constructor(e){this.indexedFilter_=new $a(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new q(n,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=L.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);let o=this;return n.forEachChild(Ee,(s,a)=>{o.matches(new q(s,a))||(i=i.updateImmediateChild(s,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Ev=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new wd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new q(n,r))||(r=L.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;E(a.numChildren()===this.limit_,"");let c=new q(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ba(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Ua(n,d));let D=a.updateImmediateChild(n,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange($o(f.name,f.node)),D.updateImmediateChild(f.name,f.node)):D}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Ua(l.name,l.node)),o.trackChildChange($o(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,L.EMPTY_NODE)):e}};var Iv=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vo}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function O2(t){return t.loadsAllData()?new $a(t.getIndex()):t.hasLimit()?new Ev(t):new wd(t)}function j0(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ee?n="$priority":t.index_===x2?n="$value":t.index_===Lo?n="$key":(E(t.index_ instanceof yv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=De(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=De(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+De(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=De(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+De(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function U0(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}var wv=class t extends vd{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=j0(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),oi(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=j0(e._queryParams),r=e._path.toString(),i=new dr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=wo(a.responseText)}catch{et("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&et("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Cv=class{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Cd(){return{value:null,children:new Map}}function MT(t,e,n){if(K(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=G(e);t.children.has(r)||t.children.set(r,Cd());let i=t.children.get(r);e=ue(e),MT(i,e,n)}}function Dv(t,e,n){t.value!==null?n(e,t.value):P2(t,(r,i)=>{let o=new oe(e.toString()+"/"+r);Dv(i,o,n)})}function P2(t,e){t.children.forEach((n,r)=>{e(r,n)})}var bv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&tt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var B0=10*1e3,F2=30*1e3,L2=5*60*1e3,Tv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bv(e);let r=B0+(F2-B0)*Math.random();Pa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;tt(e,(i,o)=>{o>0&&ln(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Pa(this.reportStats_.bind(this),Math.floor(Math.random()*2*L2))}};var hn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(hn||{});function RT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Jv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Xv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Sv=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=hn.ACK_USER_WRITE,this.source=RT()}operationForChild(e){if(K(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new oe(e));return new t(J(),n,this.revert)}}else return E(G(this.path)===e,"operationForChild called for unrelated child."),new t(ue(this.path),this.affectedTree,this.revert)}};var Dd=class t{constructor(e,n){this.source=e,this.path=n,this.type=hn.LISTEN_COMPLETE}operationForChild(e){return K(this.path)?new t(this.source,J()):new t(this.source,ue(this.path))}};var Ho=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=hn.OVERWRITE}operationForChild(e){return K(this.path)?new t(this.source,J(),this.snap.getImmediateChild(e)):new t(this.source,ue(this.path),this.snap)}};var bd=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=hn.MERGE}operationForChild(e){if(K(this.path)){let n=this.children.subtree(new oe(e));return n.isEmpty()?null:n.value?new Ho(this.source,J(),n.value):new t(this.source,J(),n)}else return E(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var pn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;let n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Av=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function V2(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(k2(s.childName,s.snapshotNode))}),Oa(t,i,"child_removed",e,r,n),Oa(t,i,"child_added",e,r,n),Oa(t,i,"child_moved",o,r,n),Oa(t,i,"child_changed",e,r,n),Oa(t,i,"value",e,r,n),i}function Oa(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>U2(t,a,c)),s.forEach(a=>{let c=j2(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function j2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function U2(t,e,n){if(e.childName==null||n.childName==null)throw ii("Should only compare child_ events.");let r=new q(e.childName,e.snapshotNode),i=new q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Vd(t,e){return{eventCache:t,serverCache:e}}function La(t,e,n,r){return Vd(new pn(e,n,r),t.serverCache)}function xT(t,e,n,r){return Vd(t.eventCache,new pn(e,n,r))}function Td(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Zg,B2=()=>(Zg||(Zg=new Nt($U)),Zg),nt=class t{constructor(e,n=B2()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return tt(e,(r,i)=>{n=n.set(new oe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(K(e))return null;{let r=G(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ue(e),n);return o!=null?{path:Ae(new oe(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{let n=G(e),r=this.children.get(n);return r!==null?r.subtree(ue(e)):new t(null)}}set(e,n){if(K(e))return new t(n,this.children);{let r=G(e),o=(this.children.get(r)||new t(null)).set(ue(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(K(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=G(e),r=this.children.get(n);if(r){let i=r.remove(ue(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(K(e))return this.value;{let n=G(e),r=this.children.get(n);return r?r.get(ue(e)):null}}setTree(e,n){if(K(e))return n;{let r=G(e),o=(this.children.get(r)||new t(null)).setTree(ue(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(J(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,J(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(K(e))return null;{let o=G(e),s=this.children.get(o);return s?s.findOnPath_(ue(e),Ae(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,J(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);let i=G(e),o=this.children.get(i);return o?o.foreachOnPath_(ue(e),Ae(n,i),r):new t(null)}}foreach(e){this.foreach_(J(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var qt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new nt(null))}};function Va(t,e,n){if(K(e))return new qt(new nt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Qe(i,e);return o=o.updateChild(s,n),new qt(t.writeTree_.set(i,o))}else{let i=new nt(n),o=t.writeTree_.setTree(e,i);return new qt(o)}}}function $0(t,e,n){let r=t;return tt(n,(i,o)=>{r=Va(r,Ae(e,i),o)}),r}function H0(t,e){if(K(e))return qt.empty();{let n=t.writeTree_.setTree(e,new nt(null));return new qt(n)}}function Nv(t,e){return _i(t,e)!=null}function _i(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Qe(n.path,e)):null}function W0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{e.push(new q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new q(r,i.value))}),e}function Ir(t,e){if(K(e))return t;{let n=_i(t,e);return n!=null?new qt(new nt(n)):new qt(t.writeTree_.subtree(e))}}function Mv(t){return t.writeTree_.isEmpty()}function Wo(t,e){return kT(J(),t.writeTree_,e)}function kT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(E(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=kT(Ae(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ae(t,".priority"),r)),n}}function jd(t,e){return LT(e,t)}function $2(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Va(t.visibleWrites,e,n)),t.lastWriteId=r}function H2(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function W2(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&z2(a,r.path)?i=!1:Gt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return G2(t),!0;if(r.snap)t.visibleWrites=H0(t.visibleWrites,r.path);else{let a=r.children;tt(a,c=>{t.visibleWrites=H0(t.visibleWrites,Ae(r.path,c))})}return!0}else return!1}function z2(t,e){if(t.snap)return Gt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Gt(Ae(t.path,n),e))return!0;return!1}function G2(t){t.visibleWrites=OT(t.allWrites,q2,J()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function q2(t){return t.visible}function OT(t,e,n){let r=qt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Gt(n,s)?(a=Qe(n,s),r=Va(r,a,o.snap)):Gt(s,n)&&(a=Qe(s,n),r=Va(r,J(),o.snap.getChild(a)));else if(o.children){if(Gt(n,s))a=Qe(n,s),r=$0(r,a,o.children);else if(Gt(s,n))if(a=Qe(s,n),K(a))r=$0(r,J(),o.children);else{let c=oi(o.children,G(a));if(c){let l=c.getChild(ue(a));r=Va(r,J(),l)}}}else throw ii("WriteRecord should have .snap or .children")}}return r}function PT(t,e,n,r,i){if(!r&&!i){let o=_i(t.visibleWrites,e);if(o!=null)return o;{let s=Ir(t.visibleWrites,e);if(Mv(s))return n;if(n==null&&!Nv(s,J()))return null;{let a=n||L.EMPTY_NODE;return Wo(s,a)}}}else{let o=Ir(t.visibleWrites,e);if(!i&&Mv(o))return n;if(!i&&n==null&&!Nv(o,J()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Gt(l.path,e)||Gt(e,l.path))},a=OT(t.allWrites,s,e),c=n||L.EMPTY_NODE;return Wo(a,c)}}}function Y2(t,e,n){let r=L.EMPTY_NODE,i=_i(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ee,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Ir(t.visibleWrites,e);return n.forEachChild(Ee,(s,a)=>{let c=Wo(Ir(o,new oe(s)),a);r=r.updateImmediateChild(s,c)}),W0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Ir(t.visibleWrites,e);return W0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function K2(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ae(e,n);if(Nv(t.visibleWrites,o))return null;{let s=Ir(t.visibleWrites,o);return Mv(s)?i.getChild(n):Wo(s,i.getChild(n))}}function Z2(t,e,n,r){let i=Ae(e,n),o=_i(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Ir(t.visibleWrites,i);return Wo(s,r.getNode().getImmediateChild(n))}else return null}function Q2(t,e){return _i(t.visibleWrites,e)}function J2(t,e,n,r,i,o,s){let a,c=Ir(t.visibleWrites,e),l=_i(c,J());if(l!=null)a=l;else if(n!=null)a=Wo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function X2(){return{visibleWrites:qt.empty(),allWrites:[],lastWriteId:-1}}function Sd(t,e,n,r){return PT(t.writeTree,t.treePath,e,n,r)}function ey(t,e){return Y2(t.writeTree,t.treePath,e)}function z0(t,e,n,r){return K2(t.writeTree,t.treePath,e,n,r)}function Ad(t,e){return Q2(t.writeTree,Ae(t.treePath,e))}function eB(t,e,n,r,i,o){return J2(t.writeTree,t.treePath,e,n,r,i,o)}function ty(t,e,n){return Z2(t.writeTree,t.treePath,e,n)}function FT(t,e){return LT(Ae(t.treePath,e),t.writeTree)}function LT(t,e){return{treePath:t,writeTree:e}}var Rv=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ba(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ua(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,$o(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ba(r,e.snapshotNode,i.oldSnap));else throw ii("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var xv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},VT=new xv,Ha=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new pn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ty(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yi(this.viewCache_),o=eB(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function tB(t){return{filter:t}}function nB(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rB(t,e,n,r,i){let o=new Rv,s,a;if(n.type===hn.OVERWRITE){let l=n;l.source.fromUser?s=kv(t,e,l.path,l.snap,r,i,o):(E(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!K(l.path),s=Nd(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===hn.MERGE){let l=n;l.source.fromUser?s=oB(t,e,l.path,l.children,r,i,o):(E(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Ov(t,e,l.path,l.children,r,i,a,o))}else if(n.type===hn.ACK_USER_WRITE){let l=n;l.revert?s=cB(t,e,l.path,r,i,o):s=sB(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===hn.LISTEN_COMPLETE)s=aB(t,e,n.path,r,o);else throw ii("Unknown operation type: "+n.type);let c=o.getChanges();return iB(e,s,c),{viewCache:s,changes:c}}function iB(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Td(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(NT(Td(e)))}}function jT(t,e,n,r,i,o){let s=e.eventCache;if(Ad(r,n)!=null)return e;{let a,c;if(K(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=yi(e),u=l instanceof L?l:L.EMPTY_NODE,d=ey(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Sd(r,yi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=G(n);if(l===".priority"){E(Cr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=z0(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ue(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=z0(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=ty(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return La(e,a,s.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function Nd(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(K(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=G(n);if(!c.isCompleteForPath(n)&&Cr(n)>1)return e;let p=ue(n),N=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),N):l=u.updateChild(c.getNode(),h,N,p,VT,null)}let d=xT(e,l,c.isFullyInitialized()||K(n),u.filtersNodes()),f=new Ha(i,d,o);return jT(t,d,n,i,f,a)}function kv(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new Ha(i,e,o);if(K(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=La(e,l,!0,t.filter.filtersNodes());else{let d=G(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=La(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ue(n),h=a.getNode().getImmediateChild(d),p;if(K(f))p=r;else{let D=u.getCompleteChild(d);D!=null?IT(f)===".priority"&&D.getChild(CT(f)).isEmpty()?p=D:p=D.updateChild(f,r):p=L.EMPTY_NODE}if(h.equals(p))c=e;else{let D=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=La(e,D,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function G0(t,e){return t.eventCache.isCompleteForChild(e)}function oB(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Ae(n,c);G0(e,G(u))&&(a=kv(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ae(n,c);G0(e,G(u))||(a=kv(t,a,u,l,i,o,s))}),a}function q0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ov(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;K(n)?l=r:l=new nt(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=q0(t,h,f);c=Nd(t,c,new oe(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),D=q0(t,p,f);c=Nd(t,c,new oe(d),D,i,o,s,a)}}),c}function sB(t,e,n,r,i,o,s){if(Ad(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(K(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Nd(t,e,n,c.getNode().getChild(n),i,o,a,s);if(K(n)){let l=new nt(null);return c.getNode().forEachChild(Lo,(u,d)=>{l=l.set(new oe(u),d)}),Ov(t,e,n,l,i,o,a,s)}else return e}else{let l=new nt(null);return r.foreach((u,d)=>{let f=Ae(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Ov(t,e,n,l,i,o,a,s)}}function aB(t,e,n,r,i){let o=e.serverCache,s=xT(e,o.getNode(),o.isFullyInitialized()||K(n),o.isFiltered());return jT(t,s,n,r,VT,i)}function cB(t,e,n,r,i,o){let s;if(Ad(r,n)!=null)return e;{let a=new Ha(r,e,i),c=e.eventCache.getNode(),l;if(K(n)||G(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Sd(r,yi(e));else{let d=e.serverCache.getNode();E(d instanceof L,"serverChildren would be complete if leaf node"),u=ey(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=G(n),d=ty(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ue(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,L.EMPTY_NODE,ue(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Sd(r,yi(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Ad(r,J())!=null,La(e,l,s,t.filter.filtersNodes())}}var Pv=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new $a(r.getIndex()),o=O2(r);this.processor_=tB(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(L.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(L.EMPTY_NODE,a.getNode(),null),u=new pn(c,s.isFullyInitialized(),i.filtersNodes()),d=new pn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Vd(d,u),this.eventGenerator_=new Av(this.query_)}get query(){return this.query_}};function lB(t){return t.viewCache_.serverCache.getNode()}function uB(t){return Td(t.viewCache_)}function dB(t,e){let n=yi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function Y0(t){return t.eventRegistrations_.length===0}function fB(t,e){t.eventRegistrations_.push(e)}function K0(t,e,n){let r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Z0(t,e,n,r){e.type===hn.MERGE&&e.source.queryId!==null&&(E(yi(t.viewCache_),"We should always have a full cache before handling merges"),E(Td(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=rB(t.processor_,i,e,n,r);return nB(t.processor_,o.viewCache),E(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,UT(t,o.changes,o.viewCache.eventCache.getNode(),null)}function hB(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(o,s)=>{r.push($o(o,s))}),n.isFullyInitialized()&&r.push(NT(n.getNode())),UT(t,r,n.getNode(),e)}function UT(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return V2(t.eventGenerator_,e,n,i)}var Md,Rd=class{constructor(){this.views=new Map}};function pB(t){E(!Md,"__referenceConstructor has already been defined"),Md=t}function mB(){return E(Md,"Reference.ts has not been loaded"),Md}function gB(t){return t.views.size===0}function ny(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return E(o!=null,"SyncTree gave us an op for an invalid query."),Z0(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(Z0(s,e,n,r));return o}}function BT(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Sd(n,i?r:null),c=!1;a?c=!0:r instanceof L?(a=ey(n,r),c=!1):(a=L.EMPTY_NODE,c=!1);let l=Vd(new pn(a,c,!1),new pn(r,i,!1));return new Pv(e,l)}return s}function vB(t,e,n,r,i,o){let s=BT(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),fB(s,n),hB(s,n)}function yB(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Dr(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(K0(l,n,r)),Y0(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(K0(c,n,r)),Y0(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Dr(t)&&o.push(new(mB())(e._repo,e._path)),{removed:o,events:s}}function $T(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wr(t,e){let n=null;for(let r of t.views.values())n=n||dB(r,e);return n}function HT(t,e){if(e._queryParams.loadsAllData())return Ud(t);{let r=e._queryIdentifier;return t.views.get(r)}}function WT(t,e){return HT(t,e)!=null}function Dr(t){return Ud(t)!=null}function Ud(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var xd;function _B(t){E(!xd,"__referenceConstructor has already been defined"),xd=t}function EB(){return E(xd,"Reference.ts has not been loaded"),xd}var IB=1,kd=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nt(null),this.pendingWriteTree_=X2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function zT(t,e,n,r,i){return $2(t.pendingWriteTree_,e,n,r,i),i?ec(t,new Ho(RT(),e,n)):[]}function mi(t,e,n=!1){let r=H2(t.pendingWriteTree_,e);if(W2(t.pendingWriteTree_,e)){let o=new nt(null);return r.snap!=null?o=o.set(J(),!0):tt(r.children,s=>{o=o.set(new oe(s),!0)}),ec(t,new Sv(r.path,o,n))}else return[]}function Xa(t,e,n){return ec(t,new Ho(Jv(),e,n))}function wB(t,e,n){let r=nt.fromObject(n);return ec(t,new bd(Jv(),e,r))}function CB(t,e){return ec(t,new Dd(Jv(),e))}function DB(t,e,n){let r=iy(t,n);if(r){let i=oy(r),o=i.path,s=i.queryId,a=Qe(o,e),c=new Dd(Xv(s),a);return sy(t,o,c)}else return[]}function Od(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||WT(s,e))){let c=yB(s,e,n,r);gB(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Dr(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=SB(f);for(let p=0;p<h.length;++p){let D=h[p],N=D.query,P=KT(t,D);t.listenProvider_.startListening(ja(N),Wa(t,N),P.hashFn,P.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(ja(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(Bd(f));t.listenProvider_.stopListening(ja(f),h)}))}AB(t,l)}return a}function GT(t,e,n,r){let i=iy(t,r);if(i!=null){let o=oy(i),s=o.path,a=o.queryId,c=Qe(s,e),l=new Ho(Xv(a),c,n);return sy(t,s,l)}else return[]}function bB(t,e,n,r){let i=iy(t,r);if(i){let o=oy(i),s=o.path,a=o.queryId,c=Qe(s,e),l=nt.fromObject(n),u=new bd(Xv(a),c,l);return sy(t,s,u)}else return[]}function Fv(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Qe(f,i);o=o||wr(h,p),s=s||Dr(h)});let a=t.syncPointTree_.get(i);a?(s=s||Dr(a),o=o||wr(a,J())):(a=new Rd,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=L.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let D=wr(p,J());D&&(o=o.updateImmediateChild(h,D))}));let l=WT(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=Bd(e);E(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=NB();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=jd(t.pendingWriteTree_,i),d=vB(a,e,n,u,o,c);if(!l&&!s&&!r){let f=HT(a,e);d=d.concat(MB(t,e,f))}return d}function ry(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Qe(s,e),l=wr(a,c);if(l)return l});return PT(i,e,o,n,!0)}function TB(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Qe(l,n);r=r||wr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||wr(i,J()):(i=new Rd,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new pn(r,!0,!1):null,a=jd(t.pendingWriteTree_,e._path),c=BT(i,e,a,o?s.getNode():L.EMPTY_NODE,o);return uB(c)}function ec(t,e){return qT(e,t.syncPointTree_,null,jd(t.pendingWriteTree_,J()))}function qT(t,e,n,r){if(K(t.path))return YT(t,e,n,r);{let i=e.get(J());n==null&&i!=null&&(n=wr(i,J()));let o=[],s=G(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=FT(r,s);o=o.concat(qT(a,c,l,u))}return i&&(o=o.concat(ny(i,t,r,n))),o}}function YT(t,e,n,r){let i=e.get(J());n==null&&i!=null&&(n=wr(i,J()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=FT(r,s),u=t.operationForChild(s);u&&(o=o.concat(YT(u,a,c,l)))}),i&&(o=o.concat(ny(i,t,r,n))),o}function KT(t,e){let n=e.query,r=Wa(t,n);return{hashFn:()=>(lB(e)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?DB(t,n._path,r):CB(t,n._path);{let o=zU(i,n);return Od(t,n,null,o)}}}}function Wa(t,e){let n=Bd(e);return t.queryToTagMap.get(n)}function Bd(t){return t._path.toString()+"$"+t._queryIdentifier}function iy(t,e){return t.tagToQueryMap.get(e)}function oy(t){let e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oe(t.substr(0,e))}}function sy(t,e,n){let r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");let i=jd(t.pendingWriteTree_,e);return ny(r,n,i,null)}function SB(t){return t.fold((e,n,r)=>{if(n&&Dr(n))return[Ud(n)];{let i=[];return n&&(i=$T(n)),tt(r,(o,s)=>{i=i.concat(s)}),i}})}function ja(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(EB())(t._repo,t._path):t}function AB(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Bd(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function NB(){return IB++}function MB(t,e,n){let r=e._path,i=Wa(t,e),o=KT(t,n),s=t.listenProvider_.startListening(ja(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)E(!Dr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!K(l)&&u&&Dr(u))return[Ud(u).query];{let f=[];return u&&(f=f.concat($T(u).map(h=>h.query))),tt(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(ja(u),Wa(t,u))}}return s}var Lv=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Vv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ae(this.path_,e);return new t(this.syncTree_,n)}node(){return ry(this.syncTree_,this.path_)}},RB=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Q0=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kB(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},kB=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);let i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},OB=function(t,e,n,r){return ay(e,new Vv(n,t),r)},ZT=function(t,e,n){return ay(t,new Lv(e),n)};function ay(t,e,n){let r=t.getPriority().val(),i=Q0(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Q0(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Uo(a,Me(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Uo(i))),s.forEachChild(Ee,(a,c)=>{let l=ay(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var za=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function cy(t,e){let n=e instanceof oe?e:new oe(e),r=t,i=G(n);for(;i!==null;){let o=oi(r.node.children,i)||{children:{},childCount:0};r=new za(i,r,o),n=ue(n),i=G(n)}return r}function qo(t){return t.node.value}function QT(t,e){t.node.value=e,jv(t)}function JT(t){return t.node.childCount>0}function PB(t){return qo(t)===void 0&&!JT(t)}function $d(t,e){tt(t.node.children,(n,r)=>{e(new za(n,t,r))})}function XT(t,e,n,r){n&&!r&&e(t),$d(t,i=>{XT(i,e,!0,r)}),n&&r&&e(t)}function FB(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function tc(t){return new oe(t.parent===null?t.name:tc(t.parent)+"/"+t.name)}function jv(t){t.parent!==null&&LB(t.parent,t.name,t)}function LB(t,e,n){let r=PB(n),i=ln(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,jv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,jv(t))}var VB=/[\[\].#$\/\u0000-\u001F\u007F]/,jB=/[\[\].#$\u0000-\u001F\u007F]/,Qg=10*1024*1024,eS=function(t){return typeof t=="string"&&t.length!==0&&!VB.test(t)},tS=function(t){return typeof t=="string"&&t.length!==0&&!jB.test(t)},UB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tS(t)};var BB=function(t,e,n,r){r&&e===void 0||ly(Lu(t,"value"),e,n)},ly=function(t,e,n){let r=n instanceof oe?new dv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hi(r));if(typeof e=="function")throw new Error(t+"contains a function "+hi(r)+" with contents = "+e.toString());if(rT(e))throw new Error(t+"contains "+e.toString()+" "+hi(r));if(typeof e=="string"&&e.length>Qg/3&&pa(e)>Qg)throw new Error(t+"contains a string greater than "+Qg+" utf8 bytes "+hi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(tt(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!eS(s)))throw new Error(t+" contains an invalid key ("+s+") "+hi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);E2(r,s),ly(t,a,r),I2(r)}),i&&o)throw new Error(t+' contains ".value" child '+hi(r)+" in addition to actual children.")}};var nS=function(t,e,n,r){if(!(r&&n===void 0)&&!tS(n))throw new Error(Lu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$B=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),nS(t,e,n,r)},rS=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},HB=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!eS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UB(n))throw new Error(Lu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Uv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function uy(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Kv(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function iS(t,e,n){uy(t,n),oS(t,r=>Kv(r,e))}function mn(t,e,n){uy(t,n),oS(t,r=>Gt(r,e)||Gt(e,r))}function oS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(WB(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WB(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();gi&&Ue("event: "+n.toString()),Go(r)}}}var zB="repo_interrupt",GB=25,Bv=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Uv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cd(),this.transactionQueueTree_=new za,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function qB(t,e,n){if(t.stats_=Yv(t.repoInfo_),t.forceRestClient_||KU())t.server_=new wv(t.repoInfo_,(r,i,o,s)=>{J0(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>X0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Zv(t.repoInfo_,e,(r,i,o,s)=>{J0(t,r,i,o,s)},r=>{X0(t,r)},r=>{KB(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=QU(t.repoInfo_,()=>new Tv(t.stats_,t.server_)),t.infoData_=new Cv,t.infoSyncTree_=new kd({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Xa(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),fy(t,"connected",!1),t.serverSyncTree_=new kd({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);mn(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function YB(t){let n=t.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dy(t){return RB({timestamp:YB(t)})}function J0(t,e,n,r,i){t.dataUpdateCount++;let o=new oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=ha(n,l=>Me(l));s=bB(t.serverSyncTree_,o,c,i)}else{let c=Me(n);s=GT(t.serverSyncTree_,o,c,i)}else if(r){let c=ha(n,l=>Me(l));s=wB(t.serverSyncTree_,o,c)}else{let c=Me(n);s=Xa(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Wd(t,o)),mn(t.eventQueue_,a,s)}function X0(t,e){fy(t,"connected",e),e===!1&&JB(t)}function KB(t,e){tt(e,(n,r)=>{fy(t,n,r)})}function fy(t,e,n){let r=new oe("/.info/"+e),i=Me(n);t.infoData_.updateSnapshot(r,i);let o=Xa(t.infoSyncTree_,r,i);mn(t.eventQueue_,r,o)}function sS(t){return t.nextWriteId_++}function ZB(t,e,n){let r=TB(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Me(i).withIndex(e._queryParams.getIndex());Fv(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Xa(t.serverSyncTree_,e._path,o);else{let a=Wa(t.serverSyncTree_,e);s=GT(t.serverSyncTree_,e._path,o,a)}return mn(t.eventQueue_,e._path,s),Od(t.serverSyncTree_,e,n,null,!0),o},i=>(Hd(t,"get for query "+De(e)+" failed: "+i),Promise.reject(new Error(i))))}function QB(t,e,n,r,i){Hd(t,"set",{path:e.toString(),value:n,priority:r});let o=dy(t),s=Me(n,r),a=ry(t.serverSyncTree_,e),c=ZT(s,a,o),l=sS(t),u=zT(t.serverSyncTree_,e,c,l,!0);uy(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||et("set at "+e+" failed: "+f);let D=mi(t.serverSyncTree_,l,!p);mn(t.eventQueue_,e,D),t$(t,i,f,h)});let d=dS(t,e);Wd(t,d),mn(t.eventQueue_,d,[])}function JB(t){Hd(t,"onDisconnectEvents");let e=dy(t),n=Cd();Dv(t.onDisconnect_,J(),(i,o)=>{let s=OB(i,o,t.serverSyncTree_,e);MT(n,i,s)});let r=[];Dv(n,J(),(i,o)=>{r=r.concat(Xa(t.serverSyncTree_,i,o));let s=dS(t,i);Wd(t,s)}),t.onDisconnect_=Cd(),mn(t.eventQueue_,J(),r)}function XB(t,e,n){let r;G(e._path)===".info"?r=Fv(t.infoSyncTree_,e,n):r=Fv(t.serverSyncTree_,e,n),iS(t.eventQueue_,e._path,r)}function $v(t,e,n){let r;G(e._path)===".info"?r=Od(t.infoSyncTree_,e,n):r=Od(t.serverSyncTree_,e,n),iS(t.eventQueue_,e._path,r)}function e$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zB)}function Hd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ue(n,...e)}function t$(t,e,n,r){e&&Go(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function aS(t,e,n){return ry(t.serverSyncTree_,e,n)||L.EMPTY_NODE}function hy(t,e=t.transactionQueueTree_){if(e||zd(t,e),qo(e)){let n=lS(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&n$(t,tc(e),n)}else JT(e)&&$d(e,n=>{hy(t,n)})}function n$(t,e,n){let r=n.map(l=>l.currentWriteId),i=aS(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];E(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Qe(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Hd(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(mi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();zd(t,cy(t.transactionQueueTree_,e)),hy(t,t.transactionQueueTree_),mn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Go(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{et("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Wd(t,e)}},s)}function Wd(t,e){let n=cS(t,e),r=tc(n),i=lS(t,n);return r$(t,i,r),r}function r$(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Qe(n,c.path),u=!1,d;if(E(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(mi(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=GB)u=!0,d="maxretry",i=i.concat(mi(t.serverSyncTree_,c.currentWriteId,!0));else{let f=aS(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){ly("transaction failed: Data returned ",h,c.path);let p=Me(h);typeof h=="object"&&h!=null&&ln(h,".priority")||(p=p.updatePriority(f.getPriority()));let N=c.currentWriteId,P=dy(t),pe=ZT(p,f,P);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=pe,c.currentWriteId=sS(t),s.splice(s.indexOf(N),1),i=i.concat(zT(t.serverSyncTree_,c.path,pe,c.currentWriteId,c.applyLocally)),i=i.concat(mi(t.serverSyncTree_,N,!0))}else u=!0,d="nodata",i=i.concat(mi(t.serverSyncTree_,c.currentWriteId,!0))}mn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}zd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Go(r[a]);hy(t,t.transactionQueueTree_)}function cS(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&qo(r)===void 0;)r=cy(r,n),e=ue(e),n=G(e);return r}function lS(t,e){let n=[];return uS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function uS(t,e,n){let r=qo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);$d(e,i=>{uS(t,i,n)})}function zd(t,e){let n=qo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,QT(e,n.length>0?n:void 0)}$d(e,r=>{zd(t,r)})}function dS(t,e){let n=tc(cS(t,e)),r=cy(t.transactionQueueTree_,e);return FB(r,i=>{Jg(t,i)}),Jg(t,r),XT(r,i=>{Jg(t,i)}),n}function Jg(t,e){let n=qo(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(E(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(E(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(mi(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?QT(e,void 0):n.length=o+1,mn(t.eventQueue_,tc(e),i);for(let s=0;s<r.length;s++)Go(r[s])}}function i$(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function o$(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):et(`Invalid query segment '${n}' in query '${t}'`)}return e}var eT=function(t,e){let n=s$(t),r=n.namespace;n.domain==="firebase.com"&&Un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||UU();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new md(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new oe(n.pathString)}},s$=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=i$(t.substring(u,d)));let f=o$(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Pd=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De(this.snapshot.exportVal())}},Fd=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ga=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Hv=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:IT(this._path)}get ref(){return new gn(this._repo,this._path)}get _queryIdentifier(){let e=U0(this._queryParams),n=qv(e);return n==="{}"?"default":n}get _queryObject(){return U0(this._queryParams)}isEqual(e){if(e=Ve(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Kv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+_2(this._path)}};var gn=class t extends Hv{constructor(e,n){super(e,n,new Iv,!1)}get parent(){let e=CT(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},qa=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new oe(e),r=Ya(this.ref,e);return new t(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Ya(this.ref,r),Ee)))}hasChild(e){let n=new oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function fS(t,e){return t=Ve(t),t._checkNotDeleted("ref"),e!==void 0?Ya(t._root,e):t._root}function Ya(t,e){return t=Ve(t),G(t._path)===null?$B("child","path",e,!1):nS("child","path",e,!1),new gn(t._repo,Ae(t._path,e))}function hS(t){return rS("remove",t._path),py(t,null)}function py(t,e){t=Ve(t),rS("set",t._path),BB("set",e,t._path,!1);let n=new dr;return QB(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Gd(t){t=Ve(t);let e=new Ga(()=>{}),n=new Ka(e);return ZB(t._repo,t,n).then(r=>new qa(r,new gn(t._repo,t._path),t._queryParams.getIndex()))}var Ka=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Pd("value",this,new qa(e.snapshotNode,new gn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Fd(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Ld=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Fd(this,e,n):null}createEvent(e,n){E(e.childName!=null,"Child events should have a childName.");let r=Ya(new gn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Pd(e.type,this,new qa(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function nc(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{$v(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Ga(n,o||void 0),a=e==="value"?new Ka(s):new Ld(e,s);return XB(t._repo,t,a),()=>$v(t._repo,t,a)}function my(t,e,n,r){return nc(t,"value",e,n,r)}function gy(t,e,n,r){return nc(t,"child_added",e,n,r)}function vy(t,e,n,r){return nc(t,"child_changed",e,n,r)}function yy(t,e,n,r){return nc(t,"child_moved",e,n,r)}function _y(t,e,n,r){return nc(t,"child_removed",e,n,r)}function Ey(t,e,n){let r=null,i=n?new Ga(n):null;e==="value"?r=new Ka(i):e&&(r=new Ld(e,i)),$v(t._repo,t,r)}pB(gn);_B(gn);var a$="FIREBASE_DATABASE_EMULATOR_HOST",Wv={},c$=!1;function l$(t,e,n,r){t.repoInfo_=new md(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function u$(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=eT(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[a$]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=eT(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Fa(Fa.OWNER):new iv(t.name,t.options,e);HB("Invalid Firebase Database URL",s),K(s.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");let d=f$(a,t,u,new rv(t.name,n));return new zv(d,t)}function d$(t,e){let n=Wv[e];(!n||n[t.key]!==t)&&Un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),e$(t),delete n[t.key]}function f$(t,e,n,r){let i=Wv[e.name];i||(i={},Wv[e.name]=i);let o=i[t.toURLString()];return o&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Bv(t,c$,n,r),i[t.toURLString()]=o,o}var zv=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gn(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(d$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Un("Cannot call "+e+" on a deleted database.")}};function pS(t=To(),e){let n=ya(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=UD("database");r&&mS(n,...r)}return n}function mS(t,e,n,r={}){t=Ve(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fa(Fa.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:BD(r.mockUserToken,t.app.options.projectId);o=new Fa(s)}l$(i,e,n,o)}function h$(t){LU(gr),mr(new bt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return u$(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),be(C0,D0,t),be(C0,D0,"esm2017")}Zv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};h$();var Ei,Oe=function(t){return t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value",t}(Oe||{}),p$=Object.freeze((Ei={},Ei[Oe.added]=gy,Ei[Oe.removed]=_y,Ei[Oe.changed]=vy,Ei[Oe.moved]=yy,Ei[Oe.value]=my,Ei));function gS(t,e){return new j(function(n){var r=p$[e](t,function(i,o){n.next({snapshot:i,prevKey:o,event:e})},n.error.bind(n));return{unsubscribe:function(){Ey(t,e,r)}}}).pipe(Af(0))}var qd=function(){return qd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qd.apply(this,arguments)};function Iy(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function m$(t){return(t==null||t.length===0)&&(t=[Oe.added,Oe.removed,Oe.changed,Oe.moved]),t}function vS(t,e){var n;e===void 0&&(e={});var r=t.snapshot.val();return!t.snapshot.exists()||typeof r!="object"?r:qd(qd({},r),e.keyField?(n={},n[e.keyField]=t.snapshot.key,n):null)}function g$(t){return ae(Gd(t)).pipe(k(function(e){var n=Oe.value;return{snapshot:e,prevKey:null,event:n}}))}function yS(t,e){e===void 0&&(e={});var n=m$(e.events);return g$(t).pipe(He(function(r){var i=[M(r)];return n.forEach(function(o){i.push(gS(t,o))}),Tf.apply(void 0,i).pipe(cs(y$,[]))}),Nf())}function _S(t,e){return e===void 0&&(e={}),yS(t).pipe(k(function(n){return n.map(function(r){return vS(r,e)})}))}function ES(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].snapshot.key===e)return r;return-1}function v$(t,e){if(e==null)return 0;var n=ES(t,e);return n===-1?t.length:n+1}function y$(t,e){var n=e.snapshot,r=e.prevKey,i=e.event,o=n.key,s=ES(t,o),a=v$(t,r||void 0);switch(i){case Oe.value:if(e.snapshot&&e.snapshot.exists()){var c=null;e.snapshot.forEach(function(d){var f={snapshot:d,event:Oe.value,prevKey:c};return c=d.key,t=Iy(Iy([],t,!0),[f],!1),!1})}return t;case Oe.added:if(s>-1){var l=t[s-1];(l&&l.snapshot.key||null)!==r&&(t=t.filter(function(d){return d.snapshot.key!==n.key}),t.splice(a,0,e))}else{if(r==null)return Iy([e],t,!0);t=t.slice(),t.splice(a,0,e)}return t;case Oe.removed:return t.filter(function(d){return d.snapshot.key!==n.key});case Oe.changed:return t.map(function(d){return d.snapshot.key===o?e:d});case Oe.moved:if(s>-1){var u=t.splice(s,1)[0];return t=t.slice(),t.splice(a,0,u),t}return t;default:return t}}var Bn=class{constructor(e){return e}},IS="database",wy=class{constructor(){return _a(IS)}};var Cy=new T("angularfire2.database-instances");function _$(t,e){let n=$u(IS,t,e);return n&&new Bn(n)}function E$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Bn(r)}}var I$={provide:wy,deps:[[new qe,Cy]]},w$={provide:Bn,useFactory:_$,deps:[[new qe,Cy],On]};function wS(t,...e){return be("angularfire",ci.full,"rtdb"),st([w$,I$,{provide:Cy,useFactory:E$(t),multi:!0,deps:[re,Fe,No,li,[new qe,Na],[new qe,Ao],...e]}])}var CS=je(_S,!0);var DS=je(Gd,!0),bS=je(pS,!0);var Yo=je(fS,!0);var TS=je(hS,!0);var SS=je(py,!0);var Ko=class t{constructor(e){this.database=e}tasklist=[new pt(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1),new pt(2,"Tarea 2","Descripci\xF3n Tarea 2","H","IP",new Date("11/5/2024"),new Date("11/16/2024"),!1),new pt(3,"Tarea 3","Descripci\xF3n Tarea 3","L","IP",new Date("11/21/2024"),new Date("11/30/2024"),!1),new pt(4,"Tarea 4","Descripci\xF3n Tarea 4","H","C",new Date("11/8/2024"),new Date("11/21/2024"),!1),new pt(5,"Tarea 5","Descripci\xF3n Tarea 5","M","P",new Date("11/10/2024"),new Date("11/30/2024"),!1)];task=new pt(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1);getAllTasks(){let e=Yo(this.database,"/taskList");return CS(e)}remove(e){let n=Yo(this.database,`/taskList/${e}`);return TS(n)}getTasks(){return this.tasklist}addNewTask(e){console.log("A\xF1adiendo tarea al servicio:",e),this.tasklist.push(e)}saveTask(e){let n=this.tasklist.findIndex(r=>r.id===e.id);n>-1&&(this.tasklist[n]=e),this.taskToEdit=null}setTaskToEdit(e){this.taskToEdit=e}taskToEdit=null;modifyTask(e){switch(e.action){case"raiseifpriority":this.raiseifpriority(e.taskId);break;case"deleteTask":this.deleteTask(e.taskId);break;case"lowerPriority":this.lowerPriority(e.taskId);break;case"setStatus":this.setStatus(e.taskId);break;default:break}}setStatus(e){for(let n=0;n<this.tasklist.length;n++)if(this.tasklist[n].id==e){this.tasklist[n].status=="C"?this.tasklist[n].status="P":this.tasklist[n].status=="IP"?this.tasklist[n].status="C":this.tasklist[n].status="IP";break}}deleteTask(e){for(let n=0;n<this.tasklist.length;n++)if(this.tasklist[n].id==e){this.tasklist[n].isDelete=!0;break}}lowerPriority(e){for(let n=0;n<this.tasklist.length;n++)if(this.tasklist[n].id==e){this.tasklist[n].priority=="H"?this.tasklist[n].priority="M":this.tasklist[n].priority=="M"&&(this.tasklist[n].priority="L");break}}raiseifpriority(e){for(let n=0;n<this.tasklist.length;n++)if(this.tasklist[n].id==e){this.tasklist[n].priority=="M"?this.tasklist[n].priority="H":this.tasklist[n].priority=="L"&&(this.tasklist[n].priority="M");break}}static \u0275fac=function(n){return new(n||t)(x(Bn))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var Zo=class t{constructor(e){this.database=e}COLLECTION_NAME="persons";savePerson(e){let n=Yo(this.database,`/${this.COLLECTION_NAME}/${e.uid}`);return SS(n,e).then(()=>{console.log("Person saved successfully")})}getPersonByUid(e){let n=Yo(this.database,`/${this.COLLECTION_NAME}/${e}`);return DS(n).then(r=>r.exists()?r.val():(console.warn(`Person with UID ${e} not found.`),null))}static \u0275fac=function(n){return new(n||t)(x(Bn))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var Yd=(t,e)=>({"is-invalid":t,"is-valid":e});function C$(t,e){t&1&&(v(0,"small",16),_(1," El campo nombre es requerido "),g())}function D$(t,e){t&1&&(v(0,"small",16),_(1,"El campo tiene que tener menos de 50 caracteres"),g())}function b$(t,e){t&1&&(v(0,"small",16),_(1," El campo descripcion es requerido "),g())}function T$(t,e){t&1&&(v(0,"small",16),_(1," El campo prioridad es requerido "),g())}function S$(t,e){t&1&&(v(0,"small",16),_(1," El valor tiene que ser 'H' 'M' O 'L' "),g())}function A$(t,e){t&1&&(v(0,"small",16),_(1," El campo fecha de expiraci\xF3n es requerido "),g())}function N$(t,e){t&1&&(v(0,"small",16),_(1," El campo fecha de expiraci\xF3n tiene que ser mayor al d\xEDa de hoy "),g())}var Qo=class t{constructor(e,n,r,i,o){this.taskService=e;this.route=n;this.authService=i;this.personService=o;this.formTaskEdit=r.group({name:["",[he.required,he.maxLength(50)]],description:["",[he.required,he.maxLength(255)]],priority:["",[he.required,w0()]],expirationDate:["",[he.required,I0()]]})}taskToEdit=null;formTaskEdit;userName="";userLastName="";userEmail="";ngOnInit(){this.route.paramMap.subscribe(n=>{let r=n.get("id");console.log(r)});let e=this.authService.getCurrentUser();this.personService.getPersonByUid(e.uid).then(n=>{n?(this.userName=n.name,this.userLastName=n.surname,this.userEmail=n.email):console.error("No person found for the current user.")})}formSubmit=new de;onSubmit(){if(this.formTaskEdit.valid){let e=this.formTaskEdit.value;if(this.taskToEdit){let n=V(I(I({},this.taskToEdit),e),{expirationDate:new Date(e.expirationDate)});console.log("Editando tarea:",n),this.formSubmit.emit(n)}else{let n=new pt(e.id=-1,e.name,e.description,e.priority,"P",new Date(e.expirationDate),new Date,!1);console.log("A\xF1adiendo nueva tarea:",n),this.formSubmit.emit(n)}this.formTaskEdit.reset()}else console.log("El formulario tiene errores:",this.formTaskEdit.errors)}ngOnChanges(e){if(e.taskToEdit&&e.taskToEdit.currentValue){let n=e.taskToEdit.currentValue;this.formTaskEdit.patchValue({name:n.name,description:n.description,priority:n.priority,expirationDate:n.expirationDate.toISOString().slice(0,16)})}else this.formTaskEdit.reset()}static \u0275fac=function(n){return new(n||t)(b(Ko),b(Rn),b(Eo),b(fn),b(Zo))};static \u0275cmp=ee({type:t,selectors:[["app-taskform"]],inputs:{taskToEdit:"taskToEdit"},outputs:{formSubmit:"formSubmit"},standalone:!0,features:[jt,te],decls:42,vars:27,consts:[[1,"row"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleFormControlInput1"],["type","text","formControlName","name","id","exampleFormControlInput1",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","exampleFormControlTextarea1"],["formControlName","description","id","exampleFormControlTextarea1","rows","10",1,"form-control",3,"ngClass"],["for","exampleFormControlSelect1"],["formControlName","priority","id","exampleFormControlSelect1",1,"form-control",3,"ngClass"],["value","H"],["value","M"],["value","L"],["type","datetime-local","formControlName","expirationDate","id","exampleFromcontrolInput",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary"],[1,"text-danger"]],template:function(n,r){if(n&1&&(v(0,"div")(1,"h1"),_(2),g()(),v(3,"div",0)(4,"div",1)(5,"form",2),X("ngSubmit",function(){return r.onSubmit()}),v(6,"div",3)(7,"label",4),_(8,"Nombre"),g(),Z(9,"input",5),v(10,"div"),Y(11,C$,2,0,"small",6)(12,D$,2,0,"small",6),g()(),v(13,"div",3)(14,"label",7),_(15,"Descripcion"),g(),Z(16,"textarea",8),Y(17,b$,2,0,"small",6),g(),v(18,"div",3)(19,"label",9),_(20,"Prioridad"),g(),v(21,"select",10)(22,"option",11),_(23,"Alta"),g(),v(24,"option",12),_(25,"Media"),g(),v(26,"option",13),_(27,"Baja"),g()(),v(28,"div"),Y(29,T$,2,0,"small",6)(30,S$,2,0,"small",6),g()(),v(31,"div",3)(32,"label",9),_(33,"Fecha expiracion"),g(),Z(34,"input",14),v(35,"div"),Y(36,A$,2,0,"small",6)(37,N$,2,0,"small",6),g()(),Z(38,"br")(39,"br"),v(40,"button",15),_(41,"Guardar Cambios"),g()()()()),n&2){let i,o,s,a,c,l,u,d,f,h,p;w(2),Ep("Bienvenido ",r.userName," ",r.userLastName," - ",r.userEmail,""),w(3),C("formGroup",r.formTaskEdit),w(4),C("ngClass",lt(15,Yd,((i=r.formTaskEdit.get("name"))==null?null:i.invalid)&&((i=r.formTaskEdit.get("name"))==null?null:i.touched),(i=r.formTaskEdit.get("name"))==null?null:i.valid)),w(2),C("ngIf",((o=r.formTaskEdit.get("name"))==null||o.errors==null?null:o.errors.required)&&((o=r.formTaskEdit.get("name"))==null?null:o.touched)),w(),C("ngIf",((s=r.formTaskEdit.get("name"))==null||s.errors==null?null:s.errors.maxlength)&&((s=r.formTaskEdit.get("name"))==null?null:s.touched)),w(4),C("ngClass",lt(18,Yd,((a=r.formTaskEdit.get("description"))==null?null:a.invalid)&&((a=r.formTaskEdit.get("description"))==null?null:a.touched),(a=r.formTaskEdit.get("description"))==null?null:a.valid)),w(),C("ngIf",((c=r.formTaskEdit.get("description"))==null||c.errors==null?null:c.errors.required)&&((c=r.formTaskEdit.get("description"))==null?null:c.touched)),w(4),C("ngClass",lt(21,Yd,((l=r.formTaskEdit.get("priority"))==null?null:l.invalid)&&((l=r.formTaskEdit.get("priority"))==null?null:l.touched),(l=r.formTaskEdit.get("priority"))==null?null:l.valid)),w(8),C("ngIf",((u=r.formTaskEdit.get("priority"))==null||u.errors==null?null:u.errors.required)&&((u=r.formTaskEdit.get("priority"))==null?null:u.touched)),w(),C("ngIf",((d=r.formTaskEdit.get("priority"))==null||d.errors==null?null:d.errors.invalidValuePriority)&&((d=r.formTaskEdit.get("priority"))==null?null:d.touched)),w(4),C("ngClass",lt(24,Yd,((f=r.formTaskEdit.get("expirationDate"))==null?null:f.invalid)&&((f=r.formTaskEdit.get("expirationDate"))==null?null:f.touched),(f=r.formTaskEdit.get("expirationDate"))==null?null:f.valid)),w(2),C("ngIf",((h=r.formTaskEdit.get("expirationDate"))==null||h.errors==null?null:h.errors.required)&&((h=r.formTaskEdit.get("expirationDate"))==null?null:h.touched)),w(),C("ngIf",!(!((p=r.formTaskEdit.get("expirationDate"))==null||p.errors==null)&&p.errors.required)&&((p=r.formTaskEdit.get("expirationDate"))==null||p.errors==null?null:p.errors.invalidDate)&&((p=r.formTaskEdit.get("expirationDate"))==null?null:p.touched))}},dependencies:[Io,_o,RD,kD,ur,ku,vo,yo,ni,ri,Se,or,sn]})};function M$(t,e){if(t&1){let n=wt();Gr(0,5),v(1,"app-resume",6),X("eventTaskModify",function(i){Ye(n);let o=se();return Ke(o.modifyTask(i))})("editTask",function(i){Ye(n);let o=se();return Ke(o.setTaskToEdit(i))}),g(),qr()}if(t&2){let n=e.$implicit;w(),C("task",n)}}var Kd=class t{constructor(e){this.taskService=e}tasklist=[];ngOnInit(){this.tasklist=this.taskService.getTasks()}taskToEdit=null;setTaskToEdit(e){this.taskService.setTaskToEdit(e),this.taskToEdit=this.taskService.taskToEdit}saveTask(e){e.id>0?(console.log("Guardando tarea editada:",e),this.taskService.saveTask(e)):(e.id=Math.floor(Math.random()*1e6),console.log("Guardando nueva tarea:",e),this.taskService.addNewTask(e)),this.tasklist=[...this.taskService.getTasks()],this.taskToEdit=null}modifyTask(e){this.taskService.modifyTask(e)}static \u0275fac=function(n){return new(n||t)(b(Ko))};static \u0275cmp=ee({type:t,selectors:[["app-tasklist"]],standalone:!0,features:[te],decls:5,vars:2,consts:[[1,"container"],[1,"row"],[3,"formSubmit","taskToEdit"],[1,"col-md-12"],["class","ng-container",4,"ngFor","ngForOf"],[1,"ng-container"],[3,"eventTaskModify","editTask","task"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"app-taskform",2),X("formSubmit",function(o){return r.saveTask(o)}),g(),v(3,"div",3),Y(4,M$,2,1,"ng-container",4),g()()()),n&2&&(w(2),C("taskToEdit",r.taskToEdit),w(2),C("ngForOf",r.tasklist))},dependencies:[Se,Jw,fd,Qo]})};var Zd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-tasks"]],standalone:!0,features:[te],decls:3,vars:0,template:function(n,r){n&1&&Z(0,"app-nav-bar")(1,"app-tasklist")(2,"app-footer")},dependencies:[Se,At,Kd,Dt]})};var Qd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-home"]],standalone:!0,features:[te],decls:3,vars:0,template:function(n,r){n&1&&Z(0,"app-nav-bar")(1,"app-taskform")(2,"app-footer")},dependencies:[Se,At,Qo,Dt]})};var Jd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[te],decls:3,vars:0,template:function(n,r){n&1&&Z(0,"app-nav-bar")(1,"router-outlet")(2,"app-footer")},dependencies:[Se,At,ea,Dt]})};var Xd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-notfound"]],standalone:!0,features:[te],decls:9,vars:0,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center",2,"height","100vh","text-align","center"],[1,"display-1","text-danger"],[1,"text-dark"],[1,"text-muted"],["routerLink","/home",1,"btn","btn-primary","mt-3"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2,"404"),g(),v(3,"h2",2),_(4,"P\xE1gina No Encontrada"),g(),v(5,"p",3),_(6,"Lo sentimos, no hemos podido encontrar la p\xE1gina que buscas."),g(),v(7,"a",4),_(8,"Volver al Inicio"),g()())},dependencies:[vu]})};var RS=k(t=>!!t),R$=(()=>{class t{router;auth;constructor(n,r){this.router=n,this.auth=r}canActivate=(n,r)=>{let i=n.data.authGuardPipe||(()=>RS);return f0(this.auth).pipe(Xe(1),i(n,r),k(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(r){return new(r||t)(x($t),x(jn))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Jo=t=>({canActivate:[R$],data:{authGuardPipe:t}});var Xo=t=>is(RS,k(e=>e||t));var ef=class{uid;name;surname;email;role;createdAt;constructor(e,n,r,i,o,s){this.uid=e,this.name=n,this.surname=r,this.email=i,this.role=o,this.createdAt=s}};var tf=(t,e)=>({"is-valid":t,"is-invalid":e});function x$(t,e){t&1&&(v(0,"small"),_(1,"El nombre es obligatorio."),g())}function k$(t,e){t&1&&(v(0,"small"),_(1,"Nombre demasiado largo."),g())}function O$(t,e){if(t&1&&(v(0,"div",17),Y(1,x$,2,0,"small",18)(2,k$,2,0,"small",18),g()),t&2){let n,r,i=se();w(),C("ngIf",(n=i.formSignin.get("name"))==null?null:n.hasError("required")),w(),C("ngIf",(r=i.formSignin.get("name"))==null?null:r.hasError("maxlength"))}}function P$(t,e){t&1&&(v(0,"small"),_(1,"El apellido es obligatorio."),g())}function F$(t,e){t&1&&(v(0,"small"),_(1,"Apellido demasiado largo."),g())}function L$(t,e){t&1&&(v(0,"small"),_(1,"Apellido demasiado corto."),g())}function V$(t,e){if(t&1&&(v(0,"div",17),Y(1,P$,2,0,"small",18)(2,F$,2,0,"small",18)(3,L$,2,0,"small",18),g()),t&2){let n,r,i,o=se();w(),C("ngIf",(n=o.formSignin.get("lastName"))==null?null:n.hasError("required")),w(),C("ngIf",(r=o.formSignin.get("lastName"))==null?null:r.hasError("maxlength")),w(),C("ngIf",(i=o.formSignin.get("lastName"))==null?null:i.hasError("minlength"))}}function j$(t,e){t&1&&(v(0,"small"),_(1,"El email es obligatorio."),g())}function U$(t,e){t&1&&(v(0,"small"),_(1,"Email inv\xE1lido."),g())}function B$(t,e){if(t&1&&(v(0,"div",17),Y(1,j$,2,0,"small",18)(2,U$,2,0,"small",18),g()),t&2){let n,r,i=se();w(),C("ngIf",(n=i.formSignin.get("email"))==null?null:n.hasError("required")),w(),C("ngIf",(r=i.formSignin.get("email"))==null?null:r.hasError("email"))}}function $$(t,e){t&1&&(v(0,"small"),_(1,"La contrase\xF1a es obligatoria."),g())}function H$(t,e){t&1&&(v(0,"small"),_(1,"La contrase\xF1a debe tener al menos 6 caracteres."),g())}function W$(t,e){if(t&1&&(v(0,"div",17),Y(1,$$,2,0,"small",18)(2,H$,2,0,"small",18),g()),t&2){let n,r,i=se();w(),C("ngIf",(n=i.formSignin.get("password"))==null?null:n.hasError("required")),w(),C("ngIf",(r=i.formSignin.get("password"))==null?null:r.hasError("minlength"))}}var nf=class t{constructor(e,n,r,i){this.personService=e;this.formBuilder=n;this.registerservice=r;this.router=i;this.formSignin=this.formBuilder.group({name:["",[he.required,he.maxLength(50),he.minLength(5)]],lastName:["",[he.required,he.maxLength(50),he.minLength(5)]],email:["",[he.required,he.email]],password:["",[he.required,he.minLength(6)]],admin:[""]})}formSignin;Onsubmit(){this.formSignin.valid&&(console.log("Formulario Valido"),this.registerservice.register(this.formSignin.value).then(e=>{let n=this.formSignin.get("name")?.value,r=this.formSignin.get("lastName")?.value,i=this.formSignin.get("email")?.value,s=this.formSignin.get("admin")?.value?"ADMIN":"USER",a=new Date().toISOString(),c=new ef(e.user.uid,n,r,i,s,a);this.personService.savePerson(c),console.log(e),this.router.navigate(["/login"])}).catch(e=>console.log(e)))}static \u0275fac=function(n){return new(n||t)(b(Zo),b(Eo),b(fn),b($t))};static \u0275cmp=ee({type:t,selectors:[["app-signin"]],standalone:!0,features:[te],decls:33,vars:21,consts:[[1,"container"],[1,"text-center","mt-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese su nombre","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","apellidos",1,"form-label"],["type","text","id","apellidos","placeholder","Ingrese sus apellidos","required","","formControlName","lastName",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Ingrese su email","required","","formControlName","email",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Ingrese su contrase\xF1a","formControlName","password",1,"form-control",3,"ngClass"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","admin","formControlName","admin",1,"form-check-input"],["for","admin",1,"form-check-label"],["type","submit",1,"btn","btn-primary"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){if(n&1&&(Z(0,"app-nav-bar"),v(1,"div",0)(2,"h1",1),_(3,"Sign In!"),g(),v(4,"form",2),X("ngSubmit",function(){return r.Onsubmit()}),v(5,"div",3)(6,"label",4),_(7,"Nombre"),g(),Z(8,"input",5),Y(9,O$,3,2,"div",6),g(),v(10,"div",3)(11,"label",7),_(12,"Apellidos"),g(),Z(13,"input",8),Y(14,V$,4,3,"div",6),g(),v(15,"div",3)(16,"label",9),_(17,"Email"),g(),Z(18,"input",10),Y(19,B$,3,2,"div",6),g(),v(20,"div",3)(21,"label",11),_(22,"Contrase\xF1a"),g(),Z(23,"input",12),Y(24,W$,3,2,"div",6),g(),v(25,"div",3)(26,"div",13),Z(27,"input",14),v(28,"label",15),_(29,"Admin"),g()()(),v(30,"button",16),_(31,"Registrarse"),g()()(),Z(32,"app-footer")),n&2){let i,o,s,a,c,l,u,d;w(4),C("formGroup",r.formSignin),w(4),C("ngClass",lt(9,tf,((i=r.formSignin.get("name"))==null?null:i.valid)&&((i=r.formSignin.get("name"))==null?null:i.touched),((i=r.formSignin.get("name"))==null?null:i.invalid)&&((i=r.formSignin.get("name"))==null?null:i.touched))),w(),C("ngIf",((o=r.formSignin.get("name"))==null?null:o.invalid)&&((o=r.formSignin.get("name"))==null?null:o.touched)),w(4),C("ngClass",lt(12,tf,((s=r.formSignin.get("lastName"))==null?null:s.valid)&&((s=r.formSignin.get("lastName"))==null?null:s.touched),((s=r.formSignin.get("lastName"))==null?null:s.invalid)&&((s=r.formSignin.get("lastName"))==null?null:s.touched))),w(),C("ngIf",((a=r.formSignin.get("lastname"))==null?null:a.invalid)&&((a=r.formSignin.get("lastname"))==null?null:a.touched)),w(4),C("ngClass",lt(15,tf,((c=r.formSignin.get("email"))==null?null:c.valid)&&((c=r.formSignin.get("email"))==null?null:c.touched),((c=r.formSignin.get("email"))==null?null:c.invalid)&&((c=r.formSignin.get("email"))==null?null:c.touched))),w(),C("ngIf",((l=r.formSignin.get("email"))==null?null:l.invalid)&&((l=r.formSignin.get("email"))==null?null:l.touched)),w(4),C("ngClass",lt(18,tf,((u=r.formSignin.get("password"))==null?null:u.valid)&&((u=r.formSignin.get("password"))==null?null:u.touched),((u=r.formSignin.get("password"))==null?null:u.invalid)&&((u=r.formSignin.get("password"))==null?null:u.touched))),w(),C("ngIf",((d=r.formSignin.get("password"))==null?null:d.invalid)&&((d=r.formSignin.get("password"))==null?null:d.touched))}},dependencies:[Se,or,sn,Io,_o,ur,Am,vo,yo,Om,ni,ri,At,Dt]})};var xS=[{path:"login",component:dd},{path:"singin",component:nf},I({path:"home",component:Qd},Jo(()=>Xo(["/login"]))),I({path:"tasks",component:Zd},Jo(()=>Xo(["/login"]))),V(I({path:"dashboard",component:Jd},Jo(()=>Xo(["/login"]))),{children:[I({path:"stats",component:yu},Jo(()=>Xo(["/login"]))),I({path:"profile",component:_u},Jo(()=>Xo(["/login"])))]}),{path:"notfound",component:Xd},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/notfound",pathMatch:"full"}];var kS={providers:[Vw({eventCoalescing:!0}),tD(xS),_C(),fb(()=>hb({projectId:"cursoangular-6ee11",appId:"1:210511153591:web:cde1f0d9a177adf4708032",storageBucket:"cursoangular-6ee11.firebasestorage.app",apiKey:"AIzaSyAU9xlUakMIwTS4CWC7kEvqkNY9mWzzBeQ",authDomain:"cursoangular-6ee11.firebaseapp.com",messagingSenderId:"210511153591",databaseURL:"https://cursoangular-6ee11-default-rtdb.europe-west1.firebasedatabase.app"})),d0(()=>p0()),wS(()=>bS())]};var rf=class t{title="angular-tutorial-app";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-root"]],standalone:!0,features:[te],decls:1,vars:0,template:function(n,r){n&1&&Z(0,"router-outlet")},dependencies:[ea,PD]})};vC(rf,kS).catch(t=>console.error(t));
